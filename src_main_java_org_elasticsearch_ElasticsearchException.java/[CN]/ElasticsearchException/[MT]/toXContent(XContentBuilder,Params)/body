{
  if (this instanceof ElasticsearchWrapperException) {
    toXContent(builder,params,this);
  }
 else {
    builder.field("type",getExceptionName(this));
    builder.field("reason",getMessage());
    innerToXContent(builder,params);
  }
  return builder;
}
