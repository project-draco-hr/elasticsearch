{
  XContentParser.Token token;
  String fieldName=null;
  CompletionSuggestionContext suggestion=new CompletionSuggestionContext(completionSuggester);
  while ((token=parser.nextToken()) != XContentParser.Token.END_OBJECT) {
    if (token == XContentParser.Token.FIELD_NAME) {
      fieldName=parser.currentName();
    }
 else     if (token.isValue()) {
      parseSuggestContext(parser,mapperService,fieldName,suggestion);
      suggestion.mapper(mapperService.smartNameFieldMapper(suggestion.getField()));
    }
 else {
      throw new ElasticSearchIllegalArgumentException("suggester[completion]  doesn't support field [" + fieldName + "]");
    }
  }
  return suggestion;
}
