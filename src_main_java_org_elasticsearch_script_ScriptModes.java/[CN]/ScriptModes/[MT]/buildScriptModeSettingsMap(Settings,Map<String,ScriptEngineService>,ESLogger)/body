{
  HashMap<String,ScriptMode> scriptModesMap=Maps.newHashMap();
  addGlobalScriptTypeModes(scriptEngines.keySet(),ScriptType.FILE,ScriptMode.ON,scriptModesMap);
  addGlobalScriptTypeModes(scriptEngines.keySet(),ScriptType.INDEXED,ScriptMode.SANDBOX,scriptModesMap);
  addGlobalScriptTypeModes(scriptEngines.keySet(),ScriptType.INLINE,ScriptMode.SANDBOX,scriptModesMap);
  List<String> processedSettings=Lists.newArrayList();
  processSourceBasedGlobalSettings(settings,scriptEngines,processedSettings,scriptModesMap);
  processOperationBasedGlobalSettings(settings,scriptEngines,processedSettings,scriptModesMap);
  processEngineSpecificSettings(settings,scriptEngines,processedSettings,scriptModesMap);
  processDisableDynamicDeprecatedSetting(settings,scriptEngines,processedSettings,scriptModesMap,logger);
  return ImmutableMap.copyOf(scriptModesMap);
}
