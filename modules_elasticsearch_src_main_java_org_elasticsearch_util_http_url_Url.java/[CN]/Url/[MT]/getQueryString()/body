{
  String result=null;
  if (!params.isEmpty()) {
    StringBuilder builder=new StringBuilder();
    for (Iterator<Map.Entry<String,List<String>>> i=params.entrySet().iterator(); i.hasNext(); ) {
      Map.Entry<String,List<String>> param=i.next();
      String name=param.getKey();
      for (Iterator<String> j=param.getValue().iterator(); j.hasNext(); ) {
        String value=j.next();
        builder.append(name);
        if (value != null) {
          builder.append('=');
          try {
            builder.append(URLEncoder.encode(value,"UTF-8"));
          }
 catch (          UnsupportedEncodingException e) {
            throw new IllegalStateException(e);
          }
        }
        if (j.hasNext()) {
          builder.append('&');
        }
      }
      if (i.hasNext()) {
        builder.append('&');
      }
    }
    result=builder.toString();
  }
  return result;
}
