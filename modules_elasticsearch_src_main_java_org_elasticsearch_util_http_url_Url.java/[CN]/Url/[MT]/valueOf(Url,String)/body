{
  final Url result;
  if (!uri.matches("[\\p{Alpha}][\\p{Alnum}-.+_]+://.+")) {
    result=base.clone();
    if (uri.startsWith("/")) {
      result.setUri(uri);
    }
 else {
      String path=base.getPath();
      int index=path.lastIndexOf('/');
      if (index != -1) {
        path=path.substring(0,index + 1) + uri;
      }
 else {
        path="/" + uri;
      }
      result.setUri(path);
    }
  }
 else {
    result=Url.valueOf(uri);
  }
  return result;
}
