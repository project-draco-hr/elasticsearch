{
  final Settings current=Settings.builder().put(this.settings).put(settings).build();
  final Settings previous=Settings.builder().put(this.settings).put(this.lastSettingsApplied).build();
  List<RuntimeException> exceptions=new ArrayList<>();
  for (  SettingUpdater<?> settingUpdater : settingUpdaters) {
    try {
      settingUpdater.getValue(current,previous);
    }
 catch (    RuntimeException ex) {
      exceptions.add(ex);
      logger.debug(new ParameterizedMessage("failed to prepareCommit settings for [{}]",settingUpdater),ex);
    }
  }
  ExceptionsHelper.rethrowAndSuppress(exceptions);
  return current;
}
