{
  CompletionFieldMapper.Builder builder=new CompletionFieldMapper.Builder(name);
  for (  Map.Entry<String,Object> entry : node.entrySet()) {
    String fieldName=entry.getKey();
    Object fieldNode=entry.getValue();
    if (fieldName.equals("type")) {
      continue;
    }
    if (fieldName.equals("analyzer")) {
      builder.indexAnalyzer(parserContext.analysisService().analyzer(fieldNode.toString()));
      builder.searchAnalyzer(parserContext.analysisService().analyzer(fieldNode.toString()));
    }
 else     if (fieldName.equals(Fields.INDEX_ANALYZER) || fieldName.equals("indexAnalyzer")) {
      builder.indexAnalyzer(parserContext.analysisService().analyzer(fieldNode.toString()));
    }
 else     if (fieldName.equals(Fields.SEARCH_ANALYZER) || fieldName.equals("searchAnalyzer")) {
      builder.searchAnalyzer(parserContext.analysisService().analyzer(fieldNode.toString()));
    }
 else     if (fieldName.equals(Fields.PAYLOADS)) {
      builder.payloads(Boolean.parseBoolean(fieldNode.toString()));
    }
 else     if (fieldName.equals(Fields.PRESERVE_SEPARATORS) || fieldName.equals("preserveSeparators")) {
      builder.preserveSeparators(Boolean.parseBoolean(fieldNode.toString()));
    }
 else     if (fieldName.equals(Fields.PRESERVE_POSITION_INCREMENTS) || fieldName.equals("preservePositionIncrements")) {
      builder.preservePositionIncrements(Boolean.parseBoolean(fieldNode.toString()));
    }
  }
  if (builder.searchAnalyzer == null) {
    builder.searchAnalyzer(parserContext.analysisService().analyzer("simple"));
  }
  if (builder.indexAnalyzer == null) {
    builder.indexAnalyzer(parserContext.analysisService().analyzer("simple"));
  }
  builder.postingsFormat(parserContext.postingFormatService().get("default"));
  return builder;
}
