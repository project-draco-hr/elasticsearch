{
  super(settings);
  this.clusterService=clusterService;
  this.transportService=transportService;
  this.shardsAllocation=shardsAllocation;
  this.threadPool=threadPool;
  transportService.registerHandler(ShardStartedTransportHandler.ACTION,new ShardStartedTransportHandler());
  transportService.registerHandler(ShardFailedTransportHandler.ACTION,new ShardFailedTransportHandler());
}
