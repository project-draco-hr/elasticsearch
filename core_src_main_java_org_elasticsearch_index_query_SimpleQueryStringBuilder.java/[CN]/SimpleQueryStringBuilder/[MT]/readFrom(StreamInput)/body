{
  SimpleQueryStringBuilder result=new SimpleQueryStringBuilder(in.readString());
  result.boost=in.readFloat();
  int size=in.readInt();
  Map<String,Float> fields=new HashMap<>();
  for (int i=0; i < size; i++) {
    String field=in.readString();
    Float weight=in.readFloat();
    fields.put(field,weight);
  }
  result.fieldsAndWeights.putAll(fields);
  result.flags=in.readInt();
  result.analyzer=in.readOptionalString();
  result.defaultOperator=Operator.parseFromInt(in.readInt());
  result.settings.lowercaseExpandedTerms(in.readBoolean());
  result.settings.lenient(in.readBoolean());
  result.settings.analyzeWildcard(in.readBoolean());
  String localeStr=in.readString();
  result.settings.locale(Locale.forLanguageTag(localeStr));
  result.queryName=in.readOptionalString();
  result.minimumShouldMatch=in.readOptionalString();
  return result;
}
