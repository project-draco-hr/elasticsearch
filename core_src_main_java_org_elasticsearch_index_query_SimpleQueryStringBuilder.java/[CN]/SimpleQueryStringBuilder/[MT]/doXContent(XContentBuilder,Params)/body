{
  builder.startObject(NAME);
  builder.field(SimpleQueryStringParser.QUERY_FIELD.getPreferredName(),queryText);
  if (fieldsAndWeights.size() > 0) {
    builder.startArray(SimpleQueryStringParser.FIELDS_FIELD.getPreferredName());
    for (    Map.Entry<String,Float> entry : fieldsAndWeights.entrySet()) {
      builder.value(entry.getKey() + "^" + entry.getValue());
    }
    builder.endArray();
  }
  if (analyzer != null) {
    builder.field(SimpleQueryStringParser.ANALYZER_FIELD.getPreferredName(),analyzer);
  }
  builder.field(SimpleQueryStringParser.FLAGS_FIELD.getPreferredName(),flags);
  builder.field(SimpleQueryStringParser.DEFAULT_OPERATOR_FIELD.getPreferredName(),defaultOperator.name().toLowerCase(Locale.ROOT));
  builder.field(SimpleQueryStringParser.LOWERCASE_EXPANDED_TERMS_FIELD.getPreferredName(),settings.lowercaseExpandedTerms());
  builder.field(SimpleQueryStringParser.LENIENT_FIELD.getPreferredName(),settings.lenient());
  builder.field(SimpleQueryStringParser.ANALYZE_WILDCARD_FIELD.getPreferredName(),settings.analyzeWildcard());
  builder.field(SimpleQueryStringParser.LOCALE_FIELD.getPreferredName(),(settings.locale().toLanguageTag()));
  if (minimumShouldMatch != null) {
    builder.field(SimpleQueryStringParser.MINIMUM_SHOULD_MATCH_FIELD.getPreferredName(),minimumShouldMatch);
  }
  printBoostAndQueryName(builder);
  builder.endObject();
}
