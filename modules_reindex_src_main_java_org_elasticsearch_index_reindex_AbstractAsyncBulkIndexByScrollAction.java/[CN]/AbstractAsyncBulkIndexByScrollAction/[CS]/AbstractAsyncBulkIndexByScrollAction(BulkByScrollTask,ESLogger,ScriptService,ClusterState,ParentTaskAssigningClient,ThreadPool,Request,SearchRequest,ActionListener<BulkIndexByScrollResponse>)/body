{
  super(task,logger,client,threadPool,mainRequest,firstSearchRequest,listener);
  this.scriptService=scriptService;
  if (mainRequest.getScript() == null) {
    script=null;
  }
 else {
    script=scriptService.compile(mainRequest.getScript(),ScriptContext.Standard.UPDATE,emptyMap(),state);
  }
}
