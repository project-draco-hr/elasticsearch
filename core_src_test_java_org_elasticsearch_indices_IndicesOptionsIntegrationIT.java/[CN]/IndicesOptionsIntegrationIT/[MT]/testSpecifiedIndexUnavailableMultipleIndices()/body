{
  assertAcked(prepareCreate("test1").addMapping("query","query","type=percolator"));
  ensureYellow();
  verify(search("test1","test2"),true);
  verify(msearch(null,"test1","test2"),true);
  verify(clearCache("test1","test2"),true);
  verify(_flush("test1","test2"),true);
  verify(segments("test1","test2"),true);
  verify(stats("test1","test2"),true);
  verify(forceMerge("test1","test2"),true);
  verify(refreshBuilder("test1","test2"),true);
  verify(validateQuery("test1","test2"),true);
  verify(aliasExists("test1","test2"),true);
  verify(typesExists("test1","test2"),true);
  verify(percolate("test1","test2"),true);
  verify(mpercolate(null,"test1","test2"),false);
  verify(getAliases("test1","test2"),true);
  verify(getFieldMapping("test1","test2"),true);
  verify(getMapping("test1","test2"),true);
  verify(getSettings("test1","test2"),true);
  IndicesOptions options=IndicesOptions.strictExpandOpen();
  verify(search("test1","test2").setIndicesOptions(options),true);
  verify(msearch(options,"test1","test2"),true);
  verify(clearCache("test1","test2").setIndicesOptions(options),true);
  verify(_flush("test1","test2").setIndicesOptions(options),true);
  verify(segments("test1","test2").setIndicesOptions(options),true);
  verify(stats("test1","test2").setIndicesOptions(options),true);
  verify(forceMerge("test1","test2").setIndicesOptions(options),true);
  verify(refreshBuilder("test1","test2").setIndicesOptions(options),true);
  verify(validateQuery("test1","test2").setIndicesOptions(options),true);
  verify(aliasExists("test1","test2").setIndicesOptions(options),true);
  verify(typesExists("test1","test2").setIndicesOptions(options),true);
  verify(percolate("test1","test2").setIndicesOptions(options),true);
  verify(mpercolate(options,"test1","test2").setIndicesOptions(options),false);
  verify(getAliases("test1","test2").setIndicesOptions(options),true);
  verify(getFieldMapping("test1","test2").setIndicesOptions(options),true);
  verify(getMapping("test1","test2").setIndicesOptions(options),true);
  verify(getSettings("test1","test2").setIndicesOptions(options),true);
  options=IndicesOptions.lenientExpandOpen();
  verify(search("test1","test2").setIndicesOptions(options),false);
  verify(msearch(options,"test1","test2").setIndicesOptions(options),false);
  verify(clearCache("test1","test2").setIndicesOptions(options),false);
  verify(_flush("test1","test2").setIndicesOptions(options),false);
  verify(segments("test1","test2").setIndicesOptions(options),false);
  verify(stats("test1","test2").setIndicesOptions(options),false);
  verify(forceMerge("test1","test2").setIndicesOptions(options),false);
  verify(refreshBuilder("test1","test2").setIndicesOptions(options),false);
  verify(validateQuery("test1","test2").setIndicesOptions(options),false);
  verify(aliasExists("test1","test2").setIndicesOptions(options),false);
  verify(typesExists("test1","test2").setIndicesOptions(options),false);
  verify(percolate("test1","test2").setIndicesOptions(options),false);
  verify(mpercolate(options,"test1","test2").setIndicesOptions(options),false);
  verify(getAliases("test1","test2").setIndicesOptions(options),false);
  verify(getFieldMapping("test1","test2").setIndicesOptions(options),false);
  verify(getMapping("test1","test2").setIndicesOptions(options),false);
  verify(getSettings("test1","test2").setIndicesOptions(options),false);
  options=IndicesOptions.strictExpandOpen();
  assertAcked(prepareCreate("test2").addMapping("query","query","type=percolator"));
  ensureYellow();
  verify(search("test1","test2").setIndicesOptions(options),false);
  verify(msearch(options,"test1","test2").setIndicesOptions(options),false);
  verify(clearCache("test1","test2").setIndicesOptions(options),false);
  verify(_flush("test1","test2").setIndicesOptions(options),false);
  verify(segments("test1","test2").setIndicesOptions(options),false);
  verify(stats("test1","test2").setIndicesOptions(options),false);
  verify(forceMerge("test1","test2").setIndicesOptions(options),false);
  verify(refreshBuilder("test1","test2").setIndicesOptions(options),false);
  verify(validateQuery("test1","test2").setIndicesOptions(options),false);
  verify(aliasExists("test1","test2").setIndicesOptions(options),false);
  verify(typesExists("test1","test2").setIndicesOptions(options),false);
  verify(percolate("test1","test2").setIndicesOptions(options),false);
  verify(mpercolate(options,"test1","test2").setIndicesOptions(options),false);
  verify(getAliases("test1","test2").setIndicesOptions(options),false);
  verify(getFieldMapping("test1","test2").setIndicesOptions(options),false);
  verify(getMapping("test1","test2").setIndicesOptions(options),false);
  verify(getSettings("test1","test2").setIndicesOptions(options),false);
}
