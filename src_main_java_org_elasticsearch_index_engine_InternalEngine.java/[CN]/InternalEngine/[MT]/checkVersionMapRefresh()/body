{
  if (versionMap.ramBytesUsedForRefresh() > config().getVersionMapSize().bytes() && versionMapRefreshPending.getAndSet(true) == false) {
    try {
      if (isClosed.get()) {
        return;
      }
      engineConfig.getThreadPool().executor(ThreadPool.Names.REFRESH).execute(new Runnable(){
        @Override public void run(){
          try {
            refresh("version_table_full");
          }
 catch (          EngineClosedException ex) {
          }
        }
      }
);
    }
 catch (    EsRejectedExecutionException ex) {
    }
  }
}
