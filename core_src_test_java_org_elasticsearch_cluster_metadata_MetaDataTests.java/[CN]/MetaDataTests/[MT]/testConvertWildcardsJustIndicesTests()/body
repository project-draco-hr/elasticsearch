{
  MetaData.Builder mdBuilder=MetaData.builder().put(indexBuilder("testXXX")).put(indexBuilder("testXYY")).put(indexBuilder("testYYY")).put(indexBuilder("kuku"));
  MetaData md=mdBuilder.build();
  assertThat(newHashSet(md.convertFromWildcards(new String[]{"testXXX"},IndicesOptions.lenientExpandOpen())),equalTo(newHashSet("testXXX")));
  assertThat(newHashSet(md.convertFromWildcards(new String[]{"testXXX","testYYY"},IndicesOptions.lenientExpandOpen())),equalTo(newHashSet("testXXX","testYYY")));
  assertThat(newHashSet(md.convertFromWildcards(new String[]{"testXXX","ku*"},IndicesOptions.lenientExpandOpen())),equalTo(newHashSet("testXXX","kuku")));
  assertThat(newHashSet(md.convertFromWildcards(new String[]{"test*"},IndicesOptions.lenientExpandOpen())),equalTo(newHashSet("testXXX","testXYY","testYYY")));
  assertThat(newHashSet(md.convertFromWildcards(new String[]{"testX*"},IndicesOptions.lenientExpandOpen())),equalTo(newHashSet("testXXX","testXYY")));
  assertThat(newHashSet(md.convertFromWildcards(new String[]{"testX*","kuku"},IndicesOptions.lenientExpandOpen())),equalTo(newHashSet("testXXX","testXYY","kuku")));
}
