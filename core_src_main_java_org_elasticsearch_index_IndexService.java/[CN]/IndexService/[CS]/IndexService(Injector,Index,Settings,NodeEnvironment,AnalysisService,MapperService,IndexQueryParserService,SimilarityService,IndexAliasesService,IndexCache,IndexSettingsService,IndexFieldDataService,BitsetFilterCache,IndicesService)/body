{
  super(index,indexSettings);
  this.injector=injector;
  this.indexSettings=indexSettings;
  this.analysisService=analysisService;
  this.mapperService=mapperService;
  this.queryParserService=queryParserService;
  this.similarityService=similarityService;
  this.aliasesService=aliasesService;
  this.indexCache=indexCache;
  this.indexFieldData=indexFieldData;
  this.settingsService=settingsService;
  this.bitsetFilterCache=bitSetFilterCache;
  this.pluginsService=injector.getInstance(PluginsService.class);
  this.indicesServices=indicesServices;
  this.indicesLifecycle=(InternalIndicesLifecycle)injector.getInstance(IndicesLifecycle.class);
  indexFieldData.setListener(new FieldDataCacheListener(this));
  bitSetFilterCache.setListener(new BitsetCacheListener(this));
  this.nodeEnv=nodeEnv;
}
