{
  final int numDocs=getDocCounts().get(bucketOrd);
  final GeoPoint oldCentroid=new GeoPoint();
  final GeoPoint nextLoc=new GeoPoint();
  if (numDocs > 1) {
    final long curCentroid=bucketCentroids.get(bucketOrd);
    oldCentroid.resetFromGeoHash(curCentroid);
    nextLoc.resetFromGeoHash(geohash);
    bucketCentroids.set(bucketOrd,XGeoHashUtils.longEncode(oldCentroid.lon() + (nextLoc.lon() - oldCentroid.lon()) / numDocs,oldCentroid.lat() + (nextLoc.lat() - oldCentroid.lat()) / numDocs,XGeoHashUtils.PRECISION));
  }
 else {
    bucketCentroids.set(bucketOrd,geohash);
  }
}
