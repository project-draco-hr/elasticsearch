{
  final int top=top(points,offset,length);
  final int prev=(offset + ((top + length - 1) % length));
  final int next=(offset + ((top + 1) % length));
  boolean orientation=points[offset + prev].x > points[offset + next].x;
  final int rngIdx=(orientation) ? next : prev;
  if (((orientation && component == 0) || (!orientation && component < 0)) && points[offset + top].x - points[offset + rngIdx].x > DATELINE) {
    transform(points);
    orientation=!orientation;
  }
  return concat(component,direction ^ orientation,points,offset,edges,toffset,length);
}
