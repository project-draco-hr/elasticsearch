{
  try (ShardLock lock=shardLocker.lock(shardId,TimeUnit.SECONDS.toMillis(5));Directory dir=new SimpleFSDirectory(indexLocation)){
    failIfCorrupted(dir,shardId);
    SegmentInfos segInfo=Lucene.readSegmentInfos(dir);
    logger.trace("{} loaded segment info [{}]",shardId,segInfo);
  }
 catch (  ShardLockObtainFailedException ex) {
    logger.error("{} unable to acquire shard lock",ex,shardId);
    throw new IOException(ex);
  }
}
