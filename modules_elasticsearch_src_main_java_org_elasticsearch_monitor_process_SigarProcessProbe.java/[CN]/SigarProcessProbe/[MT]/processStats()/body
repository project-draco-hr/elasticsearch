{
  Sigar sigar=sigarService.sigar();
  ProcessStats stats=new ProcessStats();
  stats.timestamp=System.currentTimeMillis();
  try {
    ProcCpu cpu=sigar.getProcCpu(sigar.getPid());
    stats.cpu=new ProcessStats.Cpu();
    stats.cpu.percent=(short)(cpu.getPercent() * 100);
    stats.cpu.sys=cpu.getSys();
    stats.cpu.user=cpu.getUser();
  }
 catch (  SigarException e) {
  }
  try {
    ProcMem mem=sigar.getProcMem(sigar.getPid());
    stats.mem=new ProcessStats.Mem();
    stats.mem.totalVirtual=mem.getSize();
    stats.mem.resident=mem.getResident();
    stats.mem.share=mem.getShare();
  }
 catch (  SigarException e) {
  }
  try {
    ProcFd fd=sigar.getProcFd(sigar.getPid());
    if (fd.getTotal() != Sigar.FIELD_NOTIMPL) {
      stats.fd=new ProcessStats.Fd();
      stats.fd.total=fd.getTotal();
    }
  }
 catch (  SigarException e) {
  }
  return stats;
}
