{
  if (!fieldData.hasValue(doc)) {
    return false;
  }
  if (fieldData.multiValued()) {
    double[] lats=fieldData.latValues(doc);
    double[] lons=fieldData.lonValues(doc);
    for (int i=0; i < lats.length; i++) {
      double lat=lats[i];
      double lon=lons[i];
      if (distanceBoundingCheck.isWithin(lat,lon)) {
        double d=fixedSourceDistance.calculate(lat,lon);
        if (d >= inclusiveLowerPoint && d <= inclusiveUpperPoint) {
          return true;
        }
      }
    }
    return false;
  }
 else {
    double lat=fieldData.latValue(doc);
    double lon=fieldData.lonValue(doc);
    if (distanceBoundingCheck.isWithin(lat,lon)) {
      double d=fixedSourceDistance.calculate(lat,lon);
      if (d >= inclusiveLowerPoint && d <= inclusiveUpperPoint) {
        return true;
      }
    }
    return false;
  }
}
