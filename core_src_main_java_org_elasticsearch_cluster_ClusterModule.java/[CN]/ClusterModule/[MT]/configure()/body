{
  bind(DiscoveryNodeService.class).asEagerSingleton();
  bind(ClusterService.class).to(InternalClusterService.class).asEagerSingleton();
  bind(OperationRouting.class).asEagerSingleton();
  bind(MetaDataService.class).asEagerSingleton();
  bind(MetaDataCreateIndexService.class).asEagerSingleton();
  bind(MetaDataDeleteIndexService.class).asEagerSingleton();
  bind(MetaDataIndexStateService.class).asEagerSingleton();
  bind(MetaDataMappingService.class).asEagerSingleton();
  bind(MetaDataIndexAliasesService.class).asEagerSingleton();
  bind(MetaDataUpdateSettingsService.class).asEagerSingleton();
  bind(MetaDataIndexTemplateService.class).asEagerSingleton();
  bind(IndexNameExpressionResolver.class).asEagerSingleton();
  bind(RoutingService.class).asEagerSingleton();
  bind(ShardStateAction.class).asEagerSingleton();
  bind(NodeIndexDeletedAction.class).asEagerSingleton();
  bind(NodeMappingRefreshAction.class).asEagerSingleton();
  bind(MappingUpdatedAction.class).asEagerSingleton();
  String impl=settings.get(CLUSTER_SERVICE_IMPL);
  Class<? extends ClusterInfoService> implClass=InternalClusterInfoService.class;
  if (impl != null) {
    implClass=Classes.loadClass(getClass().getClassLoader(),impl);
  }
  bind(ClusterInfoService.class).to(implClass).asEagerSingleton();
  Multibinder<IndexTemplateFilter> mbinder=Multibinder.newSetBinder(binder(),IndexTemplateFilter.class);
  for (  Class<? extends IndexTemplateFilter> indexTemplateFilter : indexTemplateFilters) {
    mbinder.addBinding().to(indexTemplateFilter);
  }
}
