{
  this.settings=settings;
  for (  Class<? extends AllocationDecider> decider : ClusterModule.DEFAULT_ALLOCATION_DECIDERS) {
    registerAllocationDecider(decider);
  }
  registerShardsAllocator(ClusterModule.BALANCED_ALLOCATOR,BalancedShardsAllocator.class);
  registerShardsAllocator(ClusterModule.EVEN_SHARD_COUNT_ALLOCATOR,BalancedShardsAllocator.class);
  this.clusterService=clusterService;
  indexNameExpressionResolver=new IndexNameExpressionResolver(settings);
}
