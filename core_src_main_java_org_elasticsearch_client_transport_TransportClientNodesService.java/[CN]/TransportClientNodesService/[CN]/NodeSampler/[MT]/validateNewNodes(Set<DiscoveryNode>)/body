{
  for (Iterator<DiscoveryNode> it=nodes.iterator(); it.hasNext(); ) {
    DiscoveryNode node=it.next();
    if (!transportService.nodeConnected(node)) {
      try {
        logger.trace("connecting to node [{}]",node);
        transportService.connectToNode(node);
      }
 catch (      Exception e) {
        it.remove();
        logger.debug("failed to connect to discovered node [{}]",e,node);
      }
    }
  }
  return Collections.unmodifiableList(new ArrayList<>(nodes));
}
