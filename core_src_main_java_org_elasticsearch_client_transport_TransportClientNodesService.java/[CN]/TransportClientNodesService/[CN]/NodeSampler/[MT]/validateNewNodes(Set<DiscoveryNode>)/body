{
  for (Iterator<DiscoveryNode> it=nodes.iterator(); it.hasNext(); ) {
    DiscoveryNode node=it.next();
    if (!transportService.nodeConnected(node)) {
      try {
        logger.trace("connecting to node [{}]",node);
        transportService.connectToNode(node);
      }
 catch (      Exception e) {
        it.remove();
        logger.debug(new ParameterizedMessage("failed to connect to discovered node [{}]",node),e);
      }
    }
  }
  return Collections.unmodifiableList(new ArrayList<>(nodes));
}
