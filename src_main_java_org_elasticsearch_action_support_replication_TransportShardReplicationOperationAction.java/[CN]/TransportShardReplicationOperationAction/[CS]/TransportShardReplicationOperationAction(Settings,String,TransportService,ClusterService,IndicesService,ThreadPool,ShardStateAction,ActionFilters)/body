{
  super(settings,actionName,threadPool,actionFilters);
  this.transportService=transportService;
  this.clusterService=clusterService;
  this.indicesService=indicesService;
  this.shardStateAction=shardStateAction;
  this.transportReplicaAction=transportReplicaAction();
  this.executor=executor();
  this.checkWriteConsistency=checkWriteConsistency();
  transportService.registerHandler(actionName,new OperationTransportHandler());
  transportService.registerHandler(transportReplicaAction,new ReplicaOperationTransportHandler());
  this.transportOptions=transportOptions();
  this.defaultReplicationType=ReplicationType.fromString(settings.get("action.replication_type","sync"));
  this.defaultWriteConsistencyLevel=WriteConsistencyLevel.fromString(settings.get("action.write_consistency","quorum"));
}
