{
  if (typeCache == null) {
    return;
  }
  HashedBytesArray parentUid=typeCache.parentIdByDoc(doc);
  float previousScore=uidToScore.get(parentUid);
  float currentScore=scorer.score();
  if (Float.compare(previousScore,0) == 0) {
    uidToScore.put(parentUid,currentScore);
    uidToCount.put(parentUid,1);
  }
 else {
    uidToScore.adjustValue(parentUid,currentScore);
    uidToCount.increment(parentUid);
  }
}
