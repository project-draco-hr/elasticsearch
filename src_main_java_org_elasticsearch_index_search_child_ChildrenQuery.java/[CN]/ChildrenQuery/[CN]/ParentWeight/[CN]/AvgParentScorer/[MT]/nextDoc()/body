{
  if (remaining == 0) {
    currentDocId=NO_MORE_DOCS;
    return NO_MORE_DOCS;
  }
  while (true) {
    currentDocId=parentsIterator.nextDoc();
    if (currentDocId == DocIdSetIterator.NO_MORE_DOCS) {
      return currentDocId;
    }
    HashedBytesArray uid=idTypeCache.idByDoc(currentDocId);
    if (uidToScore.containsKey(uid)) {
      currentScore=uidToScore.lget();
      currentScore/=uidToCount.get(uid);
      remaining--;
      return currentDocId;
    }
  }
}
