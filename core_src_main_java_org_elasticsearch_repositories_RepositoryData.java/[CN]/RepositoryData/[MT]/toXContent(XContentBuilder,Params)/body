{
  builder.startObject();
  builder.startArray(SNAPSHOTS);
  for (  final SnapshotId snapshot : getSnapshotIds()) {
    snapshot.toXContent(builder,params);
  }
  builder.endArray();
  builder.startObject(INDICES);
  for (  final IndexMeta indexMeta : getIndices().values()) {
    builder.startObject(indexMeta.getName());
    builder.field(INDEX_ID,indexMeta.getId());
    builder.startArray(SNAPSHOTS);
    for (    final SnapshotId snapshotId : indexMeta.getSnapshotIds()) {
      snapshotId.toXContent(builder,params);
    }
    builder.endArray();
    builder.endObject();
  }
  builder.endObject();
  builder.endObject();
  return builder;
}
