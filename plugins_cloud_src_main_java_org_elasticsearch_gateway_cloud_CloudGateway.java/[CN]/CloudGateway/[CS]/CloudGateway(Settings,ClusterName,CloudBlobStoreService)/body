{
  super(settings);
  this.clusterName=clusterName;
  this.blobStoreContext=blobStoreService.context();
  String container=componentSettings.get("container");
  if (container == null) {
    throw new ElasticSearchIllegalArgumentException("Cloud gateway requires 'container' setting");
  }
  this.location=componentSettings.get("location");
  this.container=container + "." + clusterName.value();
  blobStoreContext.getBlobStore().createContainerInLocation(location,container);
  this.currentIndex=findLatestIndex();
  logger.debug("Latest metadata found at index [" + currentIndex + "]");
}
