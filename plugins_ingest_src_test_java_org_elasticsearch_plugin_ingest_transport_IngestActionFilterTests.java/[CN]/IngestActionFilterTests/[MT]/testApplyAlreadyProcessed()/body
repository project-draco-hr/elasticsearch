{
  Task task=mock(Task.class);
  IndexRequest indexRequest=new IndexRequest("_index","_type","_id");
  indexRequest.source("field","value");
  indexRequest.putHeader(IngestPlugin.PIPELINE_ID_PARAM,"_id");
  indexRequest.putHeader(IngestPlugin.PIPELINE_ALREADY_PROCESSED,true);
  ActionListener actionListener=mock(ActionListener.class);
  ActionFilterChain actionFilterChain=mock(ActionFilterChain.class);
  filter.apply(task,"_action",indexRequest,actionListener,actionFilterChain);
  verify(actionFilterChain).proceed(task,"_action",indexRequest,actionListener);
  verifyZeroInteractions(executionService,actionListener);
}
