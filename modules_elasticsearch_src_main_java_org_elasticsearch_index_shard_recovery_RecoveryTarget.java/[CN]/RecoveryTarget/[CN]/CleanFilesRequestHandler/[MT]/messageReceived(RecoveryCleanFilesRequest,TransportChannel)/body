{
  InternalIndexShard shard=(InternalIndexShard)indicesService.indexServiceSafe(request.shardId().index().name()).shardSafe(request.shardId().id());
  for (  String existingFile : shard.store().directory().listAll()) {
    if (!request.snapshotFiles().contains(existingFile)) {
      try {
        shard.store().directory().deleteFile(existingFile);
      }
 catch (      Exception e) {
      }
    }
  }
  channel.sendResponse(VoidStreamable.INSTANCE);
}
