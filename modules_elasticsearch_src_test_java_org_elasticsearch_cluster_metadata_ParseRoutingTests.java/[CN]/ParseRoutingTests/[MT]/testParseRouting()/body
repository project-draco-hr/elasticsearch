{
  MappingMetaData md=new MappingMetaData("type1",new CompressedString(""),new MappingMetaData.Routing(true,"test"));
  byte[] bytes=jsonBuilder().startObject().field("aaa","wr").field("test","value").field("zzz","wr").endObject().copiedBytes();
  assertThat(md.parseRouting(XContentFactory.xContent(bytes).createParser(bytes)),equalTo("value"));
  bytes=jsonBuilder().startObject().field("aaa","wr").array("arr1","1","2","3").startObject("obj1").field("ob1_field","obj1_value").endObject().field("test","value").field("zzz","wr").endObject().copiedBytes();
  assertThat(md.parseRouting(XContentFactory.xContent(bytes).createParser(bytes)),equalTo("value"));
}
