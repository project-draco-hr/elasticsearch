{
  createIndex("test");
  ensureGreen();
  PutWarmerResponse putWarmerResponse=client().admin().indices().preparePutWarmer("custom_warmer").setSearchRequest(client().prepareSearch("test").setTypes("test").setQuery(QueryBuilders.matchAllQuery())).get();
  assertThat(putWarmerResponse.isAcknowledged(),equalTo(true));
  DeleteWarmerResponse deleteWarmerResponse=client().admin().indices().prepareDeleteWarmer().setIndices("test").setName("custom_warmer").get();
  assertThat(deleteWarmerResponse.isAcknowledged(),equalTo(true));
  for (  Client client : clients()) {
    GetWarmersResponse getWarmersResponse=client.admin().indices().prepareGetWarmers().setLocal(true).get();
    assertThat(getWarmersResponse.warmers().size(),equalTo(0));
  }
}
