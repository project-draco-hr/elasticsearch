{
  final IndexService indexService=this.indices.get(index.getName());
  if (indexSettings.isOnSharedFilesystem() == false || closed) {
    if (indexService == null && nodeEnv.hasNodeFile()) {
      return true;
    }
  }
 else {
    logger.trace("{} skipping index directory deletion due to shadow replicas",index);
  }
  return false;
}
