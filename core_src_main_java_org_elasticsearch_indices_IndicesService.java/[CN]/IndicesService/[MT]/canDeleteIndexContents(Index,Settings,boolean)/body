{
  final IndexServiceInjectorPair indexServiceInjectorPair=this.indices.get(index.name());
  if (IndexMetaData.isOnSharedFilesystem(indexSettings) == false || closed) {
    if (indexServiceInjectorPair == null && nodeEnv.hasNodeFile()) {
      return true;
    }
  }
 else {
    logger.trace("{} skipping index directory deletion due to shadow replicas",index);
  }
  return false;
}
