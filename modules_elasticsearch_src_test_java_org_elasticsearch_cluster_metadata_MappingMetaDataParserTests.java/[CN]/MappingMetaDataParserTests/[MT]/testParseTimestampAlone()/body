{
  MappingMetaData md=new MappingMetaData("type1",new CompressedString(""),new MappingMetaData.Routing(true,"routing"),new MappingMetaData.Timestamp(true,"timestamp","dateOptionalTime"));
  byte[] bytes=jsonBuilder().startObject().field("field1","value1").field("field2","value2").field("routing","routing_value").field("timestamp","1").endObject().copiedBytes();
  MappingMetaData.ParseContext parseContext=md.createParseContext("routing_value1",null);
  md.parse(XContentFactory.xContent(bytes).createParser(bytes),parseContext);
  assertThat(parseContext.routing(),nullValue());
  assertThat(parseContext.timestamp(),equalTo("1"));
}
