{
  GeoPoint other=geoPointValues.getValueMissing(docId,reference);
  double distance=Math.abs(distFunction.calculate(reference.lat(),reference.lon(),other.lat(),other.lon(),DistanceUnit.METERS)) - offset;
  if (distance < 0.0d) {
    distance=0.0d;
  }
  return distance;
}
