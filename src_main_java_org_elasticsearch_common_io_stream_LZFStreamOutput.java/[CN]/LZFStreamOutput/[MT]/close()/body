{
  if (_position > 0) {
    writeCompressedBlock();
  }
  if (neverClose) {
    _position=0;
    return;
  }
  _outputStream.flush();
  _encoder.close();
  byte[] buf=_outputBuffer;
  if (buf != null) {
    _outputBuffer=null;
    _recycler.releaseOutputBuffer(buf);
  }
  _outputStream.close();
}
