{
  Future<Entry<K,V>> future;
  Entry<K,V> entry=null;
  try (ReleasableLock ignored=readLock.acquire()){
    future=map.get(key);
  }
   if (future != null) {
    segmentStats.hit();
    try {
      entry=future.get();
      entry.accessTime=now;
    }
 catch (    ExecutionException|InterruptedException e) {
      throw new IllegalStateException("future should be a completedFuture for which get should not throw",e);
    }
  }
 else {
    segmentStats.miss();
  }
  return entry;
}
