{
  for (  Map.Entry<String,Query> entry : namedQueries.entrySet()) {
    String name=entry.getKey();
    Query filter=entry.getValue();
    final Weight weight=hitContext.topLevelSearcher().createNormalizedWeight(filter,false);
    final Scorer scorer=weight.scorer(hitContext.readerContext(),null);
    if (scorer == null) {
      continue;
    }
    final TwoPhaseIterator twoPhase=scorer.asTwoPhaseIterator();
    if (twoPhase == null) {
      if (scorer.advance(hitContext.docId()) == hitContext.docId()) {
        matchedQueries.add(name);
      }
    }
 else {
      if (twoPhase.approximation().advance(hitContext.docId()) == hitContext.docId() && twoPhase.matches()) {
        matchedQueries.add(name);
      }
    }
  }
}
