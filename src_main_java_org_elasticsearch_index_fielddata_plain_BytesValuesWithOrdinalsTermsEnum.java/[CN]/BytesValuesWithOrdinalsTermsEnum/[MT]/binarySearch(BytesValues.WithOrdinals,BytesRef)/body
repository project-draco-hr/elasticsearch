{
  long low=1;
  long high=a.getMaxOrd();
  while (low <= high) {
    long mid=(low + high) >>> 1;
    BytesRef midVal=a.getValueByOrd(mid);
    int cmp;
    if (midVal != null) {
      cmp=midVal.compareTo(key);
    }
 else {
      cmp=-1;
    }
    if (cmp < 0)     low=mid + 1;
 else     if (cmp > 0)     high=mid - 1;
 else     return mid;
  }
  return -(low + 1);
}
