{
  String queryString="{ \"" + ConstantScoreQueryBuilder.NAME + "\" : {\n"+ "\"filter\" : [ { \"term\": { \"foo\": \"a\" } },\n"+ "{ \"term\": { \"foo\": \"x\" } } ]\n"+ "} }";
  try {
    parseQuery(queryString);
    fail("Expected ParsingException");
  }
 catch (  ParsingException e) {
    assertThat(e.getMessage(),containsString("unexpected token [START_ARRAY]"));
  }
}
