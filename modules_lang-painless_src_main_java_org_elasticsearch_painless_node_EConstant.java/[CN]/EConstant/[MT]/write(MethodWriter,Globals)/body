{
  Sort sort=actual.sort;
switch (sort) {
case STRING:
    writer.push((String)constant);
  break;
case DOUBLE:
writer.push((double)constant);
break;
case FLOAT:
writer.push((float)constant);
break;
case LONG:
writer.push((long)constant);
break;
case INT:
writer.push((int)constant);
break;
case CHAR:
writer.push((char)constant);
break;
case SHORT:
writer.push((short)constant);
break;
case BYTE:
writer.push((byte)constant);
break;
case BOOL:
if (tru != null && (boolean)constant) {
writer.goTo(tru);
}
 else if (fals != null && !(boolean)constant) {
writer.goTo(fals);
}
 else if (tru == null && fals == null) {
writer.push((boolean)constant);
}
break;
default :
throw createError(new IllegalStateException("Illegal tree structure."));
}
if (sort != Sort.BOOL) {
writer.writeBranch(tru,fals);
}
}
