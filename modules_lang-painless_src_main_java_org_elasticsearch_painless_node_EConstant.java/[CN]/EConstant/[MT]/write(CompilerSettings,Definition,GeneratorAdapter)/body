{
  final Sort sort=actual.sort;
switch (sort) {
case STRING:
    adapter.push((String)constant);
  break;
case DOUBLE:
adapter.push((double)constant);
break;
case FLOAT:
adapter.push((float)constant);
break;
case LONG:
adapter.push((long)constant);
break;
case INT:
adapter.push((int)constant);
break;
case CHAR:
adapter.push((char)constant);
break;
case SHORT:
adapter.push((short)constant);
break;
case BYTE:
adapter.push((byte)constant);
break;
case BOOL:
if (tru != null && (boolean)constant) {
adapter.goTo(tru);
}
 else if (fals != null && !(boolean)constant) {
adapter.goTo(fals);
}
 else if (tru == null && fals == null) {
adapter.push((boolean)constant);
}
break;
default :
throw new IllegalStateException(error("Illegal tree structure."));
}
if (sort != Sort.BOOL) {
WriterUtility.writeBranch(adapter,tru,fals);
}
}
