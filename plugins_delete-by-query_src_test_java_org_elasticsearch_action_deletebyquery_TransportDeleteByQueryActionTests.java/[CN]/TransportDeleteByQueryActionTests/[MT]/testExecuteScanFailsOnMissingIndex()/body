{
  DeleteByQueryRequest delete=new DeleteByQueryRequest().indices("none");
  TestActionListener listener=new TestActionListener();
  newAsyncAction(delete,listener).executeScan();
  waitForCompletion("scan request should fail on missing index",listener);
  assertFailure(listener,"no such index");
  assertSearchContextsClosed();
}
