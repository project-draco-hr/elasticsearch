{
  if (parts == null) {
    throw new IllegalArgumentException("Parts may not be null");
  }
  if (partBoundary == null || partBoundary.length == 0) {
    throw new IllegalArgumentException("partBoundary may not be empty");
  }
  for (int i=0; i < parts.length; i++) {
    parts[i].setPartBoundary(partBoundary);
    parts[i].send(out);
  }
  out.write(EXTRA_BYTES);
  out.write(partBoundary);
  out.write(EXTRA_BYTES);
  out.write(CRLF_BYTES);
}
