{
  if (original == searchContext.query() || original == searchContext.originalQuery()) {
    if (searchContext.queryRewritten()) {
      return searchContext.query();
    }
    Query rewriteQuery=super.rewrite(original);
    searchContext.updateRewriteQuery(rewriteQuery);
    return rewriteQuery;
  }
 else {
    return super.rewrite(original);
  }
}
