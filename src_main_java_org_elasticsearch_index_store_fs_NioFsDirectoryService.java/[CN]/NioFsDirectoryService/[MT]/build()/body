{
  File[] locations=indexStore.shardIndexLocations(shardId);
  Directory[] dirs=new Directory[locations.length];
  for (int i=0; i < dirs.length; i++) {
    FileSystemUtils.mkdirs(locations[i]);
    dirs[i]=new XNIOFSDirectory(locations[i],buildLockFactory(),this,this);
  }
  return dirs;
}
