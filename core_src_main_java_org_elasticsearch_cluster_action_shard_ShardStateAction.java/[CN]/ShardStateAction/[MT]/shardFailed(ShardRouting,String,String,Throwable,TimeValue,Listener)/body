{
  ClusterStateObserver observer=new ClusterStateObserver(clusterService,null,logger);
  ShardRoutingEntry shardRoutingEntry=new ShardRoutingEntry(shardRouting,indexUUID,message,failure);
  TransportRequestOptions options=TransportRequestOptions.EMPTY;
  if (timeout != null) {
    options=TransportRequestOptions.builder().withTimeout(timeout).build();
  }
  sendShardFailed(observer,shardRoutingEntry,options,listener);
}
