{
  ClusterStateObserver observer=new ClusterStateObserver(clusterService,null,logger,threadPool.getThreadContext());
  ShardEntry shardEntry=new ShardEntry(shardRouting.shardId(),shardRouting.allocationId().getId(),primaryTerm,message,failure);
  sendShardAction(SHARD_FAILED_ACTION_NAME,observer,shardEntry,listener);
}
