{
  if (oldState != newState && newState.getRoutingNodes().unassigned().size() > 0) {
    logger.trace("unassigned shards after shard failures. scheduling a reroute.");
    routingService.reroute("unassigned shards after shard failures, scheduling a reroute");
  }
}
