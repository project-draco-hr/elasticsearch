{
  if (actual.sort == Sort.STRING && operation == Operation.ADD) {
    if (!cat) {
      WriterUtility.writeNewStrings(adapter);
    }
    left.write(settings,definition,adapter);
    if (!(left instanceof EBinary) || ((EBinary)left).operation != Operation.ADD || left.actual.sort != Sort.STRING) {
      WriterUtility.writeAppendStrings(adapter,left.actual.sort);
    }
    right.write(settings,definition,adapter);
    if (!(right instanceof EBinary) || ((EBinary)right).operation != Operation.ADD || right.actual.sort != Sort.STRING) {
      WriterUtility.writeAppendStrings(adapter,right.actual.sort);
    }
    if (!cat) {
      WriterUtility.writeToStrings(adapter);
    }
  }
 else {
    left.write(settings,definition,adapter);
    right.write(settings,definition,adapter);
    WriterUtility.writeBinaryInstruction(settings,definition,adapter,location,actual,operation);
  }
  WriterUtility.writeBranch(adapter,tru,fals);
}
