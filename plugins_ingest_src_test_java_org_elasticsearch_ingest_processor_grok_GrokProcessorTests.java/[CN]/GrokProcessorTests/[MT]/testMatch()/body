{
  String fieldName=RandomDocumentPicks.randomFieldName(random());
  IngestDocument doc=new IngestDocument("index","type","id",new HashMap<>());
  doc.setFieldValue(fieldName,"1");
  Grok grok=new Grok(Collections.singletonMap("ONE","1"),"%{ONE:one}");
  GrokProcessor processor=new GrokProcessor(grok,fieldName);
  processor.execute(doc);
  assertThat(doc.getFieldValue("one",String.class),equalTo("1"));
}
