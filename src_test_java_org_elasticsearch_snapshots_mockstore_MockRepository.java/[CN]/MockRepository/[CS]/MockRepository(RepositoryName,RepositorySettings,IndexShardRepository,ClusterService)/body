{
  super(name,overrideSettings(repositorySettings,clusterService),indexShardRepository);
  randomControlIOExceptionRate=repositorySettings.settings().getAsDouble("random_control_io_exception_rate",0.0);
  randomDataFileIOExceptionRate=repositorySettings.settings().getAsDouble("random_data_file_io_exception_rate",0.0);
  blockOnControlFiles=repositorySettings.settings().getAsBoolean("block_on_control",false);
  blockOnDataFiles=repositorySettings.settings().getAsBoolean("block_on_data",false);
  randomPrefix=repositorySettings.settings().get("random");
  waitAfterUnblock=repositorySettings.settings().getAsLong("wait_after_unblock",0L);
  logger.info("starting mock repository with random prefix " + randomPrefix);
  mockBlobStore=new MockBlobStore(super.blobStore());
}
