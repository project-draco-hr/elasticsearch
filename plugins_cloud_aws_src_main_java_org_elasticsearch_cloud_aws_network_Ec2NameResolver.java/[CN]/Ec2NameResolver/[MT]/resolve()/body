{
  String ec2Url=EC2_METADATA_URL + this.type.ec2Name;
  GetMethod ec2MetadataRequest=new GetMethod(ec2Url);
  int status=new HttpClient().executeMethod(ec2MetadataRequest);
  if (status != 200) {
    throw new HttpException(MessageFormat.format("unable to retrieve ec2 metadata from {0}. Response: {1} {2}",ec2Url,status,HttpStatus.getStatusText(status)));
  }
  String metadataResult=ec2MetadataRequest.getResponseBodyAsString();
  return InetAddress.getByName(metadataResult);
}
