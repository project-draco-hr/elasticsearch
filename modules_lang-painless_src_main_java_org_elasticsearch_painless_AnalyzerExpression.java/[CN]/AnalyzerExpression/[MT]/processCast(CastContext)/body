{
  final ExpressionMetadata castemd=metadata.getExpressionMetadata(ctx);
  final DecltypeContext decltypectx=ctx.decltype();
  final ExpressionMetadata decltypemd=metadata.createExpressionMetadata(decltypectx);
  analyzer.visit(decltypectx);
  final Type type=decltypemd.from;
  castemd.from=type;
  final ExpressionContext exprctx=AnalyzerUtility.updateExpressionTree(ctx.expression());
  final ExpressionMetadata expremd=metadata.createExpressionMetadata(exprctx);
  expremd.to=type;
  expremd.explicit=true;
  analyzer.visit(exprctx);
  caster.markCast(expremd);
  if (expremd.postConst != null) {
    castemd.preConst=expremd.postConst;
  }
  castemd.typesafe=expremd.typesafe && castemd.from.sort != Sort.DEF;
}
