{
  List<Fields> likeFields=new ArrayList<>();
  Set<Item> items=new HashSet<>();
  for (  TermVectorsRequest request : requests) {
    items.add(new Item(request.index(),request.type(),request.id()));
  }
  for (  MultiTermVectorsItemResponse response : responses) {
    if (!hasResponseFromRequest(response,items)) {
      continue;
    }
    if (response.isFailed()) {
      continue;
    }
    TermVectorsResponse getResponse=response.getResponse();
    if (!getResponse.isExists()) {
      continue;
    }
    likeFields.add(getResponse.getFields());
  }
  return likeFields.toArray(Fields.EMPTY_ARRAY);
}
