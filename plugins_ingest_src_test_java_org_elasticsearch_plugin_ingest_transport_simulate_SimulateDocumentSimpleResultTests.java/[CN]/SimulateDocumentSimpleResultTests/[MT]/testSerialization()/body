{
  boolean isFailure=randomBoolean();
  SimulateDocumentSimpleResult simulateDocumentSimpleResult;
  if (isFailure) {
    simulateDocumentSimpleResult=new SimulateDocumentSimpleResult(new IllegalArgumentException("test"));
  }
 else {
    Data data=new Data(randomAsciiOfLengthBetween(1,10),randomAsciiOfLengthBetween(1,10),randomAsciiOfLengthBetween(1,10),Collections.singletonMap(randomAsciiOfLengthBetween(1,10),randomAsciiOfLengthBetween(1,10)));
    simulateDocumentSimpleResult=new SimulateDocumentSimpleResult(data);
  }
  BytesStreamOutput out=new BytesStreamOutput();
  simulateDocumentSimpleResult.writeTo(out);
  StreamInput streamInput=StreamInput.wrap(out.bytes());
  SimulateDocumentSimpleResult otherSimulateDocumentSimpleResult=SimulateDocumentSimpleResult.readSimulateDocumentSimpleResult(streamInput);
  assertThat(otherSimulateDocumentSimpleResult.getData(),equalTo(simulateDocumentSimpleResult.getData()));
  if (isFailure) {
    assertThat(otherSimulateDocumentSimpleResult.getFailure(),instanceOf(IllegalArgumentException.class));
    IllegalArgumentException e=(IllegalArgumentException)otherSimulateDocumentSimpleResult.getFailure();
    assertThat(e.getMessage(),equalTo("test"));
  }
}
