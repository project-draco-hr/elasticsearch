{
  Map<String,String> ingestMetadata=ingestDocument.getIngestMetadata();
  try {
    ingestMetadata.put(ON_FAILURE_MESSAGE_FIELD,cause.getMessage());
    ingestMetadata.put(ON_FAILURE_PROCESSOR_TYPE_FIELD,failedProcessorType);
    ingestMetadata.put(ON_FAILURE_PROCESSOR_TAG_FIELD,failedProcessorTag);
    for (    Processor processor : onFailureProcessors) {
      processor.execute(ingestDocument);
    }
  }
  finally {
    ingestMetadata.remove(ON_FAILURE_MESSAGE_FIELD);
    ingestMetadata.remove(ON_FAILURE_PROCESSOR_TYPE_FIELD);
    ingestMetadata.remove(ON_FAILURE_PROCESSOR_TAG_FIELD);
  }
}
