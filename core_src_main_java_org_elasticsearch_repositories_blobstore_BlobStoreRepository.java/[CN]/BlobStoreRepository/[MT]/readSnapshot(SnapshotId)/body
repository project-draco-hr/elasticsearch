{
  try {
    return snapshotFormat.read(snapshotsBlobContainer,blobId(snapshotId));
  }
 catch (  FileNotFoundException|NoSuchFileException ex) {
    try {
      return snapshotLegacyFormat.read(snapshotsBlobContainer,snapshotId.getName());
    }
 catch (    FileNotFoundException|NoSuchFileException ex1) {
      throw new SnapshotMissingException(repositoryName,snapshotId,ex);
    }
catch (    IOException|NotXContentException ex1) {
      throw new SnapshotException(repositoryName,snapshotId,"failed to get snapshots",ex1);
    }
  }
catch (  IOException|NotXContentException ex) {
    throw new SnapshotException(repositoryName,snapshotId,"failed to get snapshots",ex);
  }
}
