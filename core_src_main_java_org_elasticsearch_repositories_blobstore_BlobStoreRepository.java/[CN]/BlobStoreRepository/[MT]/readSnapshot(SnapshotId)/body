{
  try {
    return snapshotFormat.read(snapshotsBlobContainer,snapshotId.getSnapshot());
  }
 catch (  FileNotFoundException|NoSuchFileException ex) {
    try {
      return snapshotLegacyFormat.read(snapshotsBlobContainer,snapshotId.getSnapshot());
    }
 catch (    FileNotFoundException|NoSuchFileException ex1) {
      throw new SnapshotMissingException(snapshotId,ex);
    }
catch (    IOException|NotXContentException ex1) {
      throw new SnapshotException(snapshotId,"failed to get snapshots",ex1);
    }
  }
catch (  IOException|NotXContentException ex) {
    throw new SnapshotException(snapshotId,"failed to get snapshots",ex);
  }
}
