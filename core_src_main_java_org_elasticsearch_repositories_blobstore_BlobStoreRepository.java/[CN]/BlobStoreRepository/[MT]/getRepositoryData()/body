{
  try {
    RepositoryData repositoryData=readIndexGen();
    if (repositoryData.isLegacyFormat()) {
      repositoryData=upgradeRepositoryData(repositoryData);
    }
    return repositoryData;
  }
 catch (  NoSuchFileException nsfe) {
    return RepositoryData.EMPTY;
  }
catch (  IOException ioe) {
    throw new RepositoryException(metadata.name(),"could not read repository data from index blob",ioe);
  }
}
