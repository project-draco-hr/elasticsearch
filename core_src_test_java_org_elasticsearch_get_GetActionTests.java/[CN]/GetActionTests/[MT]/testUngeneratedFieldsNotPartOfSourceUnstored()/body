{
  indexSingleDocumentWithUngeneratedFieldsThatAreNeverPartOf_source(false,randomBoolean());
  String[] fieldsList={"_timestamp"};
  String[] alwaysStoredFieldsList={"_routing","_size"};
  assertGetFieldsAlwaysNull(indexOrAlias(),"doc","1",fieldsList,"1");
  assertGetFieldsAlwaysWorks(indexOrAlias(),"doc","1",alwaysStoredFieldsList,"1");
  refresh();
  assertGetFieldsAlwaysNull(indexOrAlias(),"doc","1",fieldsList,"1");
  assertGetFieldsAlwaysWorks(indexOrAlias(),"doc","1",alwaysStoredFieldsList,"1");
  flush();
  assertGetFieldsAlwaysNull(indexOrAlias(),"doc","1",fieldsList,"1");
  assertGetFieldsAlwaysWorks(indexOrAlias(),"doc","1",alwaysStoredFieldsList,"1");
}
