{
  int size=size();
  if (a.length < size) {
    a=(double[])java.lang.reflect.Array.newInstance(a.getClass().getComponentType(),size);
  }
  double[] k=(double[])_set;
  byte[] states=_states;
  for (int i=k.length, j=0; i-- > 0; ) {
    if (states[i] == FULL) {
      a[j++]=k[i];
    }
  }
  return a;
}
