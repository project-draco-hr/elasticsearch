{
  super(settings);
  this.nodeEnv=nodeEnv;
  this.nodeSettingsService=nodeSettingsService;
  this.indicesService=indicesService;
  this.clusterService=clusterService;
  this.threadPool=threadPool;
  this.rateLimitingType=componentSettings.get("throttle.type","none");
  rateLimiting.setType(rateLimitingType);
  this.rateLimitingThrottle=componentSettings.getAsBytesSize("throttle.max_bytes_per_sec",new ByteSizeValue(0));
  rateLimiting.setMaxRate(rateLimitingThrottle);
  this.danglingTimeout=componentSettings.getAsTime("dangling_timeout",TimeValue.timeValueHours(2));
  logger.debug("using indices.store.throttle.type [{}], with index.store.throttle.max_bytes_per_sec [{}]",rateLimitingType,rateLimitingThrottle);
  nodeSettingsService.addListener(applySettings);
  clusterService.addLast(this);
}
