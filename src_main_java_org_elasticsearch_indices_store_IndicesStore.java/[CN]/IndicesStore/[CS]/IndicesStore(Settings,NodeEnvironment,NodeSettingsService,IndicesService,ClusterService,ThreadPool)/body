{
  super(settings);
  this.nodeEnv=nodeEnv;
  this.nodeSettingsService=nodeSettingsService;
  this.indicesService=indicesService;
  this.clusterService=clusterService;
  this.rateLimitingType=componentSettings.get("throttle.type",StoreRateLimiting.Type.MERGE.name());
  rateLimiting.setType(rateLimitingType);
  this.rateLimitingThrottle=componentSettings.getAsBytesSize("throttle.max_bytes_per_sec",new ByteSizeValue(20,ByteSizeUnit.MB));
  rateLimiting.setMaxRate(rateLimitingThrottle);
  logger.debug("using indices.store.throttle.type [{}], with index.store.throttle.max_bytes_per_sec [{}]",rateLimitingType,rateLimitingThrottle);
  nodeSettingsService.addListener(applySettings);
  clusterService.addLast(this);
}
