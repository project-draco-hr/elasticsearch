{
  startCluster(3);
  logger.info("stopping current master");
  internalCluster().stopCurrentMasterNode();
  ensureStableCluster(2);
  String master=internalCluster().getMasterName();
  String nonMaster=null;
  for (  String node : internalCluster().getNodeNames()) {
    if (!node.equals(master)) {
      nonMaster=node;
    }
  }
  logger.info("--> isolating [{}]",nonMaster);
  addRandomIsolation(nonMaster).startDisrupting();
  logger.info("--> waiting for master to remove it");
  ensureStableCluster(1,master);
}
