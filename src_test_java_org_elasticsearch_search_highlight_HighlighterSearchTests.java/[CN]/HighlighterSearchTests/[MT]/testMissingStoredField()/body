{
  assertAcked(prepareCreate("test").setSettings(ImmutableSettings.settingsBuilder().put("index.number_of_shards",1).put("index.number_of_replicas",0)).addMapping("type1","highlight_field","type=string,store=yes"));
  ensureGreen();
  client().prepareIndex("test","type1","1").setSource(jsonBuilder().startObject().field("field","highlight").endObject()).get();
  refresh();
  SearchResponse response=client().prepareSearch("test").setQuery(QueryBuilders.matchQuery("field","highlight").type(MatchQueryBuilder.Type.BOOLEAN)).addHighlightedField(new HighlightBuilder.Field("highlight_field").fragmentSize(-1).numOfFragments(1).fragmenter("simple")).get();
  assertThat(response.getHits().hits()[0].highlightFields().isEmpty(),equalTo(true));
}
