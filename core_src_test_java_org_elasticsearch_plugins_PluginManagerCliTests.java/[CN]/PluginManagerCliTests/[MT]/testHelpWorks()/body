{
  CliToolTestCase.CaptureOutputTerminal terminal=new CliToolTestCase.CaptureOutputTerminal();
  assertThat(new PluginManagerCliParser(terminal).execute(args("--help")),is(OK.status()));
  assertHelp(terminal,"/org/elasticsearch/plugins/plugin.help");
  terminal.getTerminalOutput().clear();
  assertThat(new PluginManagerCliParser(terminal).execute(args("install -h")),is(OK.status()));
  assertHelp(terminal,"/org/elasticsearch/plugins/plugin-install.help");
  for (  String plugin : PluginManager.OFFICIAL_PLUGINS) {
    assertThat(terminal.getTerminalOutput(),hasItem(containsString(plugin)));
  }
  terminal.getTerminalOutput().clear();
  assertThat(new PluginManagerCliParser(terminal).execute(args("remove --help")),is(OK.status()));
  assertHelp(terminal,"/org/elasticsearch/plugins/plugin-remove.help");
  terminal.getTerminalOutput().clear();
  assertThat(new PluginManagerCliParser(terminal).execute(args("list -h")),is(OK.status()));
  assertHelp(terminal,"/org/elasticsearch/plugins/plugin-list.help");
}
