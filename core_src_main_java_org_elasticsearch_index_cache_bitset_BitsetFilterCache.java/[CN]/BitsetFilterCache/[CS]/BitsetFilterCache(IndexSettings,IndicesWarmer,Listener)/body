{
  super(indexSettings);
  if (listener == null) {
    throw new IllegalArgumentException("listener must not be null");
  }
  this.loadRandomAccessFiltersEagerly=this.indexSettings.getSettings().getAsBoolean(LOAD_RANDOM_ACCESS_FILTERS_EAGERLY,true);
  this.loadedFilters=CacheBuilder.<Object,Cache<Query,Value>>builder().removalListener(this).build();
  this.warmer=new BitSetProducerWarmer();
  this.indicesWarmer=indicesWarmer;
  indicesWarmer.addListener(warmer);
  this.listener=listener;
}
