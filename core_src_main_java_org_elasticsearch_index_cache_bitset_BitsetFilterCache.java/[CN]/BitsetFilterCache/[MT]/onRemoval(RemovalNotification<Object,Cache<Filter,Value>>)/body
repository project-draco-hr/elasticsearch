{
  Object key=notification.getKey();
  if (key == null) {
    return;
  }
  Cache<Filter,Value> value=notification.getValue();
  if (value == null) {
    return;
  }
  for (  Map.Entry<Filter,Value> entry : value.asMap().entrySet()) {
    if (entry.getValue().shardId == null) {
      continue;
    }
    IndexShard shard=indexService.shard(entry.getValue().shardId.id());
    if (shard != null) {
      ShardBitsetFilterCache shardBitsetFilterCache=shard.shardBitsetFilterCache();
      shardBitsetFilterCache.onRemoval(entry.getValue().bitset.ramBytesUsed());
    }
  }
}
