{
  if (metaDataChanged()) {
    Map<String,IndexMetaData> indices=state.metaData().indices();
    Map<String,IndexMetaData> previousIndices=previousState.metaData().indices();
    for (    Map.Entry<String,IndexMetaData> entry : indices.entrySet()) {
      IndexMetaData indexMetaData=entry.getValue();
      IndexMetaData previousIndexMetaData=previousIndices.get(entry.getKey());
      if (previousIndexMetaData != null && indexMetaData.state() != previousIndexMetaData.state()) {
        return true;
      }
    }
  }
  return false;
}
