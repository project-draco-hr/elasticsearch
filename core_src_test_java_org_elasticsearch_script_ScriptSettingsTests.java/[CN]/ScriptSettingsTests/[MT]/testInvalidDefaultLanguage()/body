{
  ScriptEngineRegistry scriptEngineRegistry=new ScriptEngineRegistry(Collections.singletonList(new ScriptEngineRegistry.ScriptEngineRegistration(CustomScriptEngineService.class,CustomScriptEngineService.TYPES)));
  ScriptContextRegistry scriptContextRegistry=new ScriptContextRegistry(Collections.emptyList());
  ScriptSettings scriptSettings=new ScriptSettings(scriptEngineRegistry,scriptContextRegistry);
  Settings settings=Settings.builder().put("script.default_lang","C++").build();
  try {
    scriptSettings.getDefaultScriptLanguageSetting().get(settings);
    fail("should have seen unregistered default language");
  }
 catch (  IllegalArgumentException e) {
    assertThat(e.getMessage(),containsString("unregistered default language [C++]"));
  }
}
