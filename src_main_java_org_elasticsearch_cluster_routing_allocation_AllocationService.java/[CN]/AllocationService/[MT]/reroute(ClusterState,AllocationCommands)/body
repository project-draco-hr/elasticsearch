{
  RoutingNodes routingNodes=clusterState.routingNodes();
  RoutingAllocation allocation=new RoutingAllocation(allocationDeciders,routingNodes,clusterState.nodes());
  allocation.ignoreDisable(true);
  commands.execute(allocation);
  allocation.ignoreDisable(false);
  reroute(allocation);
  return new RoutingAllocation.Result(true,new RoutingTable.Builder().updateNodes(routingNodes).build().validateRaiseException(clusterState.metaData()),allocation.explanation());
}
