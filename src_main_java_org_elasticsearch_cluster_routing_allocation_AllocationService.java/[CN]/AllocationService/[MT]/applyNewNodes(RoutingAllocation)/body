{
  for (  ObjectCursor<DiscoveryNode> cursor : allocation.nodes().dataNodes().values()) {
    DiscoveryNode node=cursor.value;
    if (!allocation.routingNodes().nodesToShards().containsKey(node.id())) {
      RoutingNode routingNode=new RoutingNode(node.id(),node);
      allocation.routingNodes().nodesToShards().put(node.id(),routingNode);
    }
  }
}
