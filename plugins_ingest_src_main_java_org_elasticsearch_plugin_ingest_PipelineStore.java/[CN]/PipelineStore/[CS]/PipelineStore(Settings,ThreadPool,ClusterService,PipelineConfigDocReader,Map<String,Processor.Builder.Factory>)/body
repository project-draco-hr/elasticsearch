{
  super(settings);
  this.threadPool=threadPool;
  this.clusterService=clusterService;
  this.pipelineUpdateInterval=settings.getAsTime("ingest.pipeline.store.update.interval",TimeValue.timeValueSeconds(1));
  this.configDocReader=configDocReader;
  this.processorFactoryRegistry=Collections.unmodifiableMap(processors);
  clusterService.add(new PipelineStoreListener());
}
