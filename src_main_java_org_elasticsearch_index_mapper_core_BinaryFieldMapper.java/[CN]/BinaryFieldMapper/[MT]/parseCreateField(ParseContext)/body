{
  if (!fieldType().stored()) {
    return null;
  }
  byte[] value;
  if (context.parser().currentToken() == XContentParser.Token.VALUE_NULL) {
    return null;
  }
 else {
    value=context.parser().binaryValue();
    if (compress != null && compress && !CompressorFactory.isCompressed(value,0,value.length)) {
      if (compressThreshold == -1 || value.length > compressThreshold) {
        CachedStreamOutput.Entry cachedEntry=CachedStreamOutput.popEntry();
        StreamOutput streamOutput=cachedEntry.bytes(CompressorFactory.defaultCompressor());
        streamOutput.writeBytes(value,0,value.length);
        streamOutput.close();
        value=cachedEntry.bytes().bytes().copyBytesArray().toBytes();
        CachedStreamOutput.pushEntry(cachedEntry);
      }
    }
  }
  if (value == null) {
    return null;
  }
  return new Field(names.indexName(),value,fieldType);
}
