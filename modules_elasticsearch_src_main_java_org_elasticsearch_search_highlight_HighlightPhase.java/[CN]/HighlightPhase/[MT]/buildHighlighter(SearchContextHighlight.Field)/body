{
  FragListBuilder fragListBuilder;
  FragmentsBuilder fragmentsBuilder;
  if (field.numberOfFragments() == 0) {
    fragListBuilder=new SingleFragListBuilder();
    fragmentsBuilder=new SimpleFragmentsBuilder(field.preTags(),field.postTags());
  }
 else {
    fragListBuilder=new SimpleFragListBuilder();
    if (field.scoreOrdered()) {
      fragmentsBuilder=new ScoreOrderFragmentsBuilder(field.preTags(),field.postTags());
    }
 else {
      fragmentsBuilder=new SimpleFragmentsBuilder(field.preTags(),field.postTags());
    }
  }
  return new FastVectorHighlighter(true,false,fragListBuilder,fragmentsBuilder);
}
