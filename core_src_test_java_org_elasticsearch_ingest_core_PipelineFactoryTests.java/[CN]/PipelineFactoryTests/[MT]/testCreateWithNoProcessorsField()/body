{
  Map<String,Object> pipelineConfig=new HashMap<>();
  pipelineConfig.put(Pipeline.DESCRIPTION_KEY,"_description");
  Pipeline.Factory factory=new Pipeline.Factory();
  try {
    factory.create("_id",pipelineConfig,Collections.emptyMap());
    fail("should fail, missing required [processors] field");
  }
 catch (  ConfigurationPropertyException e) {
    assertThat(e.getMessage(),equalTo("[processors] required property is missing"));
  }
}
