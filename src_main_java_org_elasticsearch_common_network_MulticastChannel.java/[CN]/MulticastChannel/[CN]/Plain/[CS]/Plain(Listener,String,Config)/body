{
  super(listener);
  this.logger=ESLoggerFactory.getLogger(name);
  this.config=config;
  this.datagramPacketReceive=new DatagramPacket(new byte[config.bufferSize],config.bufferSize);
  this.datagramPacketSend=new DatagramPacket(new byte[config.bufferSize],config.bufferSize,InetAddress.getByName(config.group),config.port);
  this.multicastSocket=buildMulticastSocket(config);
  this.receiver=new Receiver();
  this.receiverThread=daemonThreadFactory(ImmutableSettings.builder().put("name",name).build(),"discovery#multicast#receiver").newThread(receiver);
  this.receiverThread.start();
}
