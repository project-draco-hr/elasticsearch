{
  super.readFrom(in);
  replicationType=ReplicationType.fromId(in.readByte());
  consistencyLevel=WriteConsistencyLevel.fromId(in.readByte());
  type=in.readUTF();
  id=in.readUTF();
  if (in.readBoolean()) {
    routing=in.readUTF();
  }
  if (in.readBoolean()) {
    script=in.readUTF();
  }
  if (in.readBoolean()) {
    scriptLang=in.readUTF();
  }
  scriptParams=in.readMap();
  retryOnConflict=in.readVInt();
  if (in.readBoolean()) {
    percolate=in.readUTF();
  }
  refresh=in.readBoolean();
  if (in.readBoolean()) {
    doc=new IndexRequest();
    doc.readFrom(in);
  }
  int size=in.readInt();
  if (size >= 0) {
    fields=new String[size];
    for (int i=0; i < size; i++) {
      fields[i]=in.readUTF();
    }
  }
  if (in.readBoolean()) {
    upsertRequest=new IndexRequest();
    upsertRequest.readFrom(in);
  }
}
