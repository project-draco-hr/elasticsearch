{
  Node node1=startNode("node1");
  Client client=node1.client();
  canCreateIndex(client,"test1");
  canIndexDocument(client,"test1");
  setIndexReadOnly(client,"test1","false");
  canIndexExists(client,"test1");
  setClusterReadOnly(client,"true");
  canNotCreateIndex(client,"test2");
  canNotIndexDocument(client,"test1");
  canNotIndexExists(client,"test1");
  setClusterReadOnly(client,"false");
  canCreateIndex(client,"test2");
  canIndexDocument(client,"test2");
  canIndexDocument(client,"test1");
  canIndexExists(client,"test1");
  canCreateIndex(client,"ro");
  canIndexDocument(client,"ro");
  canIndexExists(client,"ro");
  setIndexReadOnly(client,"ro","true");
  canNotIndexDocument(client,"ro");
  canNotIndexExists(client,"ro");
  canCreateIndex(client,"rw");
  canIndexDocument(client,"rw");
  canIndexExists(client,"rw");
  setIndexReadOnly(client,"ro","false");
  canIndexDocument(client,"ro");
  canIndexExists(client,"ro");
}
