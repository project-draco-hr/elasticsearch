{
  name=in.readString();
  keyed=in.readBoolean();
  int size=in.readVInt();
  List<Bucket> buckets=Lists.newArrayListWithCapacity(size);
  for (int i=0; i < size; i++) {
    String key=in.readOptionalString();
    buckets.add(new Bucket(key,in.readVLong(),InternalAggregations.readAggregations(in)));
  }
  this.buckets=buckets;
  this.bucketMap=null;
}
