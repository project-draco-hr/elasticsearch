{
  ByteArrayOutputStream outputStream=new ByteArrayOutputStream();
  byte[] expected=new byte[length];
  byte[] buffer=new byte[LZFChunk.MAX_CHUNK_LEN];
  byte[] output=new byte[length];
  System.arraycopy(bytes,offset,expected,0,length);
  encoder.encodeAndWriteChunk(bytes,offset,length,outputStream);
  System.out.println(Arrays.toString(Arrays.copyOf(outputStream.toByteArray(),20)));
  InputStream inputStream=new ByteArrayInputStream(outputStream.toByteArray());
  assertEquals(decoder.decodeChunk(inputStream,buffer,output),length);
  System.out.println(Arrays.toString(Arrays.copyOf(output,20)));
  assertArrayEquals(expected,output);
}
