{
  super(settings);
  this.azureComputeService=azureComputeService;
  this.transportService=transportService;
  this.networkService=networkService;
  this.version=version;
  this.refreshInterval=settings.getAsTime(Discovery.REFRESH,TimeValue.timeValueSeconds(0));
  String strHostType=settings.get(Discovery.HOST_TYPE,HostType.PRIVATE_IP.name()).toUpperCase();
  HostType tmpHostType=HostType.fromString(strHostType);
  if (tmpHostType == null) {
    logger.warn("wrong value for [{}]: [{}]. falling back to [{}]...",Discovery.HOST_TYPE,strHostType,HostType.PRIVATE_IP.name().toLowerCase());
    tmpHostType=HostType.PRIVATE_IP;
  }
  this.hostType=tmpHostType;
  this.publicEndpointName=settings.get(Discovery.ENDPOINT_NAME,"elasticsearch");
  this.deploymentName=settings.get(Discovery.DEPLOYMENT_NAME);
  String strDeployment=settings.get(Discovery.DEPLOYMENT_SLOT,Deployment.PRODUCTION.deployment);
  Deployment tmpDeployment=Deployment.fromString(strDeployment);
  if (tmpDeployment == null) {
    logger.warn("wrong value for [{}]: [{}]. falling back to [{}]...",Discovery.DEPLOYMENT_SLOT,strDeployment,Deployment.PRODUCTION.deployment);
    tmpDeployment=Deployment.PRODUCTION;
  }
  this.deploymentSlot=tmpDeployment.slot;
}
