{
  assertThat(nodeInfo.getBuild().toString(),equalTo(readNodeInfo.getBuild().toString()));
  assertThat(nodeInfo.getHostname(),equalTo(readNodeInfo.getHostname()));
  assertThat(nodeInfo.getVersion(),equalTo(readNodeInfo.getVersion()));
  assertThat(nodeInfo.getServiceAttributes().size(),equalTo(readNodeInfo.getServiceAttributes().size()));
  for (  Map.Entry<String,String> entry : nodeInfo.getServiceAttributes().entrySet()) {
    assertNotNull(readNodeInfo.getServiceAttributes().get(entry.getKey()));
    assertThat(readNodeInfo.getServiceAttributes().get(entry.getKey()),equalTo(entry.getValue()));
  }
  compareJsonOutput(nodeInfo.getHttp(),readNodeInfo.getHttp());
  compareJsonOutput(nodeInfo.getJvm(),readNodeInfo.getJvm());
  compareJsonOutput(nodeInfo.getProcess(),readNodeInfo.getProcess());
  compareJsonOutput(nodeInfo.getSettings(),readNodeInfo.getSettings());
  compareJsonOutput(nodeInfo.getThreadPool(),readNodeInfo.getThreadPool());
  compareJsonOutput(nodeInfo.getTransport(),readNodeInfo.getTransport());
  compareJsonOutput(nodeInfo.getNode(),readNodeInfo.getNode());
  compareJsonOutput(nodeInfo.getOs(),readNodeInfo.getOs());
  comparePluginsAndModules(nodeInfo,readNodeInfo);
}
