{
  Build build=Build.CURRENT;
  DiscoveryNode node=new DiscoveryNode("test_node",DummyTransportAddress.INSTANCE,emptyMap(),emptySet(),VersionUtils.randomVersion(random()));
  Map<String,String> serviceAttributes=new HashMap<>();
  serviceAttributes.put("test","attribute");
  Settings settings=Settings.builder().put("test","setting").build();
  OsInfo osInfo=DummyOsInfo.INSTANCE;
  ProcessInfo process=new ProcessInfo(randomInt(),randomBoolean());
  JvmInfo jvm=JvmInfo.jvmInfo();
  List<ThreadPool.Info> threadPoolInfos=new ArrayList<>();
  threadPoolInfos.add(new ThreadPool.Info("test_threadpool",ThreadPool.ThreadPoolType.FIXED,5));
  ThreadPoolInfo threadPoolInfo=new ThreadPoolInfo(threadPoolInfos);
  Map<String,BoundTransportAddress> profileAddresses=new HashMap<>();
  BoundTransportAddress dummyBoundTransportAddress=new BoundTransportAddress(new TransportAddress[]{DummyTransportAddress.INSTANCE},DummyTransportAddress.INSTANCE);
  profileAddresses.put("test_address",dummyBoundTransportAddress);
  TransportInfo transport=new TransportInfo(dummyBoundTransportAddress,profileAddresses);
  HttpInfo htttpInfo=new HttpInfo(dummyBoundTransportAddress,randomLong());
  PluginsAndModules plugins=new PluginsAndModules();
  plugins.addModule(DummyPluginInfo.INSTANCE);
  plugins.addPlugin(DummyPluginInfo.INSTANCE);
  IngestInfo ingestInfo=new IngestInfo(Collections.emptyList());
  return new NodeInfo(VersionUtils.randomVersion(random()),build,node,serviceAttributes,settings,osInfo,process,jvm,threadPoolInfo,transport,htttpInfo,plugins,ingestInfo,null);
}
