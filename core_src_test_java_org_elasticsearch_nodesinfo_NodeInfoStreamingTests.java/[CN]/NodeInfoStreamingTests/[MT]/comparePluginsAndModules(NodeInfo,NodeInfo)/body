{
  ToXContent.Params params=ToXContent.EMPTY_PARAMS;
  XContentBuilder pluginsAndModules=jsonBuilder();
  pluginsAndModules.startObject();
  nodeInfo.getPlugins().toXContent(pluginsAndModules,params);
  pluginsAndModules.endObject();
  XContentBuilder readPluginsAndModules=jsonBuilder();
  readPluginsAndModules.startObject();
  readNodeInfo.getPlugins().toXContent(readPluginsAndModules,params);
  readPluginsAndModules.endObject();
  assertThat(pluginsAndModules.string(),equalTo(readPluginsAndModules.string()));
}
