{
  List<InternalAggregation> aggregations=reduceContext.aggregations();
  if (aggregations.size() == 1) {
    return (InternalMax)aggregations.get(0);
  }
  InternalMax reduced=null;
  for (  InternalAggregation aggregation : aggregations) {
    if (reduced == null) {
      reduced=(InternalMax)aggregation;
    }
 else {
      reduced.max=Math.max(reduced.max,((InternalMax)aggregation).max);
    }
  }
  if (reduced != null) {
    return reduced;
  }
  return (InternalMax)aggregations.get(0);
}
