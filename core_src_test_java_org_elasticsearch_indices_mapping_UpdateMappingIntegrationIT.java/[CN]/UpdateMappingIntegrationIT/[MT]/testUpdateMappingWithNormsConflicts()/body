{
  client().admin().indices().prepareCreate("test").addMapping("type","{\"type\":{\"properties\":{\"body\":{\"type\":\"string\", \"norms\": { \"enabled\": false }}}}}").execute().actionGet();
  try {
    client().admin().indices().preparePutMapping("test").setType("type").setSource("{\"type\":{\"properties\":{\"body\":{\"type\":\"string\", \"norms\": { \"enabled\": true }}}}}").execute().actionGet();
    fail("Expected MergeMappingException");
  }
 catch (  MergeMappingException e) {
    assertThat(e.getMessage(),containsString("mapper [body] has different [omit_norms]"));
  }
}
