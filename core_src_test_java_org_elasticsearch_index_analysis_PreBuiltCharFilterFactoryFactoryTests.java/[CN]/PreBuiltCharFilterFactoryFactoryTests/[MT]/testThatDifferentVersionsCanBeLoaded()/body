{
  PreBuiltCharFilterFactoryFactory factory=new PreBuiltCharFilterFactoryFactory(PreBuiltCharFilters.HTML_STRIP.getCharFilterFactory(Version.CURRENT));
  CharFilterFactory former090TokenizerFactory=factory.get(null,null,"html_strip",Settings.settingsBuilder().put(IndexMetaData.SETTING_VERSION_CREATED,Version.V_0_90_0).build());
  CharFilterFactory former090TokenizerFactoryCopy=factory.get(null,null,"html_strip",Settings.settingsBuilder().put(IndexMetaData.SETTING_VERSION_CREATED,Version.V_0_90_0).build());
  CharFilterFactory currentTokenizerFactory=factory.get(null,null,"html_strip",Settings.settingsBuilder().put(IndexMetaData.SETTING_VERSION_CREATED,Version.CURRENT).build());
  assertThat(currentTokenizerFactory,is(former090TokenizerFactory));
  assertThat(currentTokenizerFactory,is(former090TokenizerFactoryCopy));
}
