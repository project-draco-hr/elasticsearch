{
  if (params != null) {
    builder.field(ScriptedMetricParser.PARAMS_FIELD.getPreferredName());
    builder.map(params);
  }
  if (reduceParams != null) {
    builder.field(ScriptedMetricParser.REDUCE_PARAMS_FIELD.getPreferredName());
    builder.map(reduceParams);
  }
  if (initScript != null) {
    builder.field(ScriptedMetricParser.INIT_SCRIPT_FIELD.getPreferredName(),initScript);
  }
  if (mapScript != null) {
    builder.field(ScriptedMetricParser.MAP_SCRIPT_FIELD.getPreferredName(),mapScript);
  }
  if (combineScript != null) {
    builder.field(ScriptedMetricParser.COMBINE_SCRIPT_FIELD.getPreferredName(),combineScript);
  }
  if (reduceScript != null) {
    builder.field(ScriptedMetricParser.REDUCE_SCRIPT_FIELD.getPreferredName(),reduceScript);
  }
  if (lang != null) {
    builder.field(ScriptedMetricParser.LANG_FIELD.getPreferredName(),lang);
  }
  if (scriptType != null) {
    builder.field(ScriptedMetricParser.SCRIPT_TYPE_FIELD.getPreferredName(),scriptType.name());
  }
}
