{
  if (params != null) {
    builder.field(ScriptedMetricParser.PARAMS_FIELD.getPreferredName());
    builder.map(params);
  }
  if (reduceParams != null) {
    builder.field(ScriptedMetricParser.REDUCE_PARAMS_FIELD.getPreferredName());
    builder.map(reduceParams);
  }
  if (initScript != null) {
    builder.field(ScriptedMetricParser.INIT_SCRIPT,initScript);
  }
  if (mapScript != null) {
    builder.field(ScriptedMetricParser.MAP_SCRIPT,mapScript);
  }
  if (combineScript != null) {
    builder.field(ScriptedMetricParser.COMBINE_SCRIPT,combineScript);
  }
  if (reduceScript != null) {
    builder.field(ScriptedMetricParser.REDUCE_SCRIPT,reduceScript);
  }
  if (initScriptFile != null) {
    builder.field(ScriptedMetricParser.INIT_SCRIPT + ScriptParameterParser.FILE_SUFFIX,initScriptFile);
  }
  if (mapScriptFile != null) {
    builder.field(ScriptedMetricParser.MAP_SCRIPT + ScriptParameterParser.FILE_SUFFIX,mapScriptFile);
  }
  if (combineScriptFile != null) {
    builder.field(ScriptedMetricParser.COMBINE_SCRIPT + ScriptParameterParser.FILE_SUFFIX,combineScriptFile);
  }
  if (reduceScriptFile != null) {
    builder.field(ScriptedMetricParser.REDUCE_SCRIPT + ScriptParameterParser.FILE_SUFFIX,reduceScriptFile);
  }
  if (initScriptId != null) {
    builder.field(ScriptedMetricParser.INIT_SCRIPT + ScriptParameterParser.INDEXED_SUFFIX,initScriptId);
  }
  if (mapScriptId != null) {
    builder.field(ScriptedMetricParser.MAP_SCRIPT + ScriptParameterParser.INDEXED_SUFFIX,mapScriptId);
  }
  if (combineScriptId != null) {
    builder.field(ScriptedMetricParser.COMBINE_SCRIPT + ScriptParameterParser.INDEXED_SUFFIX,combineScriptId);
  }
  if (reduceScriptId != null) {
    builder.field(ScriptedMetricParser.REDUCE_SCRIPT + ScriptParameterParser.INDEXED_SUFFIX,reduceScriptId);
  }
  if (lang != null) {
    builder.field(ScriptedMetricParser.LANG_FIELD.getPreferredName(),lang);
  }
}
