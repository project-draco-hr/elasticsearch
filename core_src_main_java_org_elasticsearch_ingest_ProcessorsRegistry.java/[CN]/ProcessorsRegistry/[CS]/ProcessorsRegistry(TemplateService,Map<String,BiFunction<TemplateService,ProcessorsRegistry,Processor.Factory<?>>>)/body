{
  Map<String,Processor.Factory> processorFactories=new HashMap<>();
  for (  Map.Entry<String,BiFunction<TemplateService,ProcessorsRegistry,Processor.Factory<?>>> entry : providers.entrySet()) {
    processorFactories.put(entry.getKey(),entry.getValue().apply(templateService,this));
  }
  this.processorFactories=Collections.unmodifiableMap(processorFactories);
}
