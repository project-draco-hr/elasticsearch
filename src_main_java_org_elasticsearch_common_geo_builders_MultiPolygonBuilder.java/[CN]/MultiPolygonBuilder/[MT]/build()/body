{
  Polygon[] polygons;
  if (wrapdateline) {
    ArrayList<Polygon> polygonSet=new ArrayList<Polygon>(this.polygons.size());
    for (    BasePolygonBuilder<?> polygon : this.polygons) {
      for (      Coordinate[][] part : polygon.coordinates()) {
        polygonSet.add(PolygonBuilder.polygon(FACTORY,part));
      }
    }
    polygons=polygonSet.toArray(new Polygon[polygonSet.size()]);
  }
 else {
    polygons=new Polygon[this.polygons.size()];
    Iterator<BasePolygonBuilder<?>> iterator=this.polygons.iterator();
    for (int i=0; iterator.hasNext(); i++) {
      polygons[i]=iterator.next().toPolygon(FACTORY);
    }
  }
  Geometry geometry=polygons.length == 1 ? polygons[0] : FACTORY.createMultiPolygon(polygons);
  return new JtsGeometry(geometry,SPATIAL_CONTEXT,!wrapdateline);
}
