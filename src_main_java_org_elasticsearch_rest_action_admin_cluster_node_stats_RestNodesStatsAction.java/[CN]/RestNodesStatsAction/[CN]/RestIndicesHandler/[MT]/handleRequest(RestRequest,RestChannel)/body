{
  NodesStatsRequest nodesStatsRequest=new NodesStatsRequest(Strings.splitStringByCommaToArray(request.param("nodeId")));
  CommonStatsFlags flags=this.flags;
  if (flags.isSet(Flag.FieldData) && (request.hasParam("fields") || request.hasParam("fielddata_fields"))) {
    flags=flags.clone().fieldDataFields(request.paramAsStringArray("fielddata_fields",request.paramAsStringArray("fields",null)));
  }
 else   if (flags.isSet(Flag.Completion) && (request.hasParam("fields") || request.hasParam("completion_fields"))) {
    flags=flags.clone().completionDataFields(request.paramAsStringArray("completion_fields",request.paramAsStringArray("fields",null)));
  }
  nodesStatsRequest.clear().indices(flags);
  executeNodeStats(request,channel,nodesStatsRequest);
}
