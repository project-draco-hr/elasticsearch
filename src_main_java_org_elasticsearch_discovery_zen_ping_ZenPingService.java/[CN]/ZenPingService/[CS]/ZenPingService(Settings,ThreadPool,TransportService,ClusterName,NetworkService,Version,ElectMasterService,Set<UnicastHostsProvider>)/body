{
  super(settings);
  ImmutableList.Builder<ZenPing> zenPingsBuilder=ImmutableList.builder();
  if (componentSettings.getAsBoolean("multicast.enabled",true)) {
    zenPingsBuilder.add(new MulticastZenPing(settings,threadPool,transportService,clusterName,networkService,version));
  }
  zenPingsBuilder.add(new UnicastZenPing(settings,threadPool,transportService,clusterName,version,electMasterService,unicastHostsProviders));
  this.zenPings=zenPingsBuilder.build();
}
