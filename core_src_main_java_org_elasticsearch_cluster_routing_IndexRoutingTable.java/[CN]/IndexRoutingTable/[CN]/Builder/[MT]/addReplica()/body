{
  for (  IntCursor cursor : shards.keys()) {
    int shardId=cursor.value;
    ShardRouting shard=ShardRouting.newUnassigned(index,shardId,null,false,new UnassignedInfo(UnassignedInfo.Reason.REPLICA_ADDED,null));
    shards.put(shardId,new IndexShardRoutingTable.Builder(shards.get(shard.id())).addShard(shard).build());
  }
  return this;
}
