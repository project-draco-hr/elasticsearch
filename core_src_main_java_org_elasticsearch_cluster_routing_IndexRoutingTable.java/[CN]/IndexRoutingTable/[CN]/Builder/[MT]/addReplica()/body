{
  for (  IntCursor cursor : shards.keys()) {
    int shardId=cursor.value;
    ImmutableShardRouting shard=new ImmutableShardRouting(index,shardId,null,null,null,false,ShardRoutingState.UNASSIGNED,0,new UnassignedInfo(UnassignedInfo.Reason.REPLICA_ADDED,null));
    shards.put(shardId,new IndexShardRoutingTable.Builder(shards.get(shard.id())).addShard(shard).build());
  }
  return this;
}
