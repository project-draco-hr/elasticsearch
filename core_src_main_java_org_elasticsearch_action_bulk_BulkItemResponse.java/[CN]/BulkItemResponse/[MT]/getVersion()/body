{
  if (failure != null) {
    return -1;
  }
  if (response instanceof IndexResponse) {
    return ((IndexResponse)response).getVersion();
  }
 else   if (response instanceof DeleteResponse) {
    return ((DeleteResponse)response).getVersion();
  }
 else   if (response instanceof UpdateResponse) {
    return ((UpdateResponse)response).getVersion();
  }
  return -1;
}
