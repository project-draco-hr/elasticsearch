{
  final BenchmarkRequestBuilder builder=new BenchmarkRequestBuilder(client,indices);
  final BenchmarkSettings settings=randomSettings();
  builder.setIterations(settings.iterations());
  builder.setConcurrency(settings.concurrency());
  builder.setMultiplier(settings.multiplier());
  builder.setSearchType(settings.searchType());
  builder.setWarmup(settings.warmup());
  builder.setNumExecutorNodes(numExecutorNodes);
  final int numCompetitors=between(MIN_SMALL_INTERVAL,MAX_SMALL_INTERVAL);
  for (int i=0; i < numCompetitors; i++) {
    builder.addCompetitor(randomCompetitor(client,COMPETITOR_PREFIX + i,indices,competitionSettingsMap));
  }
  final BenchmarkRequest request=builder.request();
  request.benchmarkName(BENCHMARK_NAME);
  request.cascadeGlobalSettings();
  request.applyLateBoundSettings(indices,new String[]{INDEX_TYPE});
  return request;
}
