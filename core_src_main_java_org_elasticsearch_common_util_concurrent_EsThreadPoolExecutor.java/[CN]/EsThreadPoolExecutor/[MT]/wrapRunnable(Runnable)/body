{
  final Runnable wrappedCommand;
  if (command instanceof AbstractRunnable) {
    wrappedCommand=new FilterAbstractRunnable(contextHolder,(AbstractRunnable)command);
  }
 else {
    wrappedCommand=new FilterRunnable(contextHolder,command);
  }
  return wrappedCommand;
}
