{
  Tuple<ParseField,QueryParser<?>> parseFieldQueryParserTuple=new Tuple<>(queryName,queryParser);
  for (  String name : queryName.getAllNamesIncludedDeprecated()) {
    Tuple<ParseField,QueryParser<?>> previousValue=queryParsers.putIfAbsent(name,parseFieldQueryParserTuple);
    if (previousValue != null) {
      throw new IllegalArgumentException("Query parser [" + previousValue.v2() + "] already registered for name ["+ name+ "] while trying to register ["+ queryParser+ "]");
    }
  }
  namedWriteableRegistry.register(QueryBuilder.class,queryName.getPreferredName(),reader);
}
