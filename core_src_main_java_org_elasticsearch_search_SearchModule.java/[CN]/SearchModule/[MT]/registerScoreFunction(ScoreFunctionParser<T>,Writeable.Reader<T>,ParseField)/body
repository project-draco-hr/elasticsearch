{
  for (  String name : functionName.getAllNamesIncludedDeprecated()) {
    Tuple<ParseField,ScoreFunctionParser<?>> oldValue=scoreFunctionParsers.putIfAbsent(name,new Tuple<>(functionName,parser));
    if (oldValue != null) {
      throw new IllegalArgumentException("Function score parser [" + oldValue.v2() + "] already registered for name ["+ name+ "]");
    }
  }
  namedWriteableRegistry.register(ScoreFunctionBuilder.class,functionName.getPreferredName(),reader);
}
