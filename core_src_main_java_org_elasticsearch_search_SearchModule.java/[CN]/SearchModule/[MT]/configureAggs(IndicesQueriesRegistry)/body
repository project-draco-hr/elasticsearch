{
  MovAvgModelParserMapper movAvgModelParserMapper=new MovAvgModelParserMapper(modelParsers);
  SignificanceHeuristicParserMapper significanceHeuristicParserMapper=new SignificanceHeuristicParserMapper(heuristicParsers);
  registerAggregatorParser(new AvgParser());
  registerAggregatorParser(new SumParser());
  registerAggregatorParser(new MinParser());
  registerAggregatorParser(new MaxParser());
  registerAggregatorParser(new StatsParser());
  registerAggregatorParser(new ExtendedStatsParser());
  registerAggregatorParser(new ValueCountParser());
  registerAggregatorParser(new PercentilesParser());
  registerAggregatorParser(new PercentileRanksParser());
  registerAggregatorParser(new CardinalityParser());
  registerAggregatorParser(new GlobalParser());
  registerAggregatorParser(new MissingParser());
  registerAggregatorParser(new FilterParser());
  registerAggregatorParser(new FiltersParser(indicesQueriesRegistry));
  registerAggregatorParser(new SamplerParser());
  registerAggregatorParser(new DiversifiedSamplerParser());
  registerAggregatorParser(new TermsParser());
  registerAggregatorParser(new SignificantTermsParser(significanceHeuristicParserMapper,indicesQueriesRegistry));
  registerAggregatorParser(new RangeParser());
  registerAggregatorParser(new DateRangeParser());
  registerAggregatorParser(new IpRangeParser());
  registerAggregatorParser(new HistogramParser());
  registerAggregatorParser(new DateHistogramParser());
  registerAggregatorParser(new GeoDistanceParser());
  registerAggregatorParser(new GeoHashGridParser());
  registerAggregatorParser(new NestedParser());
  registerAggregatorParser(new ReverseNestedParser());
  registerAggregatorParser(new TopHitsParser());
  registerAggregatorParser(new GeoBoundsParser());
  registerAggregatorParser(new GeoCentroidParser());
  registerAggregatorParser(new ScriptedMetricParser());
  registerAggregatorParser(new ChildrenParser());
  registerPipelineParser(new DerivativeParser());
  registerPipelineParser(new MaxBucketParser());
  registerPipelineParser(new MinBucketParser());
  registerPipelineParser(new AvgBucketParser());
  registerPipelineParser(new SumBucketParser());
  registerPipelineParser(new StatsBucketParser());
  registerPipelineParser(new ExtendedStatsBucketParser());
  registerPipelineParser(new PercentilesBucketParser());
  registerPipelineParser(new MovAvgParser(movAvgModelParserMapper));
  registerPipelineParser(new CumulativeSumParser());
  registerPipelineParser(new BucketScriptParser());
  registerPipelineParser(new BucketSelectorParser());
  registerPipelineParser(new SerialDiffParser());
  AggregatorParsers aggregatorParsers=new AggregatorParsers(aggParsers,pipelineAggParsers,namedWriteableRegistry);
  AggregationParseElement aggParseElement=new AggregationParseElement(aggregatorParsers,indicesQueriesRegistry);
  AggregationBinaryParseElement aggBinaryParseElement=new AggregationBinaryParseElement(aggregatorParsers,indicesQueriesRegistry);
  AggregationPhase aggPhase=new AggregationPhase(aggParseElement,aggBinaryParseElement);
  bind(AggregatorParsers.class).toInstance(aggregatorParsers);
  bind(AggregationParseElement.class).toInstance(aggParseElement);
  bind(AggregationPhase.class).toInstance(aggPhase);
}
