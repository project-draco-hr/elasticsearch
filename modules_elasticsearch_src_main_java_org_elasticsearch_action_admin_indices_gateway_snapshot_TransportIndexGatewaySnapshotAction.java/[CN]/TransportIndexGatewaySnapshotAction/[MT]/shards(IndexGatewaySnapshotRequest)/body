{
  IndexRoutingTable indexRouting=clusterService.state().routingTable().index(request.index());
  if (indexRouting == null) {
    throw new IndexMissingException(new Index(request.index()));
  }
  return indexRouting.groupByShardsIt();
}
