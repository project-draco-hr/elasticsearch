{
  builder.field("type",contentType());
  if (!names.name().equals(names.indexNameClean())) {
    builder.field("index_name",names.indexNameClean());
  }
  if (boost != 1.0f) {
    builder.field("boost",boost);
  }
  FieldType defaultFieldType=defaultFieldType();
  if (fieldType.indexed() != defaultFieldType.indexed() || fieldType.tokenized() != defaultFieldType.tokenized()) {
    builder.field("index",indexTokenizeOptionToString(fieldType.indexed(),fieldType.tokenized()));
  }
  if (fieldType.stored() != defaultFieldType.stored()) {
    builder.field("store",fieldType.stored());
  }
  if (fieldType.storeTermVectors() != defaultFieldType.storeTermVectors()) {
    builder.field("term_vector",termVectorOptionsToString(fieldType));
  }
  if (fieldType.omitNorms() != defaultFieldType.omitNorms()) {
    builder.field("omit_norms",fieldType.omitNorms());
  }
  if (fieldType.indexOptions() != defaultFieldType.indexOptions()) {
    builder.field("index_options",indexOptionToString(fieldType.indexOptions()));
  }
  if (indexAnalyzer != null && searchAnalyzer != null && indexAnalyzer.name().equals(searchAnalyzer.name()) && !indexAnalyzer.name().startsWith("_") && !indexAnalyzer.name().equals("default")) {
    builder.field("analyzer",indexAnalyzer.name());
  }
 else {
    if (indexAnalyzer != null && !indexAnalyzer.name().startsWith("_") && !indexAnalyzer.name().equals("default")) {
      builder.field("index_analyzer",indexAnalyzer.name());
    }
    if (searchAnalyzer != null && !searchAnalyzer.name().startsWith("_") && !searchAnalyzer.name().equals("default")) {
      builder.field("search_analyzer",searchAnalyzer.name());
    }
  }
  if (postingsFormat != null) {
    if (!postingsFormat.name().equals(defaultPostingFormat())) {
      builder.field("postings_format",postingsFormat.name());
    }
  }
  if (similarity() != null) {
    builder.field("similarity",similarity().name());
  }
  if (customFieldDataSettings != null) {
    builder.field("fielddata",customFieldDataSettings.toDelimitedString(';'));
  }
}
