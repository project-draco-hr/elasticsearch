{
  if (pathType == Defaults.PATH_TYPE && mapperBuilders.isEmpty()) {
    return empty();
  }
 else   if (mapperBuilders.isEmpty()) {
    return new MultiFields(pathType,ImmutableOpenMap.<String,Mapper>of());
  }
 else {
    ContentPath.Type origPathType=context.path().pathType();
    context.path().pathType(pathType);
    context.path().add(mainFieldBuilder.name());
    ImmutableOpenMap.Builder mapperBuilders=this.mapperBuilders;
    for (    ObjectObjectCursor<String,Mapper.Builder> cursor : this.mapperBuilders) {
      String key=cursor.key;
      Mapper.Builder value=cursor.value;
      mapperBuilders.put(key,value.build(context));
    }
    context.path().remove();
    context.path().pathType(origPathType);
    ImmutableOpenMap.Builder<String,Mapper> mappers=mapperBuilders.cast();
    return new MultiFields(pathType,mappers.build());
  }
}
