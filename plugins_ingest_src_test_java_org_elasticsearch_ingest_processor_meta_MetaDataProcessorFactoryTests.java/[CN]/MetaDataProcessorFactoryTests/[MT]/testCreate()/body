{
  MetaDataProcessor.Factory factory=new MetaDataProcessor.Factory();
  Map<String,Object> config=new HashMap<>();
  for (  MetaData metaData : MetaData.values()) {
    config.put(metaData.getFieldName(),randomBoolean() ? "static text" : "{{expression}}");
  }
  MetaDataProcessor processor=factory.create(config);
  assertThat(processor.getTemplates().size(),Matchers.equalTo(7));
  assertThat(processor.getTemplates().get(MetaData.INDEX),Matchers.notNullValue());
  assertThat(processor.getTemplates().get(MetaData.TIMESTAMP),Matchers.notNullValue());
  assertThat(processor.getTemplates().get(MetaData.ID),Matchers.notNullValue());
  assertThat(processor.getTemplates().get(MetaData.ROUTING),Matchers.notNullValue());
  assertThat(processor.getTemplates().get(MetaData.PARENT),Matchers.notNullValue());
  assertThat(processor.getTemplates().get(MetaData.TIMESTAMP),Matchers.notNullValue());
  assertThat(processor.getTemplates().get(MetaData.TTL),Matchers.notNullValue());
}
