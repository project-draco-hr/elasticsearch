{
  super(settings,threadPool);
  this.clusterService=clusterService;
  this.dfsQueryThenFetchAction=dfsQueryThenFetchAction;
  this.queryThenFetchAction=queryThenFetchAction;
  this.dfsQueryAndFetchAction=dfsQueryAndFetchAction;
  this.queryAndFetchAction=queryAndFetchAction;
  this.optimizeSingleShard=componentSettings.getAsBoolean("optimize_single_shard",true);
  transportService.registerHandler(TransportActions.SEARCH,new TransportHandler());
}
