{
  List<SimulateDocumentResult> results=Arrays.asList(new SimulateSimpleDocumentResult(data),new SimulateFailedDocumentResult(new IllegalArgumentException("foo")),new SimulateVerboseDocumentResult(Collections.singletonList(new SimulateProcessorResult("pid",data))));
  response=new SimulatePipelineResponse("_id",results);
  BytesStreamOutput out=new BytesStreamOutput();
  response.writeTo(out);
  StreamInput streamInput=StreamInput.wrap(out.bytes());
  SimulatePipelineResponse otherResponse=new SimulatePipelineResponse();
  otherResponse.readFrom(streamInput);
  assertThat(response,equalTo(otherResponse));
}
