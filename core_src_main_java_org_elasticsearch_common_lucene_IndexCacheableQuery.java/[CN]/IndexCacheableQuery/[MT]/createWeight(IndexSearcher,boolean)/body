{
  if (readerCacheKey == null) {
    throw new IllegalStateException("Rewrite first");
  }
  if (readerCacheKey != searcher.getIndexReader().getCoreCacheKey()) {
    throw new IllegalStateException("Must create weight on the same reader which has been used for rewriting");
  }
  return doCreateWeight(searcher,needsScores);
}
