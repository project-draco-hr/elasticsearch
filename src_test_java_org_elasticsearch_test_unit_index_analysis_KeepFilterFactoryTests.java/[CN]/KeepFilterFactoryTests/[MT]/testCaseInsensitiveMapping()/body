{
  AnalysisService analysisService=AnalysisTestsHelper.createAnalysisServiceFromClassPath(RESOURCE);
  TokenFilterFactory tokenFilter=analysisService.tokenFilter("my_keep_filter");
  assertThat(tokenFilter,instanceOf(KeepWordFilterFactory.class));
  String source="hello small world";
  String[] expected=new String[]{"hello","world"};
  Tokenizer tokenizer=new WhitespaceTokenizer(Version.LUCENE_40,new StringReader(source));
  AnalysisTestsHelper.assertSimpleTSOutput(tokenFilter.create(tokenizer),expected,new int[]{1,2});
}
