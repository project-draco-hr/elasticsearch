{
  Map<String,StoreFileMetaData> metaDataMap=new HashMap<>();
  metaDataMap.put("segments_1",new StoreFileMetaData("segments_1",50,null,null,new BytesRef(new byte[]{1})));
  metaDataMap.put("_0_1.del",new StoreFileMetaData("_0_1.del",42,"foobarbaz",null,new BytesRef()));
  Store.MetadataSnapshot first=new Store.MetadataSnapshot(unmodifiableMap(new HashMap<>(metaDataMap)),emptyMap(),0);
  Store.MetadataSnapshot second=new Store.MetadataSnapshot(unmodifiableMap(new HashMap<>(metaDataMap)),emptyMap(),0);
  Store.RecoveryDiff recoveryDiff=first.recoveryDiff(second);
  assertEquals(recoveryDiff.toString(),recoveryDiff.different.size(),2);
}
