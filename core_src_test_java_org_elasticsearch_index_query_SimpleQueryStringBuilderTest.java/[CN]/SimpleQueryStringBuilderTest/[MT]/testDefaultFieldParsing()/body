{
  QueryParseContext context=createParseContext();
  String query=randomAsciiOfLengthBetween(1,10).toLowerCase(Locale.ROOT);
  String contentString="{\n" + "    \"simple_query_string\" : {\n" + "      \"query\" : \"" + query + "\""+ "    }\n"+ "}";
  XContentParser parser=XContentFactory.xContent(contentString).createParser(contentString);
  context.reset(parser);
  SimpleQueryStringBuilder queryBuilder=new SimpleQueryStringParser().fromXContent(context);
  assertThat(queryBuilder.value(),equalTo(query));
  assertThat(queryBuilder.fields(),notNullValue());
  assertThat(queryBuilder.fields().size(),equalTo(0));
  Query luceneQuery=queryBuilder.toQuery(createShardContext());
  assertThat(luceneQuery,instanceOf(TermQuery.class));
  TermQuery termQuery=(TermQuery)luceneQuery;
  assertThat(termQuery.getTerm(),equalTo(new Term(MetaData.ALL,query)));
}
