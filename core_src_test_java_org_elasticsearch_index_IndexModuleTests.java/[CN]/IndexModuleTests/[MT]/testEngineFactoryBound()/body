{
  final Index index=new Index("foo");
  final Settings settings=Settings.builder().put(IndexMetaData.SETTING_VERSION_CREATED,Version.CURRENT).put("path.home",createTempDir().toString()).build();
  IndexSettings indexSettings=IndexSettingsModule.newIndexSettings(index,settings,Collections.EMPTY_LIST);
  IndexModule module=new IndexModule(indexSettings,null,null,warmer,new AnalysisRegistry(null,new Environment(settings)));
  assertBinding(module,EngineFactory.class,InternalEngineFactory.class);
  module.engineFactoryImpl=MockEngineFactory.class;
  assertBinding(module,EngineFactory.class,MockEngineFactory.class);
}
