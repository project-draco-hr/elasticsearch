{
  bind(AzureStorageSettingsFilter.class).asEagerSingleton();
  if (AzureModule.isSnapshotReady(settings,logger)) {
    bind(Repository.class).to(AzureRepository.class).asEagerSingleton();
    bind(IndexShardRepository.class).to(BlobStoreIndexShardRepository.class).asEagerSingleton();
  }
 else {
    logger.debug("disabling azure snapshot and restore features");
  }
}
