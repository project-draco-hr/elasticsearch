{
  try {
    XContentBuilder builder=XContentFactory.jsonBuilder();
    builder.startObject();
    x.toXContent(builder,new ToXContent.MapParams(Collections.singletonMap(ElasticsearchException.REST_EXCEPTION_SKIP_STACK_TRACE,"true")));
    builder.endObject();
    return builder.string();
  }
 catch (  IOException e) {
    return "{ \"error\" : \"" + e.getMessage() + "\"}";
  }
}
