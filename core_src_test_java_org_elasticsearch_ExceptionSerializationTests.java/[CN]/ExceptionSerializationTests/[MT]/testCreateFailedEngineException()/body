{
  CreateFailedEngineException ex=serialize(new CreateFailedEngineException(new ShardId("idx",2),"type","id",null));
  assertEquals(ex.getShardId(),new ShardId("idx",2));
  assertEquals("type",ex.type());
  assertEquals("id",ex.id());
  assertNull(ex.getCause());
  ex=serialize(new CreateFailedEngineException(null,"type","id",new NullPointerException()));
  assertNull(ex.getShardId());
  assertEquals("type",ex.type());
  assertEquals("id",ex.id());
  assertTrue(ex.getCause() instanceof NullPointerException);
}
