{
  connectionFactory=new ConnectionFactory();
  connectionFactory.setHost(rabbitHost);
  connectionFactory.setPort(rabbitPort);
  connectionFactory.setUsername(rabbitUser);
  connectionFactory.setPassword(rabbitPassword);
  connectionFactory.setVirtualHost(rabbitVhost);
  logger.info("creating rabbitmq river, host [{}], port [{}], user [{}], vhost [{}]",connectionFactory.getHost(),connectionFactory.getPort(),connectionFactory.getUsername(),connectionFactory.getVirtualHost());
  thread=EsExecutors.daemonThreadFactory(settings.globalSettings(),"rabbitmq_river").newThread(new Consumer());
  thread.start();
}
