{
  int failedShards=0;
  for (  RestoreMetaData.ShardRestoreStatus status : shards.values()) {
    if (status.state() == RestoreMetaData.State.FAILURE) {
      failedShards++;
    }
  }
  return failedShards;
}
