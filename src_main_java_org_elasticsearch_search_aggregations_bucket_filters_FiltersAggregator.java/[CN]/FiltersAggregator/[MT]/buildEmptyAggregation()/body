{
  InternalAggregations subAggs=buildEmptySubAggregations();
  List<InternalFilters.Bucket> buckets=Lists.newArrayListWithCapacity(filters.length);
  for (int i=0; i < keys.length; i++) {
    InternalFilters.Bucket bucket=new InternalFilters.Bucket(keys[i],0,subAggs,keyed);
    buckets.add(bucket);
  }
  return new InternalFilters(name,buckets,keyed,reducers(),metaData());
}
