{
  QueryShardContext context=createShardContext();
  context.setAllowUnmappedFields(true);
  FuzzyQueryBuilder fuzzyQueryBuilder=new FuzzyQueryBuilder(STRING_FIELD_NAME,"text");
  fuzzyQueryBuilder.fuzziness(Fuzziness.build(randomFrom("a string which is not auto","3h","200s")));
  try {
    fuzzyQueryBuilder.toQuery(context);
    fail("should have failed with NumberFormatException");
  }
 catch (  NumberFormatException e) {
    assertThat(e.getMessage(),Matchers.containsString("For input string"));
  }
}
