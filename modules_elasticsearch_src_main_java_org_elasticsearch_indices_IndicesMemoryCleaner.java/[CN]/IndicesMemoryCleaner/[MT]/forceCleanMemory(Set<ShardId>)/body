{
  for (  IndexService indexService : indicesService) {
    for (    IndexShard indexShard : indexService) {
      if (!shardsToIgnore.contains(indexShard.shardId())) {
        try {
          indexShard.flush(new Engine.Flush().full(false));
        }
 catch (        FlushNotAllowedEngineException e) {
        }
catch (        IllegalIndexShardStateException e) {
        }
catch (        Exception e) {
          logger.warn(indexShard.shardId() + ": Failed to force flush in order to clean memory",e);
        }
      }
    }
  }
}
