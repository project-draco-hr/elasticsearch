{
  super(settings);
  ImportCustomizer imports=new ImportCustomizer();
  imports.addStarImports("org.joda.time");
  imports.addStaticStars("java.lang.Math");
  CompilerConfiguration config=new CompilerConfiguration();
  config.addCompilationCustomizers(imports);
  config.addCompilationCustomizers(new GroovyBigDecimalTransformer(CompilePhase.CONVERSION));
  if (settings.getAsBoolean(GROOVY_INDY_ENABLED,true)) {
    config.getOptimizationOptions().put(GROOVY_INDY_SETTING_NAME,true);
  }
  this.loader=AccessController.doPrivileged(new PrivilegedAction<GroovyClassLoader>(){
    @Override public GroovyClassLoader run(){
      return new GroovyClassLoader(getClass().getClassLoader(),config);
    }
  }
);
}
