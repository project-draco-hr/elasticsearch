{
  version++;
  if (!primary) {
    throw new IllegalShardRoutingStateException(this,"Not primary, can't restore from snapshot to replica");
  }
  this.restoreSource=restoreSource;
}
