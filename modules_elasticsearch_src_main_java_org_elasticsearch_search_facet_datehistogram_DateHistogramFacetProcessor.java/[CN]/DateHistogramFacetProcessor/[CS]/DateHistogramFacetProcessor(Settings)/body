{
  super(settings);
  InternalDateHistogramFacet.registerStreams();
  dateFieldParsers=MapBuilder.<String,DateFieldParser>newMapBuilder().put("year",new DateFieldParser.YearOfCentury()).put("1y",new DateFieldParser.YearOfCentury()).put("month",new DateFieldParser.MonthOfYear()).put("1m",new DateFieldParser.MonthOfYear()).put("day",new DateFieldParser.DayOfMonth()).put("1d",new DateFieldParser.DayOfMonth()).put("hour",new DateFieldParser.HourOfDay()).put("1h",new DateFieldParser.HourOfDay()).put("minute",new DateFieldParser.MinuteOfHour()).put("1m",new DateFieldParser.MinuteOfHour()).put("second",new DateFieldParser.SecondOfMinute()).put("1s",new DateFieldParser.SecondOfMinute()).immutableMap();
  rounding.put("floor",MutableDateTime.ROUND_FLOOR);
  rounding.put("ceiling",MutableDateTime.ROUND_CEILING);
  rounding.put("half_even",MutableDateTime.ROUND_HALF_EVEN);
  rounding.put("halfEven",MutableDateTime.ROUND_HALF_EVEN);
  rounding.put("half_floor",MutableDateTime.ROUND_HALF_FLOOR);
  rounding.put("halfFloor",MutableDateTime.ROUND_HALF_FLOOR);
  rounding.put("half_ceiling",MutableDateTime.ROUND_HALF_CEILING);
  rounding.put("halfCeiling",MutableDateTime.ROUND_HALF_CEILING);
}
