{
  ImmutableSettings.Builder settings=settingsBuilder().put("plugin.types",CustomDistanceScorePlugin.class.getName());
  startNode("server1",settings);
  client=client("server1");
  client.admin().indices().prepareCreate("test").addMapping("type1",jsonBuilder().startObject().startObject("type1").startObject("properties").startObject("test").field("type","string").endObject().startObject("num1").field("type","date").endObject().endObject().endObject().endObject()).execute().actionGet();
  client.admin().cluster().prepareHealth().setWaitForEvents(Priority.LANGUID).setWaitForYellowStatus().execute().actionGet();
}
