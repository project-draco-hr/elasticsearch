{
  try {
    client().prepareSearch("idx").setQuery(matchAllQuery()).addAggregation(nested("object_field").path("incorrect")).execute().actionGet();
    fail();
  }
 catch (  SearchPhaseExecutionException e) {
    assertThat(e.getMessage(),containsString("[nested] nested path [incorrect] is not nested"));
  }
}
