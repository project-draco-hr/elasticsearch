{
  final TransportResponse response=handler.newInstance();
  try {
    response.readFrom(buffer);
  }
 catch (  Exception e) {
    handleException(handler,new TransportSerializationException("Failed to deserialize response of type [" + response.getClass().getName() + "]",e));
    return;
  }
  threadPool.executor(handler.executor()).execute(new Runnable(){
    @SuppressWarnings({"unchecked"}) @Override public void run(){
      try {
        handler.handleResponse(response);
      }
 catch (      Exception e) {
        handleException(handler,new ResponseHandlerFailureTransportException(e));
      }
    }
  }
);
}
