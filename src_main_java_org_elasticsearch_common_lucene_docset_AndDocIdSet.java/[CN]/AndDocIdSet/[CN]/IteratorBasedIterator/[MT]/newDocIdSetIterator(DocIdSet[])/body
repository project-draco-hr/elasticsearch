{
  if (sets.length == 0) {
    return DocIdSetIterator.empty();
  }
  final DocIdSetIterator[] iterators=new DocIdSetIterator[sets.length];
  int j=0;
  long cost=Integer.MAX_VALUE;
  for (  DocIdSet set : sets) {
    if (set == null) {
      return DocIdSetIterator.empty();
    }
 else {
      DocIdSetIterator docIdSetIterator=set.iterator();
      if (docIdSetIterator == null) {
        return DocIdSetIterator.empty();
      }
      iterators[j++]=docIdSetIterator;
      cost=Math.min(cost,docIdSetIterator.cost());
    }
  }
  if (sets.length == 1) {
    return iterators[0];
  }
  return new IteratorBasedIterator(iterators,cost);
}
