{
  Type superclass=subclass.getGenericSuperclass();
  if (superclass instanceof Class) {
    throw new RuntimeException("Missing type parameter.");
  }
  ParameterizedType parameterized=(ParameterizedType)superclass;
  return canonicalize(parameterized.getActualTypeArguments()[0]);
}
