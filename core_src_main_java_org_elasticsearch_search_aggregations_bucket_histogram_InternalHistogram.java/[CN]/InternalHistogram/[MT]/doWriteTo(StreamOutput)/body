{
  out.writeString(factory.type().name());
  InternalOrder.Streams.writeOrder(order,out);
  out.writeVLong(minDocCount);
  if (minDocCount == 0) {
    EmptyBucketInfo.writeTo(emptyBucketInfo,out);
  }
  out.writeNamedWriteable(format);
  out.writeBoolean(keyed);
  out.writeList(buckets);
}
