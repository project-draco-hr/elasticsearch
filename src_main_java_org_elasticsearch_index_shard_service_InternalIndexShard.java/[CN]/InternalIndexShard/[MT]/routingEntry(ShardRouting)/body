{
  if (!shardRouting.shardId().equals(shardId())) {
    throw new ElasticSearchIllegalArgumentException("Trying to set a routing entry with shardId [" + shardRouting.shardId() + "] on a shard with shardId ["+ shardId()+ "]");
  }
  if (this.shardRouting != null) {
    if (!shardRouting.primary() && this.shardRouting.primary()) {
      logger.warn("suspect illegal state: trying to move shard from primary mode to backup mode");
    }
  }
  this.shardRouting=shardRouting;
  return this;
}
