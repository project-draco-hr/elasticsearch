{
  Filter searchFilter=mapperService.searchFilter(types);
  if (searchFilter != null) {
    query=new XFilteredQuery(query,indexCache.filter().cache(searchFilter));
  }
  return query;
}
