{
  String input="w.0.0.t";
  FilterPath[] filterPaths=FilterPath.compile(singleton(input));
  assertNotNull(filterPaths);
  assertThat(filterPaths,arrayWithSize(1));
  FilterPath filterPath=filterPaths[0];
  assertNotNull(filterPath);
  assertThat(filterPath.matches(),is(false));
  assertThat(filterPath.getSegment(),equalTo("w"));
  filterPath=filterPath.getNext();
  assertNotNull(filterPath);
  assertThat(filterPath.matches(),is(false));
  assertThat(filterPath.getSegment(),equalTo("0"));
  filterPath=filterPath.getNext();
  assertNotNull(filterPath);
  assertThat(filterPath.matches(),is(false));
  assertThat(filterPath.getSegment(),equalTo("0"));
  filterPath=filterPath.getNext();
  assertNotNull(filterPath);
  assertThat(filterPath.matches(),is(false));
  assertThat(filterPath.getSegment(),equalTo("t"));
  filterPath=filterPath.getNext();
  assertNotNull(filterPath);
  assertThat(filterPath.matches(),is(true));
  assertThat(filterPath.getSegment(),isEmptyString());
  assertSame(filterPath,FilterPath.EMPTY);
  input="w\\.0\\.0\\.t";
  filterPaths=FilterPath.compile(singleton(input));
  assertNotNull(filterPaths);
  assertThat(filterPaths,arrayWithSize(1));
  filterPath=filterPaths[0];
  assertNotNull(filterPath);
  assertThat(filterPath.matches(),is(false));
  assertThat(filterPath.getSegment(),equalTo("w.0.0.t"));
  filterPath=filterPath.getNext();
  assertNotNull(filterPath);
  assertThat(filterPath.matches(),is(true));
  assertThat(filterPath.getSegment(),isEmptyString());
  assertSame(filterPath,FilterPath.EMPTY);
  input="w\\.0.0\\.t";
  filterPaths=FilterPath.compile(singleton(input));
  assertNotNull(filterPaths);
  assertThat(filterPaths,arrayWithSize(1));
  filterPath=filterPaths[0];
  assertThat(filterPath.matches(),is(false));
  assertThat(filterPath.getSegment(),equalTo("w.0"));
  filterPath=filterPath.getNext();
  assertNotNull(filterPath);
  assertThat(filterPath.matches(),is(false));
  assertThat(filterPath.getSegment(),equalTo("0.t"));
  filterPath=filterPath.getNext();
  assertNotNull(filterPath);
  assertThat(filterPath.matches(),is(true));
  assertThat(filterPath.getSegment(),isEmptyString());
  assertSame(filterPath,FilterPath.EMPTY);
}
