{
  this.indexFieldData=indexFieldData;
  this.size=size;
  this.comparatorType=comparatorType;
  this.numberOfShards=context.numberOfShards();
  if (excluded == null || excluded.isEmpty()) {
    this.excluded=null;
  }
 else {
    this.excluded=excluded;
  }
  this.matcher=pattern != null ? pattern.matcher("") : null;
  if (allTerms) {
    minCount=-1;
  }
 else {
    minCount=0;
  }
  this.aggregators=new ArrayList<ReaderAggregator>(context.searcher().getIndexReader().leaves().size());
}
