{
  try (final NodeEnvironment env=newNodeEnvironment(settingsBuilder().build())){
    Settings.Builder builder=settingsBuilder().put(IndexMetaData.SETTING_UUID,"foobar");
    Settings settings=builder.build();
    ShardId shardId=new ShardId("foo",0);
    Path[] paths=env.availableShardPaths(shardId);
    Path path=randomFrom(paths);
    int id=randomIntBetween(1,10);
    ShardStateMetaData.FORMAT.write(new ShardStateMetaData(id,true,"0xDEADBEEF"),id,path);
    ShardPath.loadShardPath(logger,env,shardId,settings);
  }
 }
