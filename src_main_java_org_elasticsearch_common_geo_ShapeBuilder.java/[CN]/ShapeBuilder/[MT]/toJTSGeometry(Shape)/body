{
  if (shape instanceof JtsGeometry) {
    return ((JtsGeometry)shape).getGeom();
  }
 else   if (shape instanceof JtsPoint) {
    return ((JtsPoint)shape).getGeom();
  }
 else   if (shape instanceof Rectangle) {
    Rectangle rectangle=(Rectangle)shape;
    if (rectangle.getCrossesDateLine()) {
      throw new IllegalArgumentException("Cannot convert Rectangles that cross the dateline into JTS Geometrys");
    }
    return newPolygon().point(rectangle.getMinX(),rectangle.getMaxY()).point(rectangle.getMaxX(),rectangle.getMaxY()).point(rectangle.getMaxX(),rectangle.getMinY()).point(rectangle.getMinX(),rectangle.getMinY()).point(rectangle.getMinX(),rectangle.getMaxY()).toPolygon();
  }
 else   if (shape instanceof Point) {
    Point point=(Point)shape;
    return GEOMETRY_FACTORY.createPoint(new Coordinate(point.getX(),point.getY()));
  }
  throw new IllegalArgumentException("Shape type [" + shape.getClass().getSimpleName() + "] not supported");
}
