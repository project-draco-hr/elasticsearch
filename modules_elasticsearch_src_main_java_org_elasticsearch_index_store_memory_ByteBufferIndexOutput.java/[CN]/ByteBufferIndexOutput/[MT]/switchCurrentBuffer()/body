{
  if (currentBufferIndex == buffers.size()) {
    currentBuffer=dir.byteBufferCache.acquireBuffer();
    buffers.add(currentBuffer);
  }
 else {
    currentBuffer=buffers.get(currentBufferIndex);
  }
  currentBuffer.position(0);
  bufferStart=(long)dir.byteBufferCache.bufferSizeInBytes() * (long)currentBufferIndex;
  bufferLength=currentBuffer.capacity();
}
