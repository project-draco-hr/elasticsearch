{
  Path path=PathUtils.get("work/test.log");
  IOUtils.deleteFilesIgnoringExceptions(path);
  int CHUNK=(int)ByteSizeValue.parseBytesSizeValue("1k").bytes();
  long DATA=ByteSizeValue.parseBytesSizeValue("10gb").bytes();
  byte[] data=new byte[CHUNK];
  new Random().nextBytes(data);
  StopWatch watch=new StopWatch().start("write");
  try (FileChannel channel=FileChannel.open(path,StandardOpenOption.WRITE,StandardOpenOption.CREATE_NEW)){
    long position=0;
    while (position < DATA) {
      channel.write(ByteBuffer.wrap(data),position);
      position+=data.length;
    }
    watch.stop().start("flush");
    channel.force(true);
  }
   watch.stop();
  System.out.println("Wrote [" + (new ByteSizeValue(DATA)) + "], chunk ["+ (new ByteSizeValue(CHUNK))+ "], in "+ watch);
}
