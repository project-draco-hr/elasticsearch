{
  if (filters.size() == 1) {
    return filters.get(0).getDocIdSet(context,acceptDocs);
  }
  List<DocIdSet> sets=new ArrayList<DocIdSet>(filters.size());
  for (int i=0; i < filters.size(); i++) {
    DocIdSet set=filters.get(i).getDocIdSet(context,acceptDocs);
    if (DocIdSets.isEmpty(set)) {
      continue;
    }
    sets.add(set);
  }
  if (sets.size() == 0) {
    return null;
  }
  if (sets.size() == 1) {
    return sets.get(0);
  }
  return new OrDocIdSet(sets.toArray(new DocIdSet[sets.size()]));
}
