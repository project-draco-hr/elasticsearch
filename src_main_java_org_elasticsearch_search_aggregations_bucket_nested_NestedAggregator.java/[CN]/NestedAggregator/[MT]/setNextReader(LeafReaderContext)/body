{
  this.parentFilter=null;
  this.reader=reader;
  try {
    DocIdSet childDocIdSet=childFilter.getDocIdSet(reader,null);
    if (DocIdSets.isEmpty(childDocIdSet)) {
      childDocs=null;
    }
 else {
      childDocs=childDocIdSet.iterator();
    }
    BitDocIdSetFilter rootDocsFilter=context.searchContext().bitsetFilterCache().getBitDocIdSetFilter(NonNestedDocsFilter.INSTANCE);
    BitDocIdSet rootDocIdSet=rootDocsFilter.getDocIdSet(reader);
    rootDocs=rootDocIdSet.bits();
  }
 catch (  IOException ioe) {
    throw new AggregationExecutionException("Failed to aggregate [" + name + "]",ioe);
  }
}
