{
  if (parentDoc == 0 || childDocs == null) {
    return;
  }
  int prevParentDoc=parentDocs.prevSetBit(parentDoc - 1);
  int childDocId;
  if (childDocs.docID() > prevParentDoc) {
    childDocId=childDocs.docID();
  }
 else {
    childDocId=childDocs.advance(prevParentDoc + 1);
  }
  int numChildren=0;
  for (; childDocId < parentDoc; childDocId=childDocs.nextDoc()) {
    numChildren++;
    collectBucketNoCounts(childDocId,bucketOrd);
  }
  incrementBucketDocCount(bucketOrd,numChildren);
}
