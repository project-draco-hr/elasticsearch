{
  Map<String,Object> params=null;
  Script script=null;
  String lang=null;
  if (randomBoolean()) {
    params=new HashMap<>();
    params.put("param",randomIntBetween(1,100));
  }
  int randomScriptKind=randomIntBetween(0,3);
  if (randomBoolean()) {
    lang="groovy";
  }
switch (randomScriptKind) {
case 0:
{
      if (params == null) {
        script=new Script("return _subset_freq + _subset_size + _superset_freq + _superset_size");
      }
 else {
        script=new Script("return param*(_subset_freq + _subset_size + _superset_freq + _superset_size)/param",ScriptType.INLINE,lang,params);
      }
      break;
    }
case 1:
{
    String scriptString;
    if (params == null) {
      scriptString="return _subset_freq + _subset_size + _superset_freq + _superset_size";
    }
 else {
      scriptString="return param*(_subset_freq + _subset_size + _superset_freq + _superset_size)/param";
    }
    client().prepareIndex().setIndex(ScriptService.SCRIPT_INDEX).setType(ScriptService.DEFAULT_LANG).setId("my_script").setSource(XContentFactory.jsonBuilder().startObject().field("script",scriptString).endObject()).get();
    refresh();
    script=new Script("my_script",ScriptType.INDEXED,lang,params);
    break;
  }
case 2:
{
  if (params == null) {
    script=new Script("significance_script_no_params",ScriptType.FILE,lang,null);
  }
 else {
    script=new Script("significance_script_with_params",ScriptType.FILE,lang,params);
  }
  break;
}
case 3:
{
logger.info("NATIVE SCRIPT");
if (params == null) {
  script=new Script("native_significance_score_script_no_params",ScriptType.INLINE,"native",null);
}
 else {
  script=new Script("native_significance_score_script_with_params",ScriptType.INLINE,"native",params);
}
lang="native";
if (randomBoolean()) {
}
break;
}
}
ScriptHeuristic.ScriptHeuristicBuilder builder=new ScriptHeuristic.ScriptHeuristicBuilder().setScript(script);
return builder;
}
