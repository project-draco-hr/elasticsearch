{
  Query query=null;
  if (Strings.hasLength(request.query()) && !request.query().equals("*")) {
    IndexQueryParser queryParser=queryParserService.defaultIndexQueryParser();
    query=queryParser.parse(QueryBuilders.queryString(request.query())).query();
  }
  return percolate(new DocAndQueryRequest(request.doc(),query));
}
