{
  Tokenizer tokenStream=new MockTokenizer(MockTokenizer.WHITESPACE,true);
  tokenStream.setReader(new StringReader("mykeyword"));
  BytesRef payload=new BytesRef("Surface keyword|friggin payload|10");
  TokenStream suggestTokenStream=new ByteTermAttrToCharTermAttrFilter(new CompletionTokenStream(tokenStream,payload,new CompletionTokenStream.ToFiniteStrings(){
    @Override public Set<IntsRef> toFiniteStrings(    TokenStream stream) throws IOException {
      return suggester.toFiniteStrings(suggester.getTokenStreamToAutomaton(),stream);
    }
  }
));
  assertTokenStreamContents(suggestTokenStream,new String[]{"mykeyword"},null,null,new String[]{"Surface keyword|friggin payload|10"},new int[]{1},null,null);
}
