{
  Builder builder=new SynonymMap.Builder(true);
  for (int i=0; i < 256; i++) {
    builder.add(new CharsRef("" + (i + 1)),new CharsRef("" + (1000 + (i + 1))),true);
  }
  StringBuilder valueBuilder=new StringBuilder();
  for (int i=0; i < 9; i++) {
    valueBuilder.append(i + 1);
    valueBuilder.append(" ");
  }
  MockTokenizer tokenizer=new MockTokenizer(MockTokenizer.WHITESPACE,true);
  tokenizer.setReader(new StringReader(valueBuilder.toString()));
  SynonymFilter filter=new SynonymFilter(tokenizer,builder.build(),true);
  TokenStream suggestTokenStream=new CompletionTokenStream(filter,new BytesRef("Surface keyword|friggin payload|10"),new CompletionTokenStream.ToFiniteStrings(){
    @Override public Set<IntsRef> toFiniteStrings(    TokenStream stream) throws IOException {
      Set<IntsRef> finiteStrings=suggester.toFiniteStrings(suggester.getTokenStreamToAutomaton(),stream);
      return finiteStrings;
    }
  }
);
  suggestTokenStream.reset();
  suggestTokenStream.incrementToken();
  suggestTokenStream.close();
}
