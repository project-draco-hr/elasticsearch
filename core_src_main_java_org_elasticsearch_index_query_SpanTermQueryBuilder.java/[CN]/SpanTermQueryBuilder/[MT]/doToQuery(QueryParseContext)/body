{
  BytesRef valueBytes=null;
  String fieldName=this.fieldName;
  MappedFieldType mapper=context.fieldMapper(fieldName);
  if (mapper != null) {
    fieldName=mapper.names().indexName();
    valueBytes=mapper.indexedValueForSearch(value);
  }
  if (valueBytes == null) {
    valueBytes=BytesRefs.toBytesRef(this.value);
  }
  return new SpanTermQuery(new Term(fieldName,valueBytes));
}
