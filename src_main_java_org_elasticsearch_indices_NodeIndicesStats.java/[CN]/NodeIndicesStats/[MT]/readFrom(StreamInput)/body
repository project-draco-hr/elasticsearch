{
  stats=CommonStats.readCommonStats(in);
  if (in.readBoolean()) {
    int entries=in.readVInt();
    statsByShard=Maps.newHashMap();
    for (int i=0; i < entries; i++) {
      Index index=Index.readIndexName(in);
      int indexShardListSize=in.readVInt();
      List<IndexShardStats> indexShardStats=Lists.newArrayListWithCapacity(indexShardListSize);
      for (int j=0; j < indexShardListSize; j++) {
        indexShardStats.add(IndexShardStats.readIndexShardStats(in));
      }
      statsByShard.put(index,indexShardStats);
    }
  }
}
