{
  ShapeBuilder shape=RandomShapeGenerator.createShapeWithin(getRandom(),null);
  try {
    GeoShapeQueryBuilder builder=new GeoShapeQueryBuilder(GEO_SHAPE_FIELD_NAME,shape);
    builder.relation(null);
    QueryValidationException exception=builder.validate();
    assertThat(exception,notNullValue());
    assertThat(exception.validationErrors(),notNullValue());
    assertThat(exception.validationErrors().size(),equalTo(1));
    assertThat(exception.validationErrors().get(0),equalTo("[" + GeoShapeQueryBuilder.NAME + "] No Shape Relation defined"));
  }
 catch (  IOException e) {
    throw new RuntimeException(e);
  }
}
