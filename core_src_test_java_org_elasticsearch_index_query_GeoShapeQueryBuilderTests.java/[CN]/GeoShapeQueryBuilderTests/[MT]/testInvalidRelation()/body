{
  ShapeBuilder shape=RandomShapeGenerator.createShapeWithin(getRandom(),null);
  try {
    GeoShapeQueryBuilder builder=new GeoShapeQueryBuilder(GEO_SHAPE_FIELD_NAME,shape);
    builder.strategy(SpatialStrategy.TERM);
    ShapeRelation relation=randomFrom(ShapeRelation.DISJOINT,ShapeRelation.WITHIN);
    builder.relation(relation);
    QueryValidationException exception=builder.validate();
    assertThat(exception,notNullValue());
    assertThat(exception.validationErrors(),notNullValue());
    assertThat(exception.validationErrors().size(),equalTo(1));
    assertThat(exception.validationErrors().get(0),equalTo("[" + GeoShapeQueryBuilder.NAME + "] strategy ["+ SpatialStrategy.TERM.getStrategyName()+ "] only supports relation ["+ ShapeRelation.INTERSECTS.getRelationName()+ "] found relation ["+ relation.getRelationName()+ "]"));
  }
 catch (  IOException e) {
    throw new RuntimeException(e);
  }
}
