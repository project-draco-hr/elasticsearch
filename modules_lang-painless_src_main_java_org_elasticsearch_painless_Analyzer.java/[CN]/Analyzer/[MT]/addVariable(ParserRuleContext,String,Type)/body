{
  if (getVariable(name) != null) {
    if (source == null) {
      throw new IllegalArgumentException("Argument name [" + name + "] already defined within the scope.");
    }
 else {
      throw new IllegalArgumentException(Metadata.error(source) + "Variable name [" + name+ "] already defined within the scope.");
    }
  }
  final Variable previous=variables.peekFirst();
  int slot=0;
  if (previous != null) {
    slot+=previous.slot + previous.type.type.getSize();
  }
  final Variable variable=new Variable(name,type,slot);
  variables.push(variable);
  final int update=scopes.pop() + 1;
  scopes.push(update);
  return variable;
}
