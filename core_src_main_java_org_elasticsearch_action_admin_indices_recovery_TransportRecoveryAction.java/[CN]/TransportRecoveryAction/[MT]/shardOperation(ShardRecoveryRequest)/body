{
  IndexService indexService=indicesService.indexServiceSafe(request.shardId().getIndex());
  IndexShard indexShard=indexService.shardSafe(request.shardId().id());
  ShardRecoveryResponse shardRecoveryResponse=new ShardRecoveryResponse(request.shardId());
  RecoveryState state=indexShard.recoveryState();
  shardRecoveryResponse.recoveryState(state);
  return shardRecoveryResponse;
}
