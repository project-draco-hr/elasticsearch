{
  if (this == AUTO) {
    final int len=termLen(text);
    if (len <= 2) {
      return 0.0f;
    }
 else     if (len > 5) {
      return 0.5f;
    }
 else {
      return 0.66f;
    }
  }
  if (fuzziness instanceof Float) {
    return ((Float)fuzziness).floatValue();
  }
 else   if (fuzziness instanceof Integer) {
    int dist=Math.min(((Integer)fuzziness).intValue(),LevenshteinAutomata.MAXIMUM_SUPPORTED_DISTANCE);
    return Math.min(0.999f,Math.max(0.0f,1.0f - ((float)dist / (float)termLen(text))));
  }
 else {
    final float similarity=Float.parseFloat(fuzziness.toString());
    if (similarity >= 0.0f && similarity < 1.0f) {
      return similarity;
    }
  }
  throw new IllegalArgumentException("Can't get similarity from fuzziness [" + fuzziness + "]");
}
