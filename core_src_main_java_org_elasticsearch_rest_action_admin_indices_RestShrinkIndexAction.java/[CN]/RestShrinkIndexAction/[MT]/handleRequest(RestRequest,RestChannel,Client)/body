{
  if (request.param("target") == null) {
    throw new IllegalArgumentException("no target index");
  }
  if (request.param("index") == null) {
    throw new IllegalArgumentException("no source index");
  }
  ShrinkRequest shrinkIndexRequest=new ShrinkRequest(request.param("target"),request.param("index"));
  if (request.hasContent()) {
    shrinkIndexRequest.getShrinkIndexReqeust().source(request.content());
  }
  shrinkIndexRequest.timeout(request.paramAsTime("timeout",shrinkIndexRequest.timeout()));
  shrinkIndexRequest.masterNodeTimeout(request.paramAsTime("master_timeout",shrinkIndexRequest.masterNodeTimeout()));
  client.admin().indices().shrinkIndex(shrinkIndexRequest,new AcknowledgedRestListener<>(channel));
}
