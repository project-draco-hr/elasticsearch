{
synchronized (mutex) {
    FieldMappers mappers=nameFieldMappers.get(fieldMapper.names().name());
    if (mappers == null) {
      mappers=new FieldMappers(fieldMapper);
    }
 else {
      mappers=mappers.concat(fieldMapper);
    }
    nameFieldMappers=newMapBuilder(nameFieldMappers).put(fieldMapper.names().name(),mappers).immutableMap();
    mappers=indexNameFieldMappers.get(fieldMapper.names().indexName());
    if (mappers == null) {
      mappers=new FieldMappers(fieldMapper);
    }
 else {
      mappers=mappers.concat(fieldMapper);
    }
    indexNameFieldMappers=newMapBuilder(indexNameFieldMappers).put(fieldMapper.names().indexName(),mappers).immutableMap();
    mappers=fullNameFieldMappers.get(fieldMapper.names().indexName());
    if (mappers == null) {
      mappers=new FieldMappers(fieldMapper);
    }
 else {
      mappers=mappers.concat(fieldMapper);
    }
    fullNameFieldMappers=newMapBuilder(fullNameFieldMappers).put(fieldMapper.names().fullName(),mappers).immutableMap();
  }
}
