{
  List<MutableShardRouting> shards=newArrayList();
  for (  RoutingNode routingNode : this) {
    shards.addAll(routingNode.shardsWithState(index,state));
  }
  return shards;
}
