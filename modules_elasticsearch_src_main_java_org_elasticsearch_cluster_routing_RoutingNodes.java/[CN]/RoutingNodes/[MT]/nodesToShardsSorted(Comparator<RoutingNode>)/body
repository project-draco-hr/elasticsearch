{
  List<RoutingNode> nodes=new ArrayList<RoutingNode>(nodesToShards.values());
  if (comparator != null) {
    Collections.sort(nodes,comparator);
  }
  return nodes;
}
