{
{
    MappingMetaData.Timestamp timestamp=new MappingMetaData.Timestamp(true,null,TimestampFieldMapper.DEFAULT_DATE_TIME_FORMAT,null,null);
    MappingMetaData expected=new MappingMetaData("type",new CompressedString("{}".getBytes(UTF8)),new MappingMetaData.Id(null),new MappingMetaData.Routing(false,null),timestamp,false);
    BytesStreamOutput out=new BytesStreamOutput();
    MappingMetaData.writeTo(expected,out);
    out.close();
    BytesReference bytes=out.bytes();
    MappingMetaData metaData=MappingMetaData.readFrom(new BytesStreamInput(bytes));
    assertThat(metaData,is(expected));
  }
{
    MappingMetaData.Timestamp timestamp=new MappingMetaData.Timestamp(true,null,TimestampFieldMapper.DEFAULT_DATE_TIME_FORMAT,"now",null);
    MappingMetaData expected=new MappingMetaData("type",new CompressedString("{}".getBytes(UTF8)),new MappingMetaData.Id(null),new MappingMetaData.Routing(false,null),timestamp,false);
    BytesStreamOutput out=new BytesStreamOutput();
    MappingMetaData.writeTo(expected,out);
    out.close();
    BytesReference bytes=out.bytes();
    MappingMetaData metaData=MappingMetaData.readFrom(new BytesStreamInput(bytes));
    assertThat(metaData,is(expected));
  }
{
    MappingMetaData.Timestamp timestamp=new MappingMetaData.Timestamp(true,null,TimestampFieldMapper.DEFAULT_DATE_TIME_FORMAT,"now",false);
    MappingMetaData expected=new MappingMetaData("type",new CompressedString("{}".getBytes(UTF8)),new MappingMetaData.Id(null),new MappingMetaData.Routing(false,null),timestamp,false);
    BytesStreamOutput out=new BytesStreamOutput();
    MappingMetaData.writeTo(expected,out);
    out.close();
    BytesReference bytes=out.bytes();
    MappingMetaData metaData=MappingMetaData.readFrom(new BytesStreamInput(bytes));
    assertThat(metaData,is(expected));
  }
}
