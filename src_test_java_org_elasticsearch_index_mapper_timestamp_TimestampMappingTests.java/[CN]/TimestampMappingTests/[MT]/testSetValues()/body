{
  String mapping=XContentFactory.jsonBuilder().startObject().startObject("type").startObject("_timestamp").field("enabled","yes").field("store","no").field("index","no").field("path","timestamp").field("format","year").endObject().endObject().endObject().string();
  DocumentMapper docMapper=createIndex("test").mapperService().documentMapperParser().parse(mapping);
  assertThat(docMapper.timestampFieldMapper().enabled(),equalTo(true));
  assertThat(docMapper.timestampFieldMapper().fieldType().stored(),equalTo(false));
  assertThat(docMapper.timestampFieldMapper().fieldType().indexed(),equalTo(false));
  assertThat(docMapper.timestampFieldMapper().path(),equalTo("timestamp"));
  assertThat(docMapper.timestampFieldMapper().dateTimeFormatter().format(),equalTo("year"));
}
