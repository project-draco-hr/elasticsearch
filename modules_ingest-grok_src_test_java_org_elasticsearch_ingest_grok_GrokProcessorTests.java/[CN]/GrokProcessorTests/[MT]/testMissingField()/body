{
  String fieldName="foo.bar";
  IngestDocument doc=RandomDocumentPicks.randomIngestDocument(random(),new HashMap<>());
  Grok grok=new Grok(Collections.singletonMap("ONE","1"),"%{ONE:one}");
  GrokProcessor processor=new GrokProcessor(grok,fieldName);
  try {
    processor.execute(doc);
    fail();
  }
 catch (  Exception e) {
    assertThat(e.getMessage(),equalTo("field [foo] not present as part of path [foo.bar]"));
  }
}
