{
  final Index index=new Index("test");
  final String name="ngr";
  final Settings indexSettings=ImmutableSettings.EMPTY;
  Settings settings=ImmutableSettings.builder().put("min_gram",2).put("max_gram",3).put("token_chars","letter,digit").build();
  AnalysisTestsHelper.assertSimpleTSOutput(new EdgeNGramTokenizerFactory(index,indexSettings,name,settings).create(new StringReader("??bc d??f g\uD801\uDC00f ")),new String[]{"??b","??bc","d??","d??f","g\uD801\uDC00","g\uD801\uDC00f"});
  settings=ImmutableSettings.builder().put("min_gram",2).put("max_gram",3).put("token_chars","letter,digit,punctuation,whitespace,symbol").build();
  AnalysisTestsHelper.assertSimpleTSOutput(new EdgeNGramTokenizerFactory(index,indexSettings,name,settings).create(new StringReader(" a!$ 9")),new String[]{" a"," a!"});
}
