{
  super.writeTo(out);
  out.writeLong(recoveryId);
  shardId.writeTo(out);
  out.writeString(metaData.name());
  out.writeVLong(position);
  out.writeVLong(metaData.length());
  out.writeOptionalString(metaData.checksum());
  out.writeBytesReference(content);
  if (out.getVersion().onOrAfter(org.elasticsearch.Version.V_1_3_0)) {
    out.writeOptionalString(metaData.writtenBy() == null ? null : metaData.writtenBy().name());
  }
}
