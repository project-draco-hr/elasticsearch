{
  ContextAndHeaderHolder contextAndHeaders=new ContextAndHeaderHolder();
  buildScriptService(Settings.EMPTY);
  createFileScripts("test");
  CompiledScript compiledScript1=scriptService.compile(new Script("file_script",ScriptType.FILE,"test",null),randomFrom(scriptContexts),contextAndHeaders,Collections.emptyMap());
  CompiledScript compiledScript2=scriptService.compile(new Script("file_script",ScriptType.FILE,"test2",null),randomFrom(scriptContexts),contextAndHeaders,Collections.emptyMap());
  assertThat(compiledScript1.compiled(),sameInstance(compiledScript2.compiled()));
}
