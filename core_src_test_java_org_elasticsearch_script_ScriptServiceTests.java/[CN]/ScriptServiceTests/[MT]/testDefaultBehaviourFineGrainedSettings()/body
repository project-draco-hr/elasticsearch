{
  Settings.Builder builder=Settings.builder();
  if (rarely()) {
    builder.put("script.file",randomFrom(ScriptModesTests.ENABLE_VALUES));
  }
  if (rarely()) {
    builder.put("script.indexed","sandbox");
  }
  if (rarely()) {
    builder.put("script.inline","sandbox");
  }
  buildScriptService(builder.build());
  createFileScripts("groovy","mustache","test");
  for (  ScriptContext scriptContext : scriptContexts) {
    assertCompileAccepted("test","script",ScriptType.INLINE,scriptContext);
    assertCompileAccepted("test","script",ScriptType.INDEXED,scriptContext);
    assertCompileAccepted("test","file_script",ScriptType.FILE,scriptContext);
  }
}
