{
  Settings.Builder builder=Settings.builder();
  builder.put(ScriptService.SCRIPT_CACHE_SIZE_SETTING.getKey(),1);
  buildScriptService(builder.build());
  ClusterState state=ClusterState.builder(new ClusterName("_name")).build();
  scriptService.executable(new Script("1+1",ScriptType.INLINE,"test",null),randomFrom(scriptContexts),Collections.emptyMap(),state);
  scriptService.executable(new Script("2+2",ScriptType.INLINE,"test",null),randomFrom(scriptContexts),Collections.emptyMap(),state);
  assertEquals(2L,scriptService.stats().getCompilations());
  assertEquals(1L,scriptService.stats().getCacheEvictions());
}
