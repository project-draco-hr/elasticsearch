{
  ContextAndHeaderHolder contextAndHeaders=new ContextAndHeaderHolder();
  Settings.Builder builder=Settings.builder();
  builder.put(ScriptService.SCRIPT_CACHE_SIZE_SETTING,1);
  buildScriptService(builder.build());
  scriptService.executable(new Script("1+1",ScriptType.INLINE,"test",null),randomFrom(scriptContexts),contextAndHeaders,Collections.emptyMap());
  scriptService.executable(new Script("2+2",ScriptType.INLINE,"test",null),randomFrom(scriptContexts),contextAndHeaders,Collections.emptyMap());
  assertEquals(2L,scriptService.stats().getCompilations());
  assertEquals(1L,scriptService.stats().getCacheEvictions());
}
