{
  this.metadata=metadata;
  definition=metadata.definition;
  settings=metadata.settings;
  incrementScope();
  addVariable(null,"#this",definition.execType);
  metadata.inputValueSlot=addVariable(null,"input",definition.smapType).slot;
  metadata.scoreValueSlot=addVariable(null,"_score",definition.floatType).slot;
  metadata.loopCounterSlot=addVariable(null,"#loop",definition.intType).slot;
  metadata.createStatementMetadata(metadata.root);
  visit(metadata.root);
  decrementScope();
}
