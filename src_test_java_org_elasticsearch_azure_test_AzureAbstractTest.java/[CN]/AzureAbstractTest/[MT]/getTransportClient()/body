{
  Settings settings=ImmutableSettings.settingsBuilder().put("cluster.name","azure").put("transport.tcp.connect_timeout","1s").build();
  TransportClient client=new TransportClient(settings);
  for (  Node node : nodes) {
    NettyTransport nettyTransport=((InternalNode)node).injector().getInstance(NettyTransport.class);
    TransportAddress transportAddress=nettyTransport.boundAddress().publishAddress();
    client.addTransportAddress(transportAddress);
  }
  return client;
}
