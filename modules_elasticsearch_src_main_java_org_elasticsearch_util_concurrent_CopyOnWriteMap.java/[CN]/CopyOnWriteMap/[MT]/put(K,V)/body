{
synchronized (this) {
    Map<K,V> copyMap=copyMap();
    V put=copyMap.put(key,value);
    map=copyMap;
    return put;
  }
}
