{
  while (true) {
    int stamp=counter.getStamp();
    boolean result=counter.compareAndSet(false,false,stamp,stamp + 1);
    if (result) {
      return true;
    }
    if (counter.getReference()) {
      return false;
    }
  }
}
