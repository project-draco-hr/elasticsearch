{
  super(new ShardId("test",0),null,logger);
  Settings settings=Settings.settingsBuilder().put(IndexMetaData.SETTING_VERSION_CREATED,Version.CURRENT).build();
  RootObjectMapper.Builder rootBuilder=new RootObjectMapper.Builder("test");
  Index index=new Index(indexName);
  IndexSettings indexSettings=new IndexSettings(index,settings,Collections.EMPTY_LIST);
  AnalysisService analysisService=new AnalysisService(indexSettings);
  SimilarityService similarityService=new SimilarityService(indexSettings,Collections.EMPTY_MAP);
  MapperService mapperService=new MapperService(indexSettings,analysisService,similarityService,null);
  DocumentMapper.Builder b=new DocumentMapper.Builder(settings,rootBuilder,mapperService);
  DocumentMapperParser parser=new DocumentMapperParser(indexSettings,mapperService,analysisService,similarityService,null);
  this.docMapper=b.build(mapperService,parser);
}
