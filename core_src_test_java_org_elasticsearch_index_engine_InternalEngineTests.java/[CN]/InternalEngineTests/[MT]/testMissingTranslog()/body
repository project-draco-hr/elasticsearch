{
  engine.close();
  Translog translog=createTranslog();
  long id=translog.currentFileGeneration();
  translog.close();
  IOUtils.rm(translog.location().resolve(Translog.getFilename(id)));
  try {
    engine=createEngine(store,primaryTranslogDir);
    fail("engine shouldn't start without a valid translog id");
  }
 catch (  EngineCreationFailureException ex) {
  }
  EngineConfig config=config(defaultSettings,store,primaryTranslogDir,newMergePolicy());
  config.setForceNewTranslog(true);
  engine=new InternalEngine(config);
}
