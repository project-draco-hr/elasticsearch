{
  if (!event.metaDataChanged()) {
    return;
  }
  for (  IndexMetaData indexMetaData : event.state().metaData()) {
    if (!indicesService.hasIndex(indexMetaData.getIndex())) {
      continue;
    }
    if (!event.indexMetaDataChanged(indexMetaData)) {
      continue;
    }
    String index=indexMetaData.getIndex();
    IndexService indexService=indicesService.indexService(index);
    if (indexService == null) {
      continue;
    }
    IndexSettingsService indexSettingsService=indexService.settingsService();
    indexSettingsService.refreshSettings(indexMetaData.getSettings());
  }
}
