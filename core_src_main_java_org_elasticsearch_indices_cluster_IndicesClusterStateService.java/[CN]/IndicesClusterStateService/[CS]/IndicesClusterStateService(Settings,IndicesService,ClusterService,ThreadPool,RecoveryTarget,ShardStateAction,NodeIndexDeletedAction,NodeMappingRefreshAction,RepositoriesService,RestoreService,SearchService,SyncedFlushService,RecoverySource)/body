{
  super(settings);
  this.buildInIndexListener=Arrays.asList(recoverySource,recoveryTarget,searchService,syncedFlushService);
  this.indicesService=indicesService;
  this.clusterService=clusterService;
  this.threadPool=threadPool;
  this.recoveryTarget=recoveryTarget;
  this.shardStateAction=shardStateAction;
  this.nodeIndexDeletedAction=nodeIndexDeletedAction;
  this.nodeMappingRefreshAction=nodeMappingRefreshAction;
  this.restoreService=restoreService;
  this.repositoriesService=repositoriesService;
  this.sendRefreshMapping=this.settings.getAsBoolean("indices.cluster.send_refresh_mapping",true);
}
