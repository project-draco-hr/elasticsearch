{
  super(settings);
  this.buildInIndexListener=Arrays.asList(peerRecoverySourceService,recoveryTargetService,searchService,syncedFlushService);
  this.indicesService=indicesService;
  this.clusterService=clusterService;
  this.threadPool=threadPool;
  this.recoveryTargetService=recoveryTargetService;
  this.shardStateAction=shardStateAction;
  this.nodeMappingRefreshAction=nodeMappingRefreshAction;
  this.restoreService=restoreService;
  this.repositoriesService=repositoriesService;
  this.sendRefreshMapping=this.settings.getAsBoolean("indices.cluster.send_refresh_mapping",true);
  this.nodeServicesProvider=nodeServicesProvider;
}
