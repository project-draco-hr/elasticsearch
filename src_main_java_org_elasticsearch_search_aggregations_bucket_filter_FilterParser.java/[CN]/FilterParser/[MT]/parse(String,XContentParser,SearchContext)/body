{
  ParsedFilter filter=context.queryParserService().parseInnerFilter(parser);
  return new FilterAggregator.Factory(aggregationName,filter == null ? Queries.newMatchAllFilter() : filter.filter());
}
