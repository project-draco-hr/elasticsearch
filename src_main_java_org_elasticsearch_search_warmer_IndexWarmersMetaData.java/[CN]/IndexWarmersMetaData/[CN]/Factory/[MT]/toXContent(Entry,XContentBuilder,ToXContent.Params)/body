{
  boolean binary=params.paramAsBoolean("binary",false);
  builder.startObject(entry.name(),XContentBuilder.FieldCaseConversion.NONE);
  builder.field("types",entry.types());
  builder.field("source");
  if (binary) {
    builder.value(entry.source().bytes(),entry.source().offset(),entry.source().length());
  }
 else {
    Map<String,Object> mapping=XContentFactory.xContent(entry.source()).createParser(entry.source()).mapOrderedAndClose();
    builder.map(mapping);
  }
  builder.endObject();
}
