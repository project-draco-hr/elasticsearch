{
  XContentBuilder mappingBuilder=jsonBuilder();
  mappingBuilder.startObject().startObject(type);
  for (  Object[] objects : mapping) {
    if (!objects[0].toString().equals("_all")) {
      continue;
    }
    mappingBuilder.startObject("_all");
    for (int i=1; i < objects.length; i++) {
      String name=objects[i++].toString();
      Object value=objects[i];
      mappingBuilder.field(name,value);
    }
    mappingBuilder.endObject();
  }
  mappingBuilder.startObject("properties");
  for (  Object[] objects : mapping) {
    if (objects[0].toString().equals("_all")) {
      continue;
    }
    mappingBuilder.startObject(objects[0].toString());
    for (int i=1; i < objects.length; i++) {
      String name=objects[i++].toString();
      Object value=objects[i];
      mappingBuilder.field(name,value);
    }
    mappingBuilder.endObject();
  }
  mappingBuilder.endObject().endObject().endObject();
  builder.addMapping(type,mappingBuilder);
  return builder;
}
