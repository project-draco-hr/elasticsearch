{
  IndexDeleteByQueryResponse response=new IndexDeleteByQueryResponse(randomAsciiOfLength(5),Math.abs(randomLong()),Math.abs(randomLong()),Math.abs(randomLong()),Math.abs(randomLong()));
  Version testVersion=VersionUtils.randomVersionBetween(random(),Version.CURRENT.minimumCompatibilityVersion(),Version.CURRENT);
  BytesStreamOutput output=new BytesStreamOutput();
  output.setVersion(testVersion);
  response.writeTo(output);
  StreamInput streamInput=StreamInput.wrap(output.bytes());
  streamInput.setVersion(testVersion);
  IndexDeleteByQueryResponse deserializedResponse=new IndexDeleteByQueryResponse();
  deserializedResponse.readFrom(streamInput);
  assertThat(deserializedResponse.getIndex(),equalTo(response.getIndex()));
  assertThat(deserializedResponse.getFound(),equalTo(response.getFound()));
  assertThat(deserializedResponse.getDeleted(),equalTo(response.getDeleted()));
  assertThat(deserializedResponse.getMissing(),equalTo(response.getMissing()));
  assertThat(deserializedResponse.getFailed(),equalTo(response.getFailed()));
}
