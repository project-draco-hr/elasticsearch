{
  HttpHost httpHost=new HttpHost(randomHost(),randomPort(),randomScheme());
  Node node=new Node(httpHost);
  assertThat(node.getHttpHost(),sameInstance(httpHost));
  assertThat(node.getAttributes(),notNullValue());
  assertThat(node.getAttributes().size(),equalTo(0));
  assertThat(node.getRoles(),notNullValue());
  assertThat(node.getRoles(),equalTo(new HashSet<>(Arrays.asList(Node.Role.values()))));
  try {
    new Node(null);
    fail("node construction should have failed");
  }
 catch (  NullPointerException e) {
    assertThat(e.getMessage(),equalTo("host cannot be null"));
  }
}
