{
  HttpHost httpHost=new HttpHost(randomHost(),randomPort(),randomScheme());
  Set<Node.Role> roles=randomRoles();
  Map<String,String> attributes=randomAttributes();
  Node node=new Node(httpHost,roles,attributes);
  assertThat(node.getHttpHost(),sameInstance(httpHost));
  assertThat(node.getAttributes(),equalTo(attributes));
  assertThat(node.getRoles(),equalTo(roles));
  try {
    new Node(null,roles,attributes);
    fail("node construction should have failed");
  }
 catch (  NullPointerException e) {
    assertThat(e.getMessage(),equalTo("host cannot be null"));
  }
  try {
    new Node(httpHost,null,attributes);
    fail("node construction should have failed");
  }
 catch (  NullPointerException e) {
    assertThat(e.getMessage(),equalTo("roles cannot be null"));
  }
  try {
    new Node(httpHost,roles,null);
    fail("node construction should have failed");
  }
 catch (  NullPointerException e) {
    assertThat(e.getMessage(),equalTo("attributes cannot be null"));
  }
}
