{
  final Path path=createTempDir().resolve("foo").resolve("0");
  try {
    new ShardPath(true,path,path,"foo",new ShardId("foo","_na_",0));
    fail("Expected IllegalArgumentException");
  }
 catch (  IllegalArgumentException e) {
    assertThat(e.getMessage(),is("shard state path must be different to the data path when using custom data paths"));
  }
}
