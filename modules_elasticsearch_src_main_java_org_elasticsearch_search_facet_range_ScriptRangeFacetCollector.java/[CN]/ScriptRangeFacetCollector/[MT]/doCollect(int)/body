{
  keyScript.setNextDocId(doc);
  valueScript.setNextDocId(doc);
  double key=keyScript.runAsDouble();
  double value=valueScript.runAsDouble();
  for (  RangeFacet.Entry entry : entries) {
    if (key >= entry.getFrom() && key < entry.getTo()) {
      entry.count++;
      entry.totalCount++;
      entry.total+=value;
      if (value < entry.min) {
        entry.min=value;
      }
      if (value > entry.max) {
        entry.max=value;
      }
    }
  }
}
