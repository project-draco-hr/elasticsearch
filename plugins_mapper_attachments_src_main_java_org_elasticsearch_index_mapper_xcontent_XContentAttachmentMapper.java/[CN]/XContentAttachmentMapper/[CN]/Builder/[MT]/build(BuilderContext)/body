{
  ContentPath.Type origPathType=context.path().pathType();
  context.path().pathType(pathType);
  XContentStringFieldMapper contentMapper=contentBuilder.build(context);
  context.path().add(name);
  XContentDateFieldMapper dateMapper=dateBuilder.build(context);
  XContentStringFieldMapper authorMapper=authorBuilder.build(context);
  XContentStringFieldMapper titleMapper=titleBuilder.build(context);
  XContentStringFieldMapper keywordsMapper=keywordsBuilder.build(context);
  context.path().remove();
  context.path().pathType(origPathType);
  return new XContentAttachmentMapper(name,pathType,contentMapper,dateMapper,titleMapper,authorMapper,keywordsMapper);
}
