{
  if (!reserved && this.reserved.isReserved(name)) {
    throw new IllegalArgumentException("Error " + location + ": Variable name ["+ name+ "] is reserved.");
  }
  if (getVariable(null,name) != null) {
    throw new IllegalArgumentException("Error " + location + ": Variable name ["+ name+ "] already defined.");
  }
  try {
    Definition.getType(name);
  }
 catch (  IllegalArgumentException exception) {
  }
  Variable previous=variables.peekFirst();
  int slot=0;
  if (previous != null) {
    slot=previous.slot + previous.type.type.getSize();
  }
  Variable variable=new Variable(location,name,type,slot,readonly);
  variables.push(variable);
  int update=scopes.pop() + 1;
  scopes.push(update);
  return variable;
}
