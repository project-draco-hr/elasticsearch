{
  this.definition=definition;
  this.reserved=reserved;
  incrementScope();
  addVariable("[" + Reserved.THIS + "]",definition.execType.name,Reserved.THIS,true,true);
  addVariable("[" + Reserved.PARAMS + "]",definition.smapType.name,Reserved.PARAMS,true,true);
  addVariable("[" + Reserved.SCORER + "]",definition.defType.name,Reserved.SCORER,true,true);
  addVariable("[" + Reserved.DOC + "]",definition.smapType.name,Reserved.DOC,true,true);
  addVariable("[" + Reserved.VALUE + "]",definition.defType.name,Reserved.VALUE,true,true);
  if (reserved.score) {
    addVariable("[" + Reserved.SCORE + "]",definition.doubleType.name,Reserved.SCORE,true,true);
  }
  if (reserved.ctx) {
    addVariable("[" + Reserved.CTX + "]",definition.smapType.name,Reserved.CTX,true,true);
  }
  if (reserved.loop && settings.getMaxLoopCounter() > 0) {
    addVariable("[" + Reserved.LOOP + "]",definition.intType.name,Reserved.LOOP,true,true);
  }
}
