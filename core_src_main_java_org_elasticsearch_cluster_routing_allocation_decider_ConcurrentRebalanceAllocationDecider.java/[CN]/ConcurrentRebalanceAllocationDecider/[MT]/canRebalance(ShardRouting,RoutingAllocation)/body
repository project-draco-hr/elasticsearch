{
  if (clusterConcurrentRebalance == -1) {
    return allocation.decision(Decision.YES,NAME,"all concurrent rebalances are allowed");
  }
  if (allocation.routingNodes().getRelocatingShardCount() >= clusterConcurrentRebalance) {
    return allocation.decision(Decision.NO,NAME,"too many concurrent rebalances [%d], limit: [%d]",allocation.routingNodes().getRelocatingShardCount(),clusterConcurrentRebalance);
  }
  return allocation.decision(Decision.YES,NAME,"below threshold [%d] for concurrent rebalances",clusterConcurrentRebalance);
}
