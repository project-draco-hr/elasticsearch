{
  reset(parser);
  try {
    parseFieldMatcher(indexSettings.getParseFieldMatcher());
    Query filter=parseContext().parseInnerQueryBuilder().toFilter(this);
    if (filter == null) {
      return null;
    }
    return new ParsedQuery(filter,copyNamedQueries());
  }
  finally {
    reset(null);
  }
}
