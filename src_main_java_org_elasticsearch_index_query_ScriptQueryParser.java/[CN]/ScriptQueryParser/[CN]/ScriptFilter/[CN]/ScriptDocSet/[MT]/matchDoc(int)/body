{
  searchScript.setDocument(doc);
  Object val=searchScript.run();
  if (val == null) {
    return false;
  }
  if (val instanceof Boolean) {
    return (Boolean)val;
  }
  if (val instanceof Number) {
    return ((Number)val).longValue() != 0;
  }
  throw new IllegalArgumentException("Can't handle type [" + val + "] in script filter");
}
