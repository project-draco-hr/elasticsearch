{
  Settings settings=Settings.builder().put("index.analysis.filter.myCollator.type","icu_collation").put("index.analysis.filter.myCollator.language","en").put("index.analysis.filter.myCollator.strength","primary").put("index.analysis.filter.myCollator.alternate","shifted").put("index.analysis.filter.myCollator.variableTop"," ").build();
  AnalysisService analysisService=createAnalysisService(new Index("test","_na_"),settings,new AnalysisICUPlugin());
  TokenFilterFactory filterFactory=analysisService.tokenFilter("myCollator");
  assertCollatesToSame(filterFactory,"foo bar","foobar");
  assertCollation(filterFactory,"foo-bar","foo bar",-1);
}
