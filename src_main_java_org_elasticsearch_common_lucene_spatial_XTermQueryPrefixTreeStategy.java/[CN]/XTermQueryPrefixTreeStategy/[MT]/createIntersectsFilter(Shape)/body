{
  int detailLevel=getGrid().getLevelForDistance(resolveDistErr(shape,ctx,getDistErrPct()));
  List<Node> nodes=getGrid().getNodes(shape,detailLevel,false);
  BytesRef[] nodeTerms=new BytesRef[nodes.size()];
  for (int i=0; i < nodes.size(); i++) {
    nodeTerms[i]=new BytesRef(nodes.get(i).getTokenString());
  }
  return new TermsFilter(fieldName.indexName(),nodeTerms);
}
