{
  int detailLevel=getGrid().getLevelForDistance(resolveDistErr(shape,ctx,getDistErrPct()));
  List<Node> nodes=getGrid().getNodes(shape,detailLevel,false);
  XBooleanFilter filter=new XBooleanFilter();
  for (  Node node : nodes) {
    filter.add(new TermFilter(fieldName.createIndexNameTerm(node.getTokenString())),BooleanClause.Occur.MUST_NOT);
  }
  return filter;
}
