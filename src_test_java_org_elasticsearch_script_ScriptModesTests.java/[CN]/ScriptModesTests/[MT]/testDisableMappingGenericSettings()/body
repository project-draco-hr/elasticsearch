{
  ImmutableSettings.Builder builder=ImmutableSettings.builder().put("script.mapping",randomFrom(DISABLE_VALUES));
  this.scriptModes=new ScriptModes(scriptEngines,builder.build(),Loggers.getLogger(ScriptModesTests.class));
  assertScriptModesAllTypes(ScriptMode.OFF,ALL_LANGS,ScriptContext.MAPPING);
  assertScriptModes(ScriptMode.ON,ALL_LANGS,new ScriptType[]{ScriptType.FILE},ScriptContext.AGGS,ScriptContext.SEARCH,ScriptContext.UPDATE);
  assertScriptModes(ScriptMode.SANDBOX,ALL_LANGS,new ScriptType[]{ScriptType.INDEXED,ScriptType.INLINE},ScriptContext.AGGS,ScriptContext.SEARCH,ScriptContext.UPDATE);
}
