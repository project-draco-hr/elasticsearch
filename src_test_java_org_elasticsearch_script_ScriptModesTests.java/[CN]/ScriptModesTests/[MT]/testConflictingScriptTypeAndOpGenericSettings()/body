{
  ImmutableSettings.Builder builder=ImmutableSettings.builder().put("script.update",randomFrom(DISABLE_VALUES)).put("script.indexed",randomFrom(ENABLE_VALUES)).put("script.inline",ScriptMode.SANDBOX);
  this.scriptModes=new ScriptModes(scriptEngines,builder.build());
  assertScriptModesAllTypes(ScriptMode.OFF,ALL_LANGS,ScriptContext.UPDATE);
  assertScriptModes(ScriptMode.ON,ALL_LANGS,new ScriptType[]{ScriptType.FILE,ScriptType.INDEXED},ScriptContext.MAPPING,ScriptContext.AGGS,ScriptContext.SEARCH);
  assertScriptModes(ScriptMode.SANDBOX,ALL_LANGS,new ScriptType[]{ScriptType.INLINE},ScriptContext.MAPPING,ScriptContext.AGGS,ScriptContext.SEARCH);
}
