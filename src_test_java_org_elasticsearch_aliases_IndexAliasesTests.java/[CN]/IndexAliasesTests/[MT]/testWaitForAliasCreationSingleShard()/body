{
  logger.info("--> creating index [test]");
  admin().indices().create(createIndexRequest("test").settings(settingsBuilder().put("index.numberOfReplicas",0).put("index.numberOfShards",1))).actionGet();
  ensureGreen();
  for (int i=0; i < 10; i++) {
    assertThat(admin().indices().prepareAliases().addAlias("test","alias" + i).execute().actionGet().isAcknowledged(),equalTo(true));
    client().index(indexRequest("alias" + i).type("type1").id("1").source(source("1","test")).refresh(true)).actionGet();
  }
}
