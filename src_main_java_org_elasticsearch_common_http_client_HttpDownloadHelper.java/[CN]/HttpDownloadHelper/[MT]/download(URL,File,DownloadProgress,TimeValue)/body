{
  if (dest.exists() && skipExisting) {
    return true;
  }
  if (progress == null) {
    progress=new NullProgress();
  }
  long timestamp=0;
  boolean hasTimestamp=false;
  if (useTimestamp && dest.exists()) {
    timestamp=dest.lastModified();
    hasTimestamp=true;
  }
  GetThread getThread=new GetThread(source,dest,hasTimestamp,timestamp,progress);
  try {
    getThread.setDaemon(true);
    getThread.start();
    getThread.join(timeout.millis());
    if (getThread.isAlive()) {
      throw new ElasticSearchTimeoutException("The GET operation took longer than " + timeout + ", stopping it.");
    }
  }
 catch (  InterruptedException ie) {
    return false;
  }
 finally {
    getThread.closeStreams();
  }
  return getThread.wasSuccessful();
}
