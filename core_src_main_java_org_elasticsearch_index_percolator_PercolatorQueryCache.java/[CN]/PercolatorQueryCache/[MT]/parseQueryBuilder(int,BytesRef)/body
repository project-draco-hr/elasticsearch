{
  XContent xContent=QUERY_BUILDER_CONTENT_TYPE.xContent();
  try (XContentParser sourceParser=xContent.createParser(qbSource.bytes,qbSource.offset,qbSource.length)){
    QueryShardContext context=queryShardContextSupplier.get();
    return parseQuery(context,mapUnmappedFieldsAsString,sourceParser);
  }
 catch (  IOException e) {
    throw new PercolatorException(index(),"failed to parse query builder for document  [" + docId + "]",e);
  }
}
