{
  XContent xContent=QUERY_BUILDER_CONTENT_TYPE.xContent();
  try (XContentParser sourceParser=xContent.createParser(queryBuilder.bytes,queryBuilder.offset,queryBuilder.length)){
    QueryShardContext context=queryShardContextSupplier.get();
    return PercolatorFieldMapper.parseQuery(context,mapUnmappedFieldsAsString,sourceParser);
  }
 catch (  IOException e) {
    throw new PercolatorException(index(),"failed to parse query builder for document  [" + docId + "]",e);
  }
}
