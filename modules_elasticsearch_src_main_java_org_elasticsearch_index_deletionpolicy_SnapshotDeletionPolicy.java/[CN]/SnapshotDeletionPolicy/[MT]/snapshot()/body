{
synchronized (mutex) {
    if (lastCommit == null) {
      throw new IllegalStateException("Snapshot deletion policy has not been init yet...");
    }
    return snapshot(lastCommit);
  }
}
