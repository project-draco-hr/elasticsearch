{
  IndexShard indexShard=mock(IndexShard.class);
  ShardIndexWarmerService shardIndexWarmerService=mock(ShardIndexWarmerService.class);
  when(shardIndexWarmerService.logger()).thenReturn(logger);
  when(indexShard.warmerService()).thenReturn(shardIndexWarmerService);
  IndexSettings indexSettings=new IndexSettings(IndexMetaData.builder("_index").settings(Settings.builder().put(IndexMetaData.SETTING_NUMBER_OF_SHARDS,1).put(IndexMetaData.SETTING_NUMBER_OF_REPLICAS,0).put(IndexMetaData.SETTING_VERSION_CREATED,Version.CURRENT)).build(),Settings.EMPTY);
  when(indexShard.indexSettings()).thenReturn(indexSettings);
  return indexShard;
}
