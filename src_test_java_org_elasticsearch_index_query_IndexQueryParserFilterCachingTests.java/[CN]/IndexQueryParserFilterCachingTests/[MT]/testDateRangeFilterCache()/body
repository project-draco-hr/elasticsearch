{
  IndexQueryParserService queryParser=queryParser();
  testDateRangeFilterCache(queryParser,null,null,null,true);
  testDateRangeFilterCache(queryParser,null,null,true,true);
  testDateRangeFilterCache(queryParser,null,null,false,false);
  testDateRangeFilterCache(queryParser,"now",null,null,false);
  testDateRangeFilterCache(queryParser,null,"now",null,false);
  testDateRangeFilterCache(queryParser,"now","now",null,false);
  testDateRangeFilterCache(queryParser,"now/d",null,null,true);
  testDateRangeFilterCache(queryParser,null,"now/d",null,true);
  testDateRangeFilterCache(queryParser,"now/d","now/d",null,true);
  testDateRangeFilterCache(queryParser,"2012-01-01",null,null,true);
  testDateRangeFilterCache(queryParser,null,"2012-01-01",null,true);
  testDateRangeFilterCache(queryParser,"2012-01-01","2012-01-01",null,true);
  testDateRangeFilterCache(queryParser,"now","2012-01-01",null,false);
  testDateRangeFilterCache(queryParser,"2012-01-01","now",null,false);
  testDateRangeFilterCache(queryParser,"2012-01-01","now/d",null,true);
  testDateRangeFilterCache(queryParser,"now/d","2012-01-01",null,true);
  testDateRangeFilterCache(queryParser,null,1577836800,null,true);
  testDateRangeFilterCache(queryParser,1325376000,null,null,true);
  testDateRangeFilterCache(queryParser,1325376000,1577836800,null,true);
  testDateRangeFilterCache(queryParser,"now",1577836800,null,false);
  testDateRangeFilterCache(queryParser,1325376000,"now",null,false);
  testDateRangeFilterCache(queryParser,1325376000,"now/d",null,true);
  testDateRangeFilterCache(queryParser,"now/d",1577836800,null,true);
  testDateRangeFilterCache(queryParser,"now",null,true,false);
  testDateRangeFilterCache(queryParser,null,"now",true,false);
  testDateRangeFilterCache(queryParser,"now","now",true,false);
  testDateRangeFilterCache(queryParser,"now/d",null,true,true);
  testDateRangeFilterCache(queryParser,null,"now/d",true,true);
  testDateRangeFilterCache(queryParser,"now/d","now/d",true,true);
  testDateRangeFilterCache(queryParser,"2012-01-01",null,true,true);
  testDateRangeFilterCache(queryParser,null,"2012-01-01",true,true);
  testDateRangeFilterCache(queryParser,"2012-01-01","2012-01-01",true,true);
  testDateRangeFilterCache(queryParser,"now","2012-01-01",true,false);
  testDateRangeFilterCache(queryParser,"2012-01-01","now",true,false);
  testDateRangeFilterCache(queryParser,"2012-01-01","now/d",true,true);
  testDateRangeFilterCache(queryParser,"now/d","2012-01-01",true,true);
  testDateRangeFilterCache(queryParser,null,1577836800,true,true);
  testDateRangeFilterCache(queryParser,1325376000,null,true,true);
  testDateRangeFilterCache(queryParser,1325376000,1577836800,true,true);
  testDateRangeFilterCache(queryParser,"now",1577836800,true,false);
  testDateRangeFilterCache(queryParser,1325376000,"now",true,false);
  testDateRangeFilterCache(queryParser,1325376000,"now/d",true,true);
  testDateRangeFilterCache(queryParser,"now/d",1577836800,true,true);
  testDateRangeFilterCache(queryParser,"now",null,false,false);
  testDateRangeFilterCache(queryParser,null,"now",false,false);
  testDateRangeFilterCache(queryParser,"now","now",false,false);
  testDateRangeFilterCache(queryParser,"now/d",null,false,false);
  testDateRangeFilterCache(queryParser,null,"now/d",false,false);
  testDateRangeFilterCache(queryParser,"now/d","now/d",false,false);
  testDateRangeFilterCache(queryParser,"2012-01-01",null,false,false);
  testDateRangeFilterCache(queryParser,null,"2012-01-01",false,false);
  testDateRangeFilterCache(queryParser,"2012-01-01","2012-01-01",false,false);
  testDateRangeFilterCache(queryParser,"now","2012-01-01",false,false);
  testDateRangeFilterCache(queryParser,"2012-01-01","now",false,false);
  testDateRangeFilterCache(queryParser,"2012-01-01","now/d",false,false);
  testDateRangeFilterCache(queryParser,"now/d","2012-01-01",false,false);
  testDateRangeFilterCache(queryParser,null,1577836800,false,false);
  testDateRangeFilterCache(queryParser,1325376000,null,false,false);
  testDateRangeFilterCache(queryParser,1325376000,1577836800,false,false);
  testDateRangeFilterCache(queryParser,"now",1577836800,false,false);
  testDateRangeFilterCache(queryParser,1325376000,"now",false,false);
  testDateRangeFilterCache(queryParser,1325376000,"now/d",false,false);
  testDateRangeFilterCache(queryParser,"now/d",1577836800,false,false);
}
