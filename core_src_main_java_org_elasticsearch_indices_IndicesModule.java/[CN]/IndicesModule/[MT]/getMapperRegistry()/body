{
  if (metadataMapperParsers.containsKey(FieldNamesFieldMapper.NAME)) {
    throw new IllegalStateException("Metadata mapper [" + FieldNamesFieldMapper.NAME + "] is already registered");
  }
  final Map<String,MetadataFieldMapper.TypeParser> metadataMapperParsers=new LinkedHashMap<>(this.metadataMapperParsers);
  metadataMapperParsers.put(FieldNamesFieldMapper.NAME,new FieldNamesFieldMapper.TypeParser());
  return new MapperRegistry(mapperParsers,metadataMapperParsers);
}
