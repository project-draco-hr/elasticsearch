{
  XContentBuilder builder=XContentFactory.jsonBuilder().startObject().startArray("coordinates").startArray().value("foo").endArray().endArray().endObject();
  Tuple<XContentType,Map<String,Object>> mapTuple=XContentHelper.convertToMap(builder.bytes(),true);
  Map<String,Object> filteredSource=XContentMapValues.filter(mapTuple.v2(),Strings.EMPTY_ARRAY,new String[]{"nonExistingField"});
  assertThat(mapTuple.v2(),equalTo(filteredSource));
}
