{
  super(settings);
  this.environment=environment;
  this.threadPool=threadPool;
  this.clusterService=clusterService;
  this.indicesService=indicesService;
  this.allocationService=allocationService;
  this.metaDataService=metaDataService;
  this.version=version;
  this.riverIndexName=riverIndexName;
  this.aliasValidator=aliasValidator;
  this.nodeEnv=nodeEnv;
  if (indexTemplateFilters.isEmpty()) {
    this.indexTemplateFilter=DEFAULT_INDEX_TEMPLATE_FILTER;
  }
 else {
    IndexTemplateFilter[] templateFilters=new IndexTemplateFilter[indexTemplateFilters.size() + 1];
    templateFilters[0]=DEFAULT_INDEX_TEMPLATE_FILTER;
    int i=1;
    for (    IndexTemplateFilter indexTemplateFilter : indexTemplateFilters) {
      templateFilters[i++]=indexTemplateFilter;
    }
    this.indexTemplateFilter=new IndexTemplateFilter.Compound(templateFilters);
  }
}
