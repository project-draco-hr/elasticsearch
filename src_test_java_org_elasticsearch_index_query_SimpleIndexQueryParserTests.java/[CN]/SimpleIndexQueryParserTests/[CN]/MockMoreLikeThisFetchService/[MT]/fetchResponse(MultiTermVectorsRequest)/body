{
  MultiTermVectorsItemResponse[] responses=new MultiTermVectorsItemResponse[items.size()];
  int i=0;
  for (  TermVectorsRequest item : items) {
    TermVectorsResponse response=new TermVectorsResponse(item.index(),item.type(),item.id());
    response.setExists(true);
    Fields generatedFields=generateFields(item.selectedFields().toArray(Strings.EMPTY_ARRAY),item.id());
    EnumSet<TermVectorsRequest.Flag> flags=EnumSet.of(TermVectorsRequest.Flag.Positions,TermVectorsRequest.Flag.Offsets);
    response.setFields(generatedFields,item.selectedFields(),flags,generatedFields);
    responses[i++]=new MultiTermVectorsItemResponse(response,null);
  }
  return new MultiTermVectorsResponse(responses);
}
