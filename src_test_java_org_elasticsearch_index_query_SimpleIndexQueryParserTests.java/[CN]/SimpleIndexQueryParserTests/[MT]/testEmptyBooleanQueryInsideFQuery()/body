{
  IndexQueryParserService queryParser=queryParser();
  String query=copyToStringFromClasspath("/org/elasticsearch/index/query/fquery-with-empty-bool-query.json");
  XContentParser parser=XContentHelper.createParser(new BytesArray(query));
  ParsedFilter parsedQuery=queryParser.parseInnerFilter(parser);
  assertThat(parsedQuery.filter(),instanceOf(QueryWrapperFilter.class));
  assertThat(((QueryWrapperFilter)parsedQuery.filter()).getQuery(),instanceOf(FilteredQuery.class));
  QueryWrapperFilter inner=(QueryWrapperFilter)((FilteredQuery)((QueryWrapperFilter)parsedQuery.filter()).getQuery()).getFilter();
  assertThat(inner.getQuery(),instanceOf(TermQuery.class));
  TermQuery filter=(TermQuery)inner.getQuery();
  assertThat(filter.getTerm().toString(),equalTo("text:apache"));
}
