{
  IndexQueryParserService queryParser=queryParser();
  String query=copyToStringFromClasspath("/org/elasticsearch/index/query/fquery-with-empty-bool-query.json");
  XContentParser parser=XContentHelper.createParser(new BytesArray(query));
  ParsedFilter parsedQuery=queryParser.parseInnerFilter(parser);
  assertThat(parsedQuery.filter(),instanceOf(QueryWrapperFilter.class));
  assertThat(((QueryWrapperFilter)parsedQuery.filter()).getQuery(),instanceOf(FilteredQuery.class));
  assertThat(((FilteredQuery)((QueryWrapperFilter)parsedQuery.filter()).getQuery()).getFilter(),instanceOf(TermFilter.class));
  TermFilter filter=(TermFilter)((FilteredQuery)((QueryWrapperFilter)parsedQuery.filter()).getQuery()).getFilter();
  assertThat(getTerm(filter).toString(),equalTo("text:apache"));
}
