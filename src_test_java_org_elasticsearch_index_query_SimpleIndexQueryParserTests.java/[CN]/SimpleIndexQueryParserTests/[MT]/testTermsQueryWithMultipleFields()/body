{
  IndexQueryParserService queryParser=queryParser();
  String query=XContentFactory.jsonBuilder().startObject().startObject("terms").array("foo",123).array("bar",456).endObject().endObject().string();
  try {
    queryParser.parse(query).query();
    fail();
  }
 catch (  QueryParsingException ex) {
    assertThat(ex.getMessage(),equalTo("[terms] query does not support multiple fields"));
  }
}
