{
  super(index,indexSettings);
  if (gateway.type().equals(NoneGateway.TYPE)) {
    logger.warn("index gateway is configured, but no cluster level gateway configured, cluster level metadata will be lost on full shutdown");
  }
  this.gateway=(BlobStoreGateway)gateway;
  this.blobStore=this.gateway.blobStore();
  this.chunkSize=componentSettings.getAsBytesSize("chunk_size",this.gateway.chunkSize());
  this.indexPath=this.gateway.basePath().add("indices").add(index.name());
}
