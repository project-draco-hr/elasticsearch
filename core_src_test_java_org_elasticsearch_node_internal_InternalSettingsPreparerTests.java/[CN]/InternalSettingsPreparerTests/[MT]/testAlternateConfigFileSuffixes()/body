{
  InputStream yaml=getClass().getResourceAsStream("/config/elasticsearch.yaml");
  InputStream json=getClass().getResourceAsStream("/config/elasticsearch.json");
  InputStream properties=getClass().getResourceAsStream("/config/elasticsearch.properties");
  Path home=createTempDir();
  Path config=home.resolve("config");
  Files.createDirectory(config);
  Files.copy(yaml,config.resolve("elasticsearch.yaml"));
  Files.copy(json,config.resolve("elasticsearch.json"));
  Files.copy(properties,config.resolve("elasticsearch.properties"));
  Tuple<Settings,Environment> tuple=InternalSettingsPreparer.prepareSettings(settingsBuilder().put("config.ignore_system_properties",true).put("path.home",home).build(),true);
  assertThat(tuple.v1().get("yaml.config.exists"),equalTo("true"));
  assertThat(tuple.v1().get("json.config.exists"),equalTo("true"));
  assertThat(tuple.v1().get("properties.config.exists"),equalTo("true"));
}
