{
  ClusterState state=clusterService.state();
  String[] indicesOrAliases=request.indices();
  request.indices(state.metaData().concreteIndices(indicesOrAliases,request.indicesOptions()));
  if (disableCloseAllIndices) {
    if (state.metaData().isExplicitAllIndices(indicesOrAliases) || state.metaData().isPatternMatchingAllIndices(indicesOrAliases,request.indices())) {
      throw new ElasticsearchIllegalArgumentException("closing all indices is disabled");
    }
  }
  super.doExecute(request,listener);
}
