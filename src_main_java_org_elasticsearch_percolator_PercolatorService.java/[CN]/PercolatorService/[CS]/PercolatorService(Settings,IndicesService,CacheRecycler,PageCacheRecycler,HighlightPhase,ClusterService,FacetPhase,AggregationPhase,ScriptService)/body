{
  super(settings);
  this.indicesService=indicesService;
  this.cacheRecycler=cacheRecycler;
  this.pageCacheRecycler=pageCacheRecycler;
  this.clusterService=clusterService;
  this.highlightPhase=highlightPhase;
  this.facetPhase=facetPhase;
  this.aggregationPhase=aggregationPhase;
  this.scriptService=scriptService;
  this.sortParseElement=new SortParseElement();
  single=new SingleDocumentPercolatorIndex(settings);
  multi=new MultiDocumentPercolatorIndex();
  percolatorTypes=new ByteObjectOpenHashMap<PercolatorType>(6);
  percolatorTypes.put(countPercolator.id(),countPercolator);
  percolatorTypes.put(queryCountPercolator.id(),queryCountPercolator);
  percolatorTypes.put(matchPercolator.id(),matchPercolator);
  percolatorTypes.put(queryPercolator.id(),queryPercolator);
  percolatorTypes.put(scoringPercolator.id(),scoringPercolator);
  percolatorTypes.put(topMatchingPercolator.id(),topMatchingPercolator);
}
