{
  final long numPages=(capacity + pageMask) >>> pageShift;
  Preconditions.checkArgument(numPages <= Integer.MAX_VALUE,"pageSize=" + (pageMask + 1) + " is too small for such as capacity: "+ capacity);
  return (int)numPages;
}
