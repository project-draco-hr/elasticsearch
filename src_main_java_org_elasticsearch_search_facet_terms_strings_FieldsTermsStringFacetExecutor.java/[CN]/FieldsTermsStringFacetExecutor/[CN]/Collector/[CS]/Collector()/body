{
  values=new HashedBytesValues[indexFieldDatas.length];
  aggregators=new StaticAggregatorValueProc[indexFieldDatas.length];
  for (int i=0; i < indexFieldDatas.length; i++) {
    if (excluded.isEmpty() && pattern == null && script == null) {
      aggregators[i]=new StaticAggregatorValueProc(facets);
    }
 else {
      aggregators[i]=new AggregatorValueProc(facets,excluded,pattern,script);
    }
  }
}
