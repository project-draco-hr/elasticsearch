{
  IndexService indexService=indicesService.indexServiceSafe(request.index());
  IndexShard indexShard=indexService.shardSafe(shardId);
  if (request.refresh() && !request.realtime()) {
    indexShard.refresh(new Engine.Refresh().force(REFRESH_FORCE).source("refresh_flag_get"));
  }
  GetResult result=indexShard.getService().get(request.type(),request.id(),request.fields(),request.realtime(),request.version(),request.versionType(),request.fetchSourceContext());
  return new GetResponse(result);
}
