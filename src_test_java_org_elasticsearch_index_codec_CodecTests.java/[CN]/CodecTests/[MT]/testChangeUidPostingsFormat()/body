{
  String mapping=XContentFactory.jsonBuilder().startObject().startObject("type").startObject("_uid").field("postings_format","Lucene41").endObject().endObject().endObject().string();
  CodecService codecService=createCodecService();
  DocumentMapper documentMapper=codecService.mapperService().documentMapperParser().parse(mapping);
  assertThat(documentMapper.rootMapper(UidFieldMapper.class).postingsFormatProvider(),instanceOf(PreBuiltPostingsFormatProvider.class));
  assertThat(documentMapper.rootMapper(UidFieldMapper.class).postingsFormatProvider().get(),instanceOf(Lucene41PostingsFormat.class));
}
