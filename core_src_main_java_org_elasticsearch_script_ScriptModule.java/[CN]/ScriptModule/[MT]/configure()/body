{
  MapBinder<String,NativeScriptFactory> scriptsBinder=MapBinder.newMapBinder(binder(),String.class,NativeScriptFactory.class);
  for (  Map.Entry<String,Class<? extends NativeScriptFactory>> entry : scripts.entrySet()) {
    scriptsBinder.addBinding(entry.getKey()).to(entry.getValue()).asEagerSingleton();
  }
  Multibinder<ScriptEngineService> multibinder=Multibinder.newSetBinder(binder(),ScriptEngineService.class);
  multibinder.addBinding().to(NativeScriptEngineService.class);
  for (  ScriptEngineRegistry.ScriptEngineRegistration scriptEngineRegistration : scriptEngineRegistrations) {
    multibinder.addBinding().to(scriptEngineRegistration.getScriptEngineService()).asEagerSingleton();
  }
  ScriptContextRegistry scriptContextRegistry=new ScriptContextRegistry(customScriptContexts);
  ScriptEngineRegistry scriptEngineRegistry=new ScriptEngineRegistry(scriptEngineRegistrations);
  ScriptSettings scriptSettings=new ScriptSettings(scriptEngineRegistry,scriptContextRegistry);
  bind(ScriptContextRegistry.class).toInstance(scriptContextRegistry);
  bind(ScriptEngineRegistry.class).toInstance(scriptEngineRegistry);
  bind(ScriptSettings.class).toInstance(scriptSettings);
  bind(ScriptService.class).asEagerSingleton();
}
