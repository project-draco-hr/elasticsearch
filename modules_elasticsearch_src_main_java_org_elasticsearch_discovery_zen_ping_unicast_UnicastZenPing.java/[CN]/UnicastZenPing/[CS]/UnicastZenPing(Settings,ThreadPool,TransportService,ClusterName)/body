{
  super(settings);
  this.threadPool=threadPool;
  this.transportService=transportService;
  this.clusterName=clusterName;
  this.hosts=componentSettings.getAsArray("hosts");
  this.nodes=new DiscoveryNode[hosts.length];
  for (int i=0; i < hosts.length; i++) {
    try {
      nodes[i]=new DiscoveryNode("#zen_unicast_" + i + "#",transportService.addressFromString(hosts[i]));
    }
 catch (    Exception e) {
      throw new ElasticSearchIllegalArgumentException("Failed to resolve address for [" + hosts[i] + "]",e);
    }
  }
  transportService.registerHandler(UnicastPingRequestHandler.ACTION,new UnicastPingRequestHandler());
}
