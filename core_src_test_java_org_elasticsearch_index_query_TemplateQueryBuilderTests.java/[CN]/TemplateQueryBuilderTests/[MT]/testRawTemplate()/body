{
  XContentBuilder builder=XContentFactory.jsonBuilder();
  builder.startObject();
  builder.startObject("match_{{template}}");
  builder.endObject();
  builder.endObject();
  String expectedTemplateString="{\"match_{{template}}\":{}}";
  String query="{\"template\": {\"query\": {\"match_{{template}}\": {}},\"params\" : {\"template\" : \"all\"}}}";
  Map<String,Object> params=new HashMap<>();
  params.put("template","all");
  QueryBuilder<?> expectedBuilder=new TemplateQueryBuilder(new Template(expectedTemplateString,ScriptType.INLINE,null,XContentType.JSON,params));
  assertParsedQuery(query,expectedBuilder);
}
