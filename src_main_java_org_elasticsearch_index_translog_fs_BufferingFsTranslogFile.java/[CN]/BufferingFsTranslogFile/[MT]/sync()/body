{
  try {
    long last=lastWrittenPosition;
    if (last == lastSyncPosition) {
      return;
    }
    lastSyncPosition=last;
    rwl.writeLock().lock();
    try {
      flushBuffer();
    }
  finally {
      rwl.writeLock().unlock();
    }
    raf.channel().force(false);
  }
 catch (  Exception e) {
  }
}
