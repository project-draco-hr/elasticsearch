{
  if (bufferCount > 0) {
    raf.channel().write(ByteBuffer.wrap(buffer,0,bufferCount));
    lastWrittenPosition+=bufferCount;
    bufferCount=0;
  }
}
