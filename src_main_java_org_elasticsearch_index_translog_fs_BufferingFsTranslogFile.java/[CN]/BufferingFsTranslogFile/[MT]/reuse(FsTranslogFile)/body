{
  if (!(other instanceof BufferingFsTranslogFile)) {
    return;
  }
  try (ReleasableLock lock=writeLock.acquire()){
    try {
      flushBuffer();
      this.buffer=((BufferingFsTranslogFile)other).buffer;
    }
 catch (    IOException e) {
      throw new TranslogException(shardId,"failed to flush",e);
    }
  }
 }
