{
  super(settings);
  this.threadPool=threadPool;
  this.environment=environment;
  this.processorsRegistry=processorsRegistry;
  this.pipelineStore=new PipelineStore(settings,clusterService,transportService);
  this.pipelineExecutionService=new PipelineExecutionService(pipelineStore,threadPool);
  boolean isNoTribeNode=settings.getByPrefix("tribe.").getAsMap().isEmpty();
  if (isNoTribeNode) {
    clusterService.add(this);
  }
}
