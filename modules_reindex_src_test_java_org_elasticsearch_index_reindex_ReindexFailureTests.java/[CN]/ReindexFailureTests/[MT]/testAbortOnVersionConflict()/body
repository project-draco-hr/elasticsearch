{
  indexRandom(true,client().prepareIndex("dest","test","1").setSource("test","test"));
  indexDocs(100);
  ReindexRequestBuilder copy=reindex().source("source").destination("dest").abortOnVersionConflict(true);
  copy.destination().setOpType(CREATE);
  ReindexResponse response=copy.get();
  assertThat(response,responseMatcher().batches(1).versionConflicts(1).failures(1).created(99));
  for (  Failure failure : response.getIndexingFailures()) {
    assertThat(failure.getMessage(),containsString("VersionConflictEngineException[[test]["));
  }
}
