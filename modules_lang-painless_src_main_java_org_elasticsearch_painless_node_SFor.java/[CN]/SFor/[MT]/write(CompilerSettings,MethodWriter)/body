{
  writeDebugInfo(adapter);
  final Label start=new Label();
  final Label begin=afterthought == null ? start : new Label();
  final Label end=new Label();
  if (initializer instanceof SDeclBlock) {
    ((SDeclBlock)initializer).write(settings,adapter);
  }
 else   if (initializer instanceof AExpression) {
    AExpression initializer=(AExpression)this.initializer;
    initializer.write(settings,adapter);
    adapter.writePop(initializer.expected.sort.size);
  }
  adapter.mark(start);
  if (condition != null) {
    condition.fals=end;
    condition.write(settings,adapter);
  }
  boolean allEscape=false;
  if (block != null) {
    allEscape=block.allEscape;
    int statementCount=Math.max(1,block.statementCount);
    if (afterthought != null) {
      ++statementCount;
    }
    adapter.writeLoopCounter(loopCounterSlot,statementCount);
    block.write(settings,adapter);
  }
 else {
    adapter.writeLoopCounter(loopCounterSlot,1);
  }
  if (afterthought != null) {
    adapter.mark(begin);
    afterthought.write(settings,adapter);
  }
  if (afterthought != null || !allEscape) {
    adapter.goTo(start);
  }
  adapter.mark(end);
}
