{
  SuggestionSearchContext suggest=context.suggest();
  if (suggest == null) {
    return;
  }
  try {
    CharsRef spare=new CharsRef();
    List<Suggestion> suggestions=new ArrayList<Suggestion>(2);
    for (    Map.Entry<String,SuggestionSearchContext.Suggestion> entry : suggest.suggestions().entrySet()) {
      SuggestionSearchContext.Suggestion suggestion=entry.getValue();
      if ("fuzzy".equals(suggestion.suggester())) {
        suggestions.add(executeDirectSpellChecker(entry.getKey(),suggestion,context,spare));
      }
 else {
        throw new ElasticSearchIllegalArgumentException("Unsupported suggester[" + suggestion.suggester() + "]");
      }
    }
    context.queryResult().suggest(new Suggest(suggestions));
  }
 catch (  IOException e) {
    throw new ElasticSearchException("I/O exception during suggest phase",e);
  }
}
