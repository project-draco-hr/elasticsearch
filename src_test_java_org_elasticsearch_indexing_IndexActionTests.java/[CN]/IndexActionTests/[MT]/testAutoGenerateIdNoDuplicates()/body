{
  int numberOfIterations=randomIntBetween(10,50);
  for (int i=0; i < numberOfIterations; i++) {
    createIndex("test");
    int numOfDocs=randomIntBetween(10,100);
    List<IndexRequestBuilder> builders=new ArrayList<>(numOfDocs);
    for (int j=0; j < numOfDocs; j++) {
      builders.add(client().prepareIndex("test","type").setSource("field","value"));
    }
    indexRandom(true,builders);
    logger.info("verifying indexed content");
    int numOfChecks=randomIntBetween(5,10);
    for (int j=0; j < numOfChecks; j++) {
      assertHitCount(client().prepareSearch("test").get(),numOfDocs);
    }
    cluster().wipeIndices("test");
  }
}
