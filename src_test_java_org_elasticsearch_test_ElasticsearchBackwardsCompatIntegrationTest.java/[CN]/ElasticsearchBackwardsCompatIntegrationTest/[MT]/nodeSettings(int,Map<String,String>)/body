{
  ImmutableSettings.Builder builder=ImmutableSettings.builder().put(requiredSettings()).put(TransportModule.TRANSPORT_TYPE_KEY,NettyTransport.class.getName()).put(TransportModule.TRANSPORT_SERVICE_TYPE_KEY,TransportService.class.getName());
  for (  Map.Entry<String,String> level : loggerLevels.entrySet()) {
    builder.put("logger." + level.getKey(),level.getValue());
  }
  if (compatibilityVersion().before(Version.V_1_3_2)) {
    builder.put(Transport.TransportSettings.TRANSPORT_TCP_COMPRESS,false).put(RecoverySettings.INDICES_RECOVERY_COMPRESS,false);
  }
  return builder.build();
}
