{
  ExtendedBounds roundedBounds=null;
  if (extendedBounds != null) {
    extendedBounds.processAndValidate(name,aggregationContext.searchContext(),config.parser());
    roundedBounds=extendedBounds.round(rounding);
  }
  return new HistogramAggregator(name,factories,rounding,order,keyed,minDocCount,roundedBounds,valuesSource,config.formatter(),50,histogramFactory,aggregationContext,parent);
}
