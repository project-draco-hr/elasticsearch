{
  ExtendedBounds roundedBounds=null;
  if (extendedBounds != null) {
    extendedBounds.processAndValidate(name,aggregationContext.searchContext(),parser);
    roundedBounds=extendedBounds.round(rounding);
  }
  return new HistogramAggregator(name,factories,rounding,order,keyed,minDocCount,roundedBounds,valuesSource,formatter,parser,50,histogramFactory,aggregationContext,parent);
}
