def remove_documentation_snapshot(readme_file, repo_url, release, branch):
    pattern = ('* [%s-SNAPSHOT](%sblob/%s/README.md)' % (release, repo_url, branch))
    replacement = ('* [%s](%sblob/v%s/README.md)' % (release, repo_url, release))

    def callback(line):
        if (line.find(pattern) >= 0):
            return line.replace(pattern, replacement)
        else:
            return line
    process_file(readme_file, callback)
