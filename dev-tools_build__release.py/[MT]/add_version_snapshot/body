def add_version_snapshot(readme_file, release, snapshot):
    pattern = ('| %s         ' % release)
    replacement = ('| %s-SNAPSHOT' % snapshot)

    def callback(line):
        if (line.find(pattern) >= 0):
            return (line.replace(pattern, replacement).replace(('%s' % datetime.datetime.now().strftime('%Y-%m-%d')), 'XXXX-XX-XX') + line)
        else:
            return line
    process_file(readme_file, callback)
