def check_artifacts_for_same_jars(artifacts):
    jars = []
    for file in artifacts:
        if file.endswith('.zip'):
            jars.append(subprocess.check_output(("unzip -l %s  | grep '\\.jar$' | awk -F '/' '{ print $NF }' | sort" % file), shell=True))
        if file.endswith('.tar.gz'):
            jars.append(subprocess.check_output(("tar tzvf %s  | grep '\\.jar$' | awk -F '/' '{ print $NF }' | sort" % file), shell=True))
        if file.endswith('.rpm'):
            jars.append(subprocess.check_output(("rpm -pqli %s | grep '\\.jar$' | awk -F '/' '{ print $NF }' | sort" % file), shell=True))
        if file.endswith('.deb'):
            jars.append(subprocess.check_output(("dpkg -c %s   | grep '\\.jar$' | awk -F '/' '{ print $NF }' | sort" % file), shell=True))
    if (len(set(jars)) != 1):
        raise RuntimeError('JAR contents of packages are not the same, please check the package contents. Use [unzip -l], [tar tzvf], [dpkg -c], [rpm -pqli] to inspect')
