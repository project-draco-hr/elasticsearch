def add_documentation_snapshot(readme_file, repo_url, release, snapshot, branch):
    pattern = ('* [%s](%sblob/v%s/README.md)' % (release, repo_url, release))
    replacement = ('* [%s-SNAPSHOT](%sblob/%s/README.md)' % (snapshot, repo_url, branch))

    def callback(line):
        if (line.find(pattern) >= 0):
            return (line.replace(pattern, replacement) + line)
        else:
            return line
    process_file(readme_file, callback)
