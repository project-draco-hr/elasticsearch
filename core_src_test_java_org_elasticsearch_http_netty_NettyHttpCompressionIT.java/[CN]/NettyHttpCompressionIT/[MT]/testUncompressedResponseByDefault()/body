{
  ensureGreen();
  ContentEncodingHeaderExtractor headerExtractor=new ContentEncodingHeaderExtractor();
  CloseableHttpClient httpClient=HttpClients.custom().disableContentCompression().addInterceptorFirst(headerExtractor).build();
  try (RestClient client=createRestClient(httpClient)){
    try (ElasticsearchResponse response=client.performRequest("GET","/",Collections.emptyMap(),null)){
      assertEquals(200,response.getStatusLine().getStatusCode());
      assertFalse(headerExtractor.hasContentEncodingHeader());
    }
   }
 }
