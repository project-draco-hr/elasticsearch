{
  ensureGreen();
  ContentEncodingHeaderExtractor headerExtractor=new ContentEncodingHeaderExtractor();
  CloseableHttpClient httpClient=HttpClients.custom().disableContentCompression().addInterceptorFirst(headerExtractor).build();
  try (RestClient client=restClient(httpClient)){
    try (ElasticsearchResponse response=client.performRequest("POST","/company/employees/1",Collections.emptyMap(),SAMPLE_DOCUMENT)){
      assertEquals(201,response.getStatusLine().getStatusCode());
      assertFalse(headerExtractor.hasContentEncodingHeader());
    }
   }
 }
