{
  if (collectedUids == null) {
    throw new ElasticSearchIllegalStateException("has_child filter/query hasn't executed properly");
  }
  IdReaderTypeCache idReaderTypeCache=searchContext.idCache().reader(reader).type(parentType);
  return new ParentDocSet(reader,collectedUids,idReaderTypeCache);
}
