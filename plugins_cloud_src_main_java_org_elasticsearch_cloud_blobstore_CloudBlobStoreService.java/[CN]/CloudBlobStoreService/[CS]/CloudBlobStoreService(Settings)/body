{
  super(settings);
  String type=componentSettings.get("type");
  if (type == null) {
    type=settings.get("cloud.type");
  }
  if ("aws".equalsIgnoreCase(type) || "amazon".equalsIgnoreCase(type)) {
    type="s3";
  }
 else   if ("rackspace".equalsIgnoreCase(type)) {
    type="cloudfiles";
  }
  this.type=type;
  String account=componentSettings.get("account",settings.get("cloud.account"));
  String key=componentSettings.get("key",settings.get("cloud.key"));
  if (type != null) {
    blobStoreContext=new BlobStoreContextFactory().createContext(type,account,key);
    logger.info("Connected to [{}] blob store service");
  }
 else {
    blobStoreContext=null;
  }
}
