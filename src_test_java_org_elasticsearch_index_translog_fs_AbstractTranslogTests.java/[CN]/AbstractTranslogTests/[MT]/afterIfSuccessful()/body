{
  super.afterIfSuccessful();
  if (translog.isOpen()) {
    assertNotLeaking();
    if (translog.currentId() > 1) {
      translog.markCommitted(translog.currentId());
      assertFileDeleted(translog,translog.currentId() - 1);
    }
    translog.close();
  }
  assertFileIsPresent(translog,translog.currentId());
  IOUtils.rm(translog.location());
}
