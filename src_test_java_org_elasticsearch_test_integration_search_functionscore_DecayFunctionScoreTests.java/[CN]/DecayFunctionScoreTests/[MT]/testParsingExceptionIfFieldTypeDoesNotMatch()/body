{
  createIndexMapped("test","type","test","string","num","string");
  ensureYellow();
  client().index(indexRequest("test").type("type").source(jsonBuilder().startObject().field("test","value").field("num",Integer.toString(1)).endObject())).actionGet();
  refresh();
  DecayFunctionBuilder lfb=new LinearDecayFunctionBuilder("num",Integer.toString(1),Integer.toString(1 / 2));
  ActionFuture<SearchResponse> response=client().search(searchRequest().searchType(SearchType.QUERY_THEN_FETCH).source(searchSource().explain(true).query(functionScoreQuery(termQuery("test","value")).add(new MatchAllFilterBuilder(),lfb).scoreMode("multiply"))));
  response.actionGet();
}
