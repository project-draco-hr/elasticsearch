{
  IndexCacheModule module=new IndexCacheModule(Settings.builder().put(IndexCacheModule.QUERY_CACHE_TYPE,"custom").build());
  module.registerQueryCache("custom",CustomQueryCache.class);
  try {
    module.registerQueryCache("custom",CustomQueryCache.class);
  }
 catch (  IllegalArgumentException e) {
    assertEquals(e.getMessage(),"Can't register the same [query_cache] more than once for [custom]");
  }
  assertBinding(module,QueryCache.class,CustomQueryCache.class);
}
