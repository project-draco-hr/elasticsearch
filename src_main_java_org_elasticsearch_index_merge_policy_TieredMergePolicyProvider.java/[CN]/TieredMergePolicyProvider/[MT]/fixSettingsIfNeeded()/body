{
  if (!(segmentsPerTier >= maxMergeAtOnce)) {
    int newMaxMergeAtOnce=(int)segmentsPerTier;
    if (newMaxMergeAtOnce <= 1) {
      newMaxMergeAtOnce=2;
    }
    logger.debug("[tiered] merge policy changing max_merge_at_once from [{}] to [{}] because segments_per_tier [{}] has to be higher or equal to it",maxMergeAtOnce,newMaxMergeAtOnce,segmentsPerTier);
    this.maxMergeAtOnce=newMaxMergeAtOnce;
  }
}
