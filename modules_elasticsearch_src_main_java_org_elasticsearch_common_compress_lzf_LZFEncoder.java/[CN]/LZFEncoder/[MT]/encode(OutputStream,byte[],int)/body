{
  int left=length;
  ChunkEncoder enc=new ChunkEncoder(left);
  int chunkLen=Math.min(LZFChunk.MAX_CHUNK_LEN,left);
  enc.encodeChunk(os,data,0,chunkLen);
  left-=chunkLen;
  if (left < 1) {
    return;
  }
  int inputOffset=chunkLen;
  do {
    chunkLen=Math.min(left,LZFChunk.MAX_CHUNK_LEN);
    enc.encodeChunk(os,data,inputOffset,chunkLen);
    inputOffset+=chunkLen;
    left-=chunkLen;
  }
 while (left > 0);
}
