{
  IndexShard indexShard=indicesService.indexServiceSafe(request.shardId().getIndex()).shardSafe(request.shardId().id());
  indexShard.flush(new Engine.Flush().waitIfOngoing(request.waitIfOngoing()).type(request.full() ? Engine.Flush.Type.NEW_WRITER : Engine.Flush.Type.COMMIT_TRANSLOG).force(request.force()));
  return new ShardFlushResponse(request.shardId());
}
