{
  IndexShard indexShard=indicesService.indexServiceSafe(request.getIndex()).shardSafe(request.getShardId());
  indexShard.flush(new Engine.Flush().refresh(request.isRefresh()).type(request.isFull() ? Engine.Flush.Type.NEW_WRITER : Engine.Flush.Type.COMMIT_TRANSLOG).force(request.isForce()));
  return new ShardFlushResponse(request.getIndex(),request.getShardId());
}
