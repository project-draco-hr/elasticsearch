{
  assertAcked(prepareCreate("foobar").addMapping("type1","field","type=string"));
  ensureGreen();
  verify(client().admin().indices().prepareDeleteMapping("foo").setType("type1"),true);
  assertThat(client().admin().indices().prepareTypesExists("foobar").setTypes("type1").get().isExists(),equalTo(true));
  verify(client().admin().indices().prepareDeleteMapping("foobar").setType("type1"),false);
  assertThat(client().admin().indices().prepareTypesExists("foobar").setTypes("type1").get().isExists(),equalTo(false));
}
