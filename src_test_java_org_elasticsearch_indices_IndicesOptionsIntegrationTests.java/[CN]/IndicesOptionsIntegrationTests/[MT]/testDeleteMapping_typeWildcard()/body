{
  verify(client().admin().indices().prepareDeleteMapping("_all").setType("type1"),true);
  assertAcked(prepareCreate("foo").addMapping("type1","field","type=string"));
  assertAcked(prepareCreate("foobar").addMapping("type2","field","type=string"));
  assertAcked(prepareCreate("bar").addMapping("type3","field","type=string"));
  assertAcked(prepareCreate("barbaz").addMapping("type4","field","type=string"));
  ensureYellow();
  assertThat(client().admin().indices().prepareTypesExists("foo").setTypes("type1").get().isExists(),equalTo(true));
  assertThat(client().admin().indices().prepareTypesExists("foobar").setTypes("type2").get().isExists(),equalTo(true));
  assertThat(client().admin().indices().prepareTypesExists("bar").setTypes("type3").get().isExists(),equalTo(true));
  assertThat(client().admin().indices().prepareTypesExists("barbaz").setTypes("type4").get().isExists(),equalTo(true));
  verify(client().admin().indices().prepareDeleteMapping("foo*").setType("type*"),false);
  assertThat(client().admin().indices().prepareTypesExists("foo").setTypes("type1").get().isExists(),equalTo(false));
  assertThat(client().admin().indices().prepareTypesExists("foobar").setTypes("type2").get().isExists(),equalTo(false));
  assertThat(client().admin().indices().prepareTypesExists("bar").setTypes("type3").get().isExists(),equalTo(true));
  assertThat(client().admin().indices().prepareTypesExists("barbaz").setTypes("type4").get().isExists(),equalTo(true));
  assertAcked(client().admin().indices().prepareDelete("foo*"));
  verify(client().admin().indices().prepareDeleteMapping("foo*").setType("type1"),true);
  verify(client().admin().indices().prepareDeleteMapping("_all").setType("type3","type4"),false);
  assertThat(client().admin().indices().prepareTypesExists("bar").setTypes("type3").get().isExists(),equalTo(false));
  assertThat(client().admin().indices().prepareTypesExists("barbaz").setTypes("type4").get().isExists(),equalTo(false));
}
