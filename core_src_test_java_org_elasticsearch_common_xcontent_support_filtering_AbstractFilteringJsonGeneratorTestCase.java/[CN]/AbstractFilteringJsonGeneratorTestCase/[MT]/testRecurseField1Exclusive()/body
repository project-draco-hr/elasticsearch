{
  XContentBuilder expected=newXContentBuilder(true).startObject().field("title","My awesome book").field("pages",456).field("price",27.99).field("timestamp",1428582942867L).nullField("default").startArray("tags").value("elasticsearch").value("java").endArray().startArray("authors").startObject().field("lastname","John").field("firstname","Doe").endObject().startObject().field("lastname","William").field("firstname","Smith").endObject().endArray().startObject("properties").field("weight",0.8d).startObject("language").startObject("en").field("lang","English").field("available",true).startArray("distributors").startObject().startArray("addresses").startObject().field("street","Hampton St").field("city","London").endObject().startObject().field("street","Queen St").field("city","Stornoway").endObject().endArray().endObject().endArray().endObject().startObject("fr").field("lang","French").field("available",false).startArray("distributors").startObject().startArray("addresses").startObject().field("street","Rue Mouffetard").field("city","Paris").endObject().endArray().endObject().endArray().endObject().endObject().endObject().endObject();
  assertXContentBuilder(expected,sample(false,"**.name"));
}
