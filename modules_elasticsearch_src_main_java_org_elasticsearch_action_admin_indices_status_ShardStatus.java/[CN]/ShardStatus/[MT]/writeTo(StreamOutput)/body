{
  super.writeTo(out);
  shardRouting.writeTo(out);
  out.writeByte(state.id());
  if (storeSize == null) {
    out.writeBoolean(false);
  }
 else {
    out.writeBoolean(true);
    storeSize.writeTo(out);
  }
  out.writeLong(translogId);
  out.writeLong(translogOperations);
  if (docs == Docs.UNKNOWN) {
    out.writeBoolean(false);
  }
 else {
    out.writeBoolean(true);
    out.writeInt(docs.numDocs());
    out.writeInt(docs.maxDoc());
    out.writeInt(docs.deletedDocs());
  }
  if (peerRecoveryStatus == null) {
    out.writeBoolean(false);
  }
 else {
    out.writeBoolean(true);
    out.writeByte(peerRecoveryStatus.stage.value);
    out.writeVLong(peerRecoveryStatus.startTime);
    out.writeVLong(peerRecoveryStatus.time);
    out.writeVLong(peerRecoveryStatus.retryTime);
    out.writeVLong(peerRecoveryStatus.indexSize);
    out.writeVLong(peerRecoveryStatus.reusedIndexSize);
    out.writeVLong(peerRecoveryStatus.recoveredIndexSize);
    out.writeVLong(peerRecoveryStatus.recoveredTranslogOperations);
  }
}
