{
  Map<String,Set<String>> routingMap=clusterState.metaData().resolveSearchRouting(Integer.toString(ThreadLocalRandom.current().nextInt(1000)),request.getIndices());
  return clusterService.operationRouting().searchShards(clusterState,request.getIndices(),concreteIndices,routingMap,"_local");
}
