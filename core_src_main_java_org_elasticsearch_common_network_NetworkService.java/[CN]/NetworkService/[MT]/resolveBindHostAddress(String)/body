{
  if (bindHost == null) {
    bindHost=settings.get(GLOBAL_NETWORK_BINDHOST_SETTING,settings.get(GLOBAL_NETWORK_HOST_SETTING));
  }
  if (bindHost == null) {
    for (    CustomNameResolver customNameResolver : customNameResolvers) {
      InetAddress addresses[]=customNameResolver.resolveDefault();
      if (addresses != null) {
        return addresses;
      }
    }
  }
  if (bindHost == null) {
    bindHost=DEFAULT_NETWORK_HOST;
  }
  InetAddress addresses[]=resolveInetAddress(bindHost);
  if (addresses != null) {
    for (    InetAddress address : addresses) {
      if (address.isMulticastAddress()) {
        throw new IllegalArgumentException("bind address: {" + NetworkAddress.format(address) + "} is invalid: multicast address");
      }
      for (      NetworkInterface nic : NetworkUtils.getInterfaces()) {
        for (        InterfaceAddress intf : nic.getInterfaceAddresses()) {
          if (address.equals(intf.getBroadcast())) {
            throw new IllegalArgumentException("bind address: {" + NetworkAddress.format(address) + "} is invalid: broadcast address");
          }
        }
      }
    }
  }
  return addresses;
}
