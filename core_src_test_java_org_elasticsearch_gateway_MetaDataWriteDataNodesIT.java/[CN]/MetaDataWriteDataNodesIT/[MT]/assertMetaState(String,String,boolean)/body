{
  awaitBusy(new Predicate<Object>(){
    @Override public boolean apply(    Object o){
      logger.info("checking if meta state exists...");
      try {
        return shouldBe == metaStateExists(nodeName,indexName);
      }
 catch (      Throwable t) {
        logger.info("failed to load meta state",t);
        return false;
      }
    }
  }
);
  boolean inMetaSate=metaStateExists(nodeName,indexName);
  if (shouldBe) {
    assertTrue("expected " + indexName + " in meta state of node "+ nodeName,inMetaSate);
  }
 else {
    assertFalse("expected " + indexName + " to not be in meta state of node "+ nodeName,inMetaSate);
  }
}
