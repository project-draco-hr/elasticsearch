{
  this.dir=dir;
  this.actualLength=actualLength;
  this.compressor=compressor;
  this.compressExtensions=ImmutableSet.copyOf(compressExtensions);
  this.decompressExtensions=ImmutableSet.copyOf(decompressExtensions);
  this.lockFactory=dir.getLockFactory();
}
