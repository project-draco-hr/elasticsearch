{
  if (currentFieldName == null) {
    throw new MapperParsingException("object mapping [" + name + "] trying to serialize an object with no field associated with it, current value ["+ context.parser().textOrNull()+ "]");
  }
  context.path().add(currentFieldName);
  Mapper objectMapper=mappers.get(currentFieldName);
  if (objectMapper != null) {
    objectMapper.parse(context);
  }
 else {
    Dynamic dynamic=this.dynamic;
    if (dynamic == null) {
      dynamic=context.root().dynamic();
    }
    if (dynamic == Dynamic.STRICT) {
      throw new StrictDynamicMappingException(currentFieldName);
    }
 else     if (dynamic == Dynamic.TRUE) {
      boolean newMapper=false;
synchronized (mutex) {
        objectMapper=mappers.get(currentFieldName);
        if (objectMapper == null) {
          newMapper=true;
          Mapper.Builder builder=context.root().findTemplateBuilder(context,currentFieldName,"object");
          if (builder == null) {
            builder=MapperBuilders.object(currentFieldName).enabled(true).dynamic(dynamic).pathType(pathType);
          }
          context.path().remove();
          BuilderContext builderContext=new BuilderContext(context.indexSettings(),context.path());
          objectMapper=builder.build(builderContext);
          putMapper(objectMapper);
          context.path().add(currentFieldName);
          context.addedMapper();
        }
      }
      if (newMapper) {
        objectMapper.traverse(new FieldMapperListener(){
          @Override public void fieldMapper(          FieldMapper fieldMapper){
            context.docMapper().addFieldMapper(fieldMapper);
          }
        }
);
        objectMapper.traverse(new ObjectMapperListener(){
          @Override public void objectMapper(          ObjectMapper objectMapper){
            context.docMapper().addObjectMapper(objectMapper);
          }
        }
);
      }
      objectMapper.parse(context);
    }
 else {
      context.parser().skipChildren();
    }
  }
  context.path().remove();
}
