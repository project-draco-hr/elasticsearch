{
  IndexService indexService=newIndexService();
  add(indexService,"cats",filter(termQuery("animal","cat")));
  add(indexService,"dogs",filter(termQuery("animal","dog")));
  assertThat(indexService.aliasFilter(),nullValue());
  assertThat(indexService.aliasFilter("dogs").toString(),equalTo("animal:dog"));
  assertThat(indexService.aliasFilter("dogs","cats").toString(),equalTo("animal:dog animal:cat"));
  add(indexService,"cats",filter(termQuery("animal","feline")));
  add(indexService,"dogs",filter(termQuery("animal","canine")));
  assertThat(indexService.aliasFilter("dogs","cats").toString(),equalTo("animal:canine animal:feline"));
}
