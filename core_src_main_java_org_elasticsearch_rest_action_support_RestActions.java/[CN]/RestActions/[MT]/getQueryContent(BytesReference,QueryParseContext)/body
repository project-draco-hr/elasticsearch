{
  try (XContentParser requestParser=XContentFactory.xContent(source).createParser(source)){
    ParseFieldMatcher parseFieldMatcher=context.parseFieldMatcher();
    context.reset(requestParser);
    context.parseFieldMatcher(parseFieldMatcher);
    return context.parseInnerQueryBuilder();
  }
 catch (  IOException e) {
    throw new ElasticsearchException("failed to parse source",e);
  }
 finally {
    context.reset(null);
  }
}
