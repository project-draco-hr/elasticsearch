{
  if (action.equals(RecoveryTarget.Actions.FILE_CHUNK)) {
    RecoveryFileChunkRequest chunkRequest=(RecoveryFileChunkRequest)request;
    if (chunkRequest.name().startsWith(IndexFileNames.SEGMENTS)) {
      logger.debug("corrupting [{}] to {}. file name: [{}]",action,node,chunkRequest.name());
      byte[] array=chunkRequest.content().array();
      array[0]=(byte)~array[0];
      corruptionCount.countDown();
    }
    transport.sendRequest(node,requestId,action,request,options);
  }
 else {
    transport.sendRequest(node,requestId,action,request,options);
  }
}
