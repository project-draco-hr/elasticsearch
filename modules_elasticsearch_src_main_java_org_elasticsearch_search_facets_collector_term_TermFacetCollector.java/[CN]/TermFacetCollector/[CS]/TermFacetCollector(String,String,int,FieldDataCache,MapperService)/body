{
  this.name=name;
  this.fieldDataCache=fieldDataCache;
  this.size=size;
  FieldMapper mapper=mapperService.smartNameFieldMapper(fieldName);
  if (mapper != null) {
    this.fieldName=mapper.names().indexName();
    this.fieldDataType=mapper.fieldDataType();
  }
 else {
    this.fieldName=fieldName;
    this.fieldDataType=FieldData.Type.STRING;
  }
  aggregator=new AggregatorValueProc(popFacets());
}
