{
  ImmutableBlobContainer container=blobStore.immutableBlobContainer(BlobStoreIndexGateway.shardPath(basePath,index,shardId));
  ImmutableMap<String,BlobMetaData> blobs=container.listBlobs();
  List<CommitPoint> commitPointsList=Lists.newArrayList();
  for (  String name : blobs.keySet()) {
    if (name.startsWith("commit-")) {
      try {
        commitPointsList.add(CommitPoints.fromXContent(container.readBlobFully(name)));
      }
 catch (      Exception e) {
        logger.warn("failed to read commit point [{}]",e,name);
      }
    }
  }
  CommitPoints commitPoints=new CommitPoints(commitPointsList);
  if (commitPoints.commits().isEmpty()) {
    return null;
  }
  return commitPoints.commits().get(0);
}
