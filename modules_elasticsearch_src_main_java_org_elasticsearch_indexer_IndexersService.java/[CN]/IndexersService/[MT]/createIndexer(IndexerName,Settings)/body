{
  if (indexersInjectors.containsKey(indexerName)) {
    throw new IndexerException(indexerName,"indexer already exists");
  }
  logger.debug("creating indexer [{}][{}]",indexerName.type(),indexerName.name());
  Settings indexerSettings=settingsBuilder().put(this.settings).put(settings).classLoader(settings.getClassLoader()).globalSettings(settings.getGlobalSettings()).build();
  ModulesBuilder modules=new ModulesBuilder();
  modules.add(new IndexerNameModule(indexerName));
  modules.add(new IndexerSettingsModule(indexerSettings));
  modules.add(new IndexerModule(indexerName,indexerSettings));
  Injector indexInjector=modules.createChildInjector(injector);
  indexersInjectors.put(indexerName,indexInjector);
  Indexer indexer=indexInjector.getInstance(Indexer.class);
  indexers=MapBuilder.newMapBuilder(indexers).put(indexerName,indexer).immutableMap();
  return indexer;
}
