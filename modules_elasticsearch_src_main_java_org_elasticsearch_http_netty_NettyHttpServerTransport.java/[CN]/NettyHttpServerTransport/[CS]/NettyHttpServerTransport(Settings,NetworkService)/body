{
  super(settings);
  this.networkService=networkService;
  ByteSizeValue maxContentLength=componentSettings.getAsBytesSize("max_content_length",settings.getAsBytesSize("http.max_content_length",new ByteSizeValue(100,ByteSizeUnit.MB)));
  this.workerCount=componentSettings.getAsInt("worker_count",Runtime.getRuntime().availableProcessors() * 2);
  this.blockingServer=settings.getAsBoolean("http.blocking_server",settings.getAsBoolean(TCP_BLOCKING_SERVER,settings.getAsBoolean(TCP_BLOCKING,false)));
  this.port=componentSettings.get("port",settings.get("http.port","9200-9300"));
  this.bindHost=componentSettings.get("bind_host",settings.get("http.bind_host",settings.get("http.host")));
  this.publishHost=componentSettings.get("publish_host",settings.get("http.publish_host",settings.get("http.host")));
  this.tcpNoDelay=componentSettings.getAsBoolean("tcp_no_delay",settings.getAsBoolean(TCP_NO_DELAY,true));
  this.tcpKeepAlive=componentSettings.getAsBoolean("tcp_keep_alive",settings.getAsBoolean(TCP_KEEP_ALIVE,true));
  this.reuseAddress=componentSettings.getAsBoolean("reuse_address",settings.getAsBoolean(TCP_REUSE_ADDRESS,NetworkUtils.defaultReuseAddress()));
  this.tcpSendBufferSize=componentSettings.getAsBytesSize("tcp_send_buffer_size",settings.getAsBytesSize(TCP_SEND_BUFFER_SIZE,TCP_DEFAULT_SEND_BUFFER_SIZE));
  this.tcpReceiveBufferSize=componentSettings.getAsBytesSize("tcp_receive_buffer_size",settings.getAsBytesSize(TCP_RECEIVE_BUFFER_SIZE,TCP_DEFAULT_RECEIVE_BUFFER_SIZE));
  this.compression=settings.getAsBoolean("http.compression",true);
  this.compressionLevel=settings.getAsInt("http.compression_level",6);
  if (maxContentLength.bytes() > Integer.MAX_VALUE) {
    logger.warn("maxContentLength[" + maxContentLength + "] set to high value, resetting it to [100mb]");
    maxContentLength=new ByteSizeValue(100,ByteSizeUnit.MB);
  }
  this.maxContentLength=maxContentLength;
}
