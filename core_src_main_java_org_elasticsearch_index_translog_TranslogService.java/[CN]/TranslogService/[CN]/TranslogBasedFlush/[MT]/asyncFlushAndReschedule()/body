{
  threadPool.executor(ThreadPool.Names.FLUSH).execute(new Runnable(){
    @Override public void run(){
      try {
        indexShard.flush(new FlushRequest());
      }
 catch (      IllegalIndexShardStateException e) {
      }
catch (      FlushNotAllowedEngineException e) {
      }
catch (      Throwable e) {
        logger.warn("failed to flush shard on translog threshold",e);
      }
      lastFlushTime=threadPool.estimatedTimeInMillis();
      if (indexShard.state() != IndexShardState.CLOSED) {
        future=threadPool.schedule(computeNextInterval(),ThreadPool.Names.SAME,TranslogBasedFlush.this);
      }
    }
  }
);
}
