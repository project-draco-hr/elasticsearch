{
  client.admin().indices().prepareDelete().execute().actionGet();
  client.admin().indices().prepareCreate("test").setSettings(ImmutableSettings.settingsBuilder().put("index.number_of_shards",1)).execute().actionGet();
  client.admin().cluster().prepareHealth().setWaitForEvents(Priority.LANGUID).setWaitForGreenStatus().execute().actionGet();
  client.admin().indices().preparePutWarmer("warmer_1").setSearchRequest(client.prepareSearch("test").setQuery(QueryBuilders.termQuery("field","value1"))).execute().actionGet();
  client.admin().indices().preparePutWarmer("warmer_2").setSearchRequest(client.prepareSearch("test").setQuery(QueryBuilders.termQuery("field","value2"))).execute().actionGet();
  client.prepareIndex("test","type1","1").setSource("field","value1").setRefresh(true).execute().actionGet();
  client.prepareIndex("test","type1","2").setSource("field","value2").setRefresh(true).execute().actionGet();
}
