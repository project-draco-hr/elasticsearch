{
  List<IndexTemplateMetaData> templates=Lists.newArrayList();
  for (  IndexTemplateMetaData template : state.metaData().templates().values()) {
    if (Regex.simpleMatch(template.template(),request.index)) {
      templates.add(template);
    }
  }
  Collections.sort(templates,new Comparator<IndexTemplateMetaData>(){
    @Override public int compare(    IndexTemplateMetaData o1,    IndexTemplateMetaData o2){
      return o2.order() - o1.order();
    }
  }
);
  return templates;
}
