{
  try {
    Map<String,Object> allVars=new HashMap<>();
    if (vars != null) {
      allVars.putAll(vars);
    }
    return new GroovyScript(compiledScript,createScript(compiledScript.compiled(),allVars),this.logger);
  }
 catch (  ReflectiveOperationException e) {
    throw new GeneralScriptException("failed to build executable " + compiledScript,e);
  }
}
