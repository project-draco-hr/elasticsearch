{
  if (LZF.isCompressed(data,offset,length)) {
    BytesStreamInput siBytes=new BytesStreamInput(data,offset,length);
    LZFStreamInput siLzf=CachedStreamInput.cachedLzf(siBytes);
    XContentType contentType=XContentFactory.xContentType(siLzf);
    siLzf.resetToBufferStart();
    return XContentFactory.xContent(contentType).createParser(siLzf);
  }
 else {
    return XContentFactory.xContent(data,offset,length).createParser(data,offset,length);
  }
}
