{
  if (!(other instanceof BufferingTranslogFile)) {
    return;
  }
  try (ReleasableLock lock=writeLock.acquire()){
    try {
      flush();
      this.buffer=((BufferingTranslogFile)other).buffer;
    }
 catch (    IOException e) {
      throw new TranslogException(shardId,"failed to flush",e);
    }
  }
 }
