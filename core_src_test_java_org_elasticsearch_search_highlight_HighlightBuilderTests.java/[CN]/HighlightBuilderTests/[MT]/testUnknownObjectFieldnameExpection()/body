{
  QueryParseContext context=new QueryParseContext(indicesQueriesRegistry);
  context.parseFieldMatcher(new ParseFieldMatcher(Settings.EMPTY));
  String highlightElement="{\n" + "    \"bad_fieldname\" :  { \"field\" : \"value\" }\n \n" + "}\n";
  XContentParser parser=XContentFactory.xContent(highlightElement).createParser(highlightElement);
  context.reset(parser);
  try {
    HighlightBuilder.PROTOTYPE.fromXContent(context);
    fail("expected a parsing exception");
  }
 catch (  ParsingException e) {
    assertEquals("cannot parse object with name [bad_fieldname]",e.getMessage());
  }
  highlightElement="{\n" + "  \"fields\" : {\n" + "     \"body\" : {\n"+ "        \"bad_fieldname\" : { \"field\" : \"value\" }\n"+ "     }\n"+ "   }\n"+ "}\n";
  parser=XContentFactory.xContent(highlightElement).createParser(highlightElement);
  context.reset(parser);
  try {
    HighlightBuilder.PROTOTYPE.fromXContent(context);
    fail("expected a parsing exception");
  }
 catch (  ParsingException e) {
    assertEquals("cannot parse object with name [bad_fieldname]",e.getMessage());
  }
}
