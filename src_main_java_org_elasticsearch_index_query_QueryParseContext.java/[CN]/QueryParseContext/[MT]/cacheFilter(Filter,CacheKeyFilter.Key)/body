{
  if (filter == null) {
    return null;
  }
  if (this.propagateNoCache || filter instanceof NoCacheFilter) {
    return filter;
  }
  if (cacheKey != null) {
    filter=new CacheKeyFilter.Wrapper(filter,cacheKey);
  }
  return indexQueryParser.indexCache.filter().cache(filter);
}
