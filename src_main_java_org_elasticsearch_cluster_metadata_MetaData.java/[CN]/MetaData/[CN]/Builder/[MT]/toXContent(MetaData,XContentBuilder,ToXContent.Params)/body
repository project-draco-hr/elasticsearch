{
  builder.startObject("meta-data");
  builder.field("version",metaData.version());
  if (!metaData.persistentSettings().getAsMap().isEmpty()) {
    builder.startObject("settings");
    for (    Map.Entry<String,String> entry : metaData.persistentSettings().getAsMap().entrySet()) {
      builder.field(entry.getKey(),entry.getValue());
    }
    builder.endObject();
  }
  builder.startObject("templates");
  for (  IndexTemplateMetaData template : metaData.templates().values()) {
    IndexTemplateMetaData.Builder.toXContent(template,builder,params);
  }
  builder.endObject();
  if (!metaData.indices().isEmpty()) {
    builder.startObject("indices");
    for (    IndexMetaData indexMetaData : metaData) {
      IndexMetaData.Builder.toXContent(indexMetaData,builder,params);
    }
    builder.endObject();
  }
  for (  Map.Entry<String,Custom> entry : metaData.customs().entrySet()) {
    builder.startObject(entry.getKey());
    lookupFactorySafe(entry.getKey()).toXContent(entry.getValue(),builder,params);
    builder.endObject();
  }
  builder.endObject();
}
