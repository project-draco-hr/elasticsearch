{
  if (indices.containsKey(index)) {
    return index;
  }
  String[] lst=aliasAndIndexToIndexMap.get(index);
  if (lst == null) {
    throw new IndexMissingException(new Index(index));
  }
  if (lst.length > 1) {
    throw new ElasticSearchIllegalArgumentException("Alias [" + index + "] has more than one indices associated with it ["+ Arrays.toString(lst)+ "], can't execute a single index op");
  }
  return lst[0];
}
