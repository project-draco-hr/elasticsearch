{
  indicesOrAliases=convertFromWildcards(indicesOrAliases,true,IgnoreIndices.MISSING);
  if (isAllIndices(indicesOrAliases)) {
    return null;
  }
  if (indicesOrAliases.length == 1) {
    String alias=indicesOrAliases[0];
    IndexMetaData indexMetaData=this.indices.get(index);
    if (indexMetaData == null) {
      throw new IndexMissingException(new Index(index));
    }
    AliasMetaData aliasMetaData=indexMetaData.aliases().get(alias);
    boolean filteringRequired=aliasMetaData != null && aliasMetaData.filteringRequired();
    if (!filteringRequired) {
      return null;
    }
    return new String[]{alias};
  }
  List<String> filteringAliases=null;
  for (  String alias : indicesOrAliases) {
    if (alias.equals(index)) {
      return null;
    }
    IndexMetaData indexMetaData=this.indices.get(index);
    if (indexMetaData == null) {
      throw new IndexMissingException(new Index(index));
    }
    AliasMetaData aliasMetaData=indexMetaData.aliases().get(alias);
    if (aliasMetaData != null) {
      boolean filteringRequired=aliasMetaData.filteringRequired();
      if (filteringRequired) {
        if (filteringAliases == null) {
          filteringAliases=newArrayList();
        }
        filteringAliases.add(alias);
      }
 else {
        return null;
      }
    }
  }
  if (filteringAliases == null) {
    return null;
  }
  return filteringAliases.toArray(new String[filteringAliases.size()]);
}
