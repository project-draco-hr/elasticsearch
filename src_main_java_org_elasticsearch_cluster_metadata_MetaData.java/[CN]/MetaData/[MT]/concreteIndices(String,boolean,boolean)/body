{
  if (indices.containsKey(aliasOrIndex)) {
    return new String[]{aliasOrIndex};
  }
  String[] indices=aliasAndIndexToIndexMap.getOrDefault(aliasOrIndex,Strings.EMPTY_ARRAY);
  if (indices.length == 0 && !allowNoIndices) {
    throw new IndexMissingException(new Index(aliasOrIndex));
  }
  if (indices.length > 1 && !allowMultipleIndices) {
    throw new ElasticsearchIllegalArgumentException("Alias [" + aliasOrIndex + "] has more than one indices associated with it ["+ Arrays.toString(indices)+ "], can't execute a single index op");
  }
  return indices;
}
