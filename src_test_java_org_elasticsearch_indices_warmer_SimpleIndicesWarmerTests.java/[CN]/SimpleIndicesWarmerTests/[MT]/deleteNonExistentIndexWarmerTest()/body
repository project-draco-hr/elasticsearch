{
  createIndex("test");
  try {
    client().admin().indices().prepareDeleteWarmer().setIndices("test").setNames("foo").execute().actionGet();
    fail("warmer foo should not exist");
  }
 catch (  IndexWarmerMissingException ex) {
    assertThat(ex.names()[0],equalTo("foo"));
  }
}
