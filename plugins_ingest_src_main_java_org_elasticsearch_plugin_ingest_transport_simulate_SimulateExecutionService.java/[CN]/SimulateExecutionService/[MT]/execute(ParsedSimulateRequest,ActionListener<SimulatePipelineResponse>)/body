{
  threadPool.executor(THREAD_POOL_NAME).execute(new Runnable(){
    @Override public void run(){
      List<SimulateDocumentResult> responses=new ArrayList<>();
      for (      IngestDocument ingestDocument : request.getDocuments()) {
        if (request.isVerbose()) {
          responses.add(executeVerboseItem(request.getPipeline(),ingestDocument));
        }
 else {
          responses.add(executeItem(request.getPipeline(),ingestDocument));
        }
      }
      listener.onResponse(new SimulatePipelineResponse(request.getPipeline().getId(),request.isVerbose(),responses));
    }
  }
);
}
