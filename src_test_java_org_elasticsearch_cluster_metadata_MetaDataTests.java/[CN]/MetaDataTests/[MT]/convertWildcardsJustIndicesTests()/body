{
  MetaData.Builder mdBuilder=MetaData.builder().put(indexBuilder("testXXX")).put(indexBuilder("testXYY")).put(indexBuilder("testYYY")).put(indexBuilder("kuku"));
  MetaData md=mdBuilder.build();
  assertThat(newHashSet(md.convertFromWildcards(new String[]{"testXXX"},true,IgnoreIndices.MISSING)),equalTo(newHashSet("testXXX")));
  assertThat(newHashSet(md.convertFromWildcards(new String[]{"testXXX","testYYY"},true,IgnoreIndices.MISSING)),equalTo(newHashSet("testXXX","testYYY")));
  assertThat(newHashSet(md.convertFromWildcards(new String[]{"testXXX","ku*"},true,IgnoreIndices.MISSING)),equalTo(newHashSet("testXXX","kuku")));
  assertThat(newHashSet(md.convertFromWildcards(new String[]{"test*"},true,IgnoreIndices.MISSING)),equalTo(newHashSet("testXXX","testXYY","testYYY")));
  assertThat(newHashSet(md.convertFromWildcards(new String[]{"testX*"},true,IgnoreIndices.MISSING)),equalTo(newHashSet("testXXX","testXYY")));
  assertThat(newHashSet(md.convertFromWildcards(new String[]{"testX*","kuku"},true,IgnoreIndices.MISSING)),equalTo(newHashSet("testXXX","testXYY","kuku")));
}
