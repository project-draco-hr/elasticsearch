{
  String fieldName=null;
  XContentParser.Token token;
  String innerHitName=null;
  SubSearchContext subSearchContext=new SubSearchContext(SearchContext.current());
  try {
    XContentParser parser=parserContext.parser();
    while ((token=parser.nextToken()) != XContentParser.Token.END_OBJECT) {
      if (token == XContentParser.Token.FIELD_NAME) {
        fieldName=parser.currentName();
      }
 else       if (token.isValue()) {
        if ("name".equals(fieldName)) {
          innerHitName=parser.textOrNull();
        }
 else {
          parseCommonInnerHitOptions(parser,token,fieldName,subSearchContext,sortParseElement,sourceParseElement,highlighterParseElement,scriptFieldsParseElement,fieldDataFieldsParseElement);
        }
      }
 else {
        parseCommonInnerHitOptions(parser,token,fieldName,subSearchContext,sortParseElement,sourceParseElement,highlighterParseElement,scriptFieldsParseElement,fieldDataFieldsParseElement);
      }
    }
  }
 catch (  Exception e) {
    throw new QueryParsingException(parserContext,"Failed to parse [_inner_hits]",e);
  }
  return new Tuple<>(innerHitName,subSearchContext);
}
