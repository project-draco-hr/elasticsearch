{
  super.writeTo(out);
  out.writeVInt(shardId);
  out.writeOptionalString(preference);
  out.writeVInt(items.size());
  for (  Item item : items) {
    out.writeVInt(item.slot);
    OriginalIndices.writeOriginalIndices(item.request.originalIndices(),out);
    out.writeString(item.request.documentType());
    out.writeBytesReference(item.request.source());
    out.writeBytesReference(item.request.docSource());
    out.writeBoolean(item.request.onlyCount());
  }
}
