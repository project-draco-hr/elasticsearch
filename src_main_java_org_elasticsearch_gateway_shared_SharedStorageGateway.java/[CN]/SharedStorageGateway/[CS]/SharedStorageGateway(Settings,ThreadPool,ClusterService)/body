{
  super(settings);
  this.threadPool=threadPool;
  this.clusterService=clusterService;
  this.writeStateExecutor=newSingleThreadExecutor(daemonThreadFactory(settings,"gateway#writeMetaData"));
  clusterService.add(this);
}
