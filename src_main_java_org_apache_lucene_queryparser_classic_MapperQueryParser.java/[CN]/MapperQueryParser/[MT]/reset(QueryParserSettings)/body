{
  this.settings=settings;
  this.field=settings.defaultField();
  if (settings.fields() != null) {
    if (settings.fields.size() == 1) {
      this.field=settings.fields().get(0);
    }
 else {
      this.field=null;
    }
  }
  this.forcedAnalyzer=settings.forcedAnalyzer() != null;
  this.setAnalyzer(forcedAnalyzer ? settings.forcedAnalyzer() : settings.defaultAnalyzer());
  if (settings.forcedQuoteAnalyzer() != null) {
    this.forcedQuoteAnalyzer=true;
    this.quoteAnalyzer=settings.forcedQuoteAnalyzer();
  }
 else   if (forcedAnalyzer) {
    this.forcedQuoteAnalyzer=true;
    this.quoteAnalyzer=settings.forcedAnalyzer();
  }
 else {
    this.forcedAnalyzer=false;
    this.quoteAnalyzer=settings.defaultQuoteAnalyzer();
  }
  this.quoteFieldSuffix=settings.quoteFieldSuffix();
  setMultiTermRewriteMethod(settings.rewriteMethod());
  setEnablePositionIncrements(settings.enablePositionIncrements());
  setAutoGeneratePhraseQueries(settings.autoGeneratePhraseQueries());
  setMaxDeterminizedStates(settings.maxDeterminizedStates());
  setAllowLeadingWildcard(settings.allowLeadingWildcard());
  setPhraseSlop(settings.phraseSlop());
  setDefaultOperator(settings.defaultOperator());
  setFuzzyMinSim(settings.fuzzyMinSim());
  setFuzzyPrefixLength(settings.fuzzyPrefixLength());
  if (settings.timeZone() != null) {
    setTimeZone(settings.timeZone().toTimeZone());
  }
  this.analyzeWildcard=settings.analyzeWildcard();
}
