{
  currentMapper=null;
  MapperService.SmartNameFieldMappers fieldMappers=parseContext.smartFieldMappers(field);
  if (fieldMappers != null) {
    currentMapper=fieldMappers.fieldMappers().mapper();
    if (currentMapper != null) {
      if (lowercaseExpandedTerms && !currentMapper.isNumeric()) {
        part1=part1 == null ? null : part1.toLowerCase(locale);
        part2=part2 == null ? null : part2.toLowerCase(locale);
      }
      try {
        return currentMapper.rangeQuery(part1,part2,startInclusive,endInclusive,parseContext);
      }
 catch (      RuntimeException e) {
        if (settings.lenient()) {
          return null;
        }
        throw e;
      }
    }
  }
  return newRangeQuery(field,part1,part2,startInclusive,endInclusive);
}
