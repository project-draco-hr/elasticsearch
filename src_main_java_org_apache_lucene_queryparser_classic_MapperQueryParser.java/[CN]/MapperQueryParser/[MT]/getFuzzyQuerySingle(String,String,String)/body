{
  currentMapper=null;
  MapperService.SmartNameFieldMappers fieldMappers=parseContext.smartFieldMappers(field);
  if (fieldMappers != null) {
    currentMapper=fieldMappers.fieldMappers().mapper();
    if (currentMapper != null) {
      try {
        Query fuzzyQuery=currentMapper.fuzzyQuery(termStr,minSimilarity,fuzzyPrefixLength,settings.fuzzyMaxExpansions(),false);
        return wrapSmartNameQuery(fuzzyQuery,fieldMappers,parseContext);
      }
 catch (      RuntimeException e) {
        if (settings.lenient()) {
          return null;
        }
        throw e;
      }
    }
  }
  return super.getFuzzyQuery(field,termStr,Float.parseFloat(minSimilarity));
}
