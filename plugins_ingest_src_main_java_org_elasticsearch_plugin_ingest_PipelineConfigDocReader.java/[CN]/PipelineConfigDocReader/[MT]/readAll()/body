{
  SearchResponse searchResponse=client.prepareSearch(PipelineStore.INDEX).setVersion(true).setScroll(scrollTimeout).addSort("_doc",SortOrder.ASC).setIndicesOptions(IndicesOptions.lenientExpandOpen()).get();
  if (searchResponse.getHits().getTotalHits() == 0) {
    return Collections.emptyList();
  }
  logger.debug("reading [{}] pipeline documents",searchResponse.getHits().totalHits());
  return new Iterable<SearchHit>(){
    @Override public Iterator<SearchHit> iterator(){
      return new SearchScrollIterator(searchResponse);
    }
  }
;
}
