{
  String functionScoreQuery="{\n" + "    \"function_score\":{\n" + "        \"functions\":  [\n"+ "            {\n"+ "                \"filter\": {\n"+ "                    \"term\":{\n"+ "                        \"field2\":\"value2\"\n"+ "                    }\n"+ "                }\n"+ "            }\n"+ "        ]\n"+ "    }\n"+ "}";
  try {
    parseQuery(functionScoreQuery);
    fail("parsing should have failed");
  }
 catch (  ParsingException e) {
    assertThat(e.getMessage(),containsString("an entry in functions list is missing a function."));
  }
}
