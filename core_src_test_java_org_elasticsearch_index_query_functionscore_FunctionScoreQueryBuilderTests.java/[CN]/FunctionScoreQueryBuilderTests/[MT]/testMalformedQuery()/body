{
  String json="{\n" + "    \"function_score\":{\n" + "        \"query\":{\n"+ "            \"bool\":{\n"+ "                \"must\":{\"match\":{\"field\":\"value\"}}"+ "             },\n"+ "            \"ignored_field_name\": {\n"+ "                {\"match\":{\"field\":\"value\"}}\n"+ "            }\n"+ "            }\n"+ "        }\n"+ "    }\n"+ "}";
  try {
    parseQuery(json);
    fail("parse should have failed");
  }
 catch (  ParsingException e) {
    assertThat(e.getMessage(),containsString("[query] is already defined."));
  }
}
