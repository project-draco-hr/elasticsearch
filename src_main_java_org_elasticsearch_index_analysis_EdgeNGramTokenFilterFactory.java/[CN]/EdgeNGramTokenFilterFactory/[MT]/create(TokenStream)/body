{
  if (version.onOrAfter(Version.LUCENE_43)) {
    TokenStream result=tokenStream;
    if (side == Side.BACK) {
      result=new ReverseStringFilter(version,result);
    }
    result=new XEdgeNGramTokenFilter(version,result,minGram,maxGram);
    if (side == Side.BACK) {
      result=new ReverseStringFilter(version,result);
    }
    return result;
  }
 else {
    return new EdgeNGramTokenFilter(tokenStream,side,minGram,maxGram);
  }
}
