{
  if (charFilter == null) {
    throw new IllegalArgumentException("char_filter provider must not be null");
  }
  if (charFilters.putIfAbsent(name,charFilter) != null) {
    throw new IllegalArgumentException("char_filter provider for name " + name + " already registered");
  }
}
