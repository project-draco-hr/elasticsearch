{
  if (tokenFilter == null) {
    throw new IllegalArgumentException("token_filter provider must not be null");
  }
  if (tokenFilters.putIfAbsent(name,tokenFilter) != null) {
    throw new IllegalArgumentException("token_filter provider for name " + name + " already registered");
  }
}
