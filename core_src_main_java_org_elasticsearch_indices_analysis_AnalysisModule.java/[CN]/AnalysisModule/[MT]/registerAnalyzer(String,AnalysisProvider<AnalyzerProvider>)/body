{
  if (analyzer == null) {
    throw new IllegalArgumentException("analyzer provider must not be null");
  }
  if (analyzers.putIfAbsent(name,analyzer) != null) {
    throw new IllegalArgumentException("analyzer provider for name " + name + " already registered");
  }
}
