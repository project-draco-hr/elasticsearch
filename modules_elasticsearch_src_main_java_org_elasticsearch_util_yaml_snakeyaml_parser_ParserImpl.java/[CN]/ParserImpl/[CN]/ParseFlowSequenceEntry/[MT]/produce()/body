{
  if (!scanner.checkToken(Token.ID.FlowSequenceEnd)) {
    if (!first) {
      if (scanner.checkToken(Token.ID.FlowEntry)) {
        scanner.getToken();
      }
 else {
        Token token=scanner.peekToken();
        throw new ParserException("while parsing a flow sequence",marks.pop(),"expected ',' or ']', but got " + token.getTokenId(),token.getStartMark());
      }
    }
    if (scanner.checkToken(Token.ID.Key)) {
      Token token=scanner.peekToken();
      Event event=new MappingStartEvent(null,null,true,token.getStartMark(),token.getEndMark(),Boolean.TRUE);
      state=new ParseFlowSequenceEntryMappingKey();
      return event;
    }
 else     if (!scanner.checkToken(Token.ID.FlowSequenceEnd)) {
      states.push(new ParseFlowSequenceEntry(false));
      return parseFlowNode();
    }
  }
  Token token=scanner.getToken();
  Event event=new SequenceEndEvent(token.getStartMark(),token.getEndMark());
  state=states.pop();
  marks.pop();
  return event;
}
