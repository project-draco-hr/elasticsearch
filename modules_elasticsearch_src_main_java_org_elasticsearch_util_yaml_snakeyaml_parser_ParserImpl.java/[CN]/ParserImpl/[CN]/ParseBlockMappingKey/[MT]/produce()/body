{
  if (scanner.checkToken(Token.ID.Key)) {
    Token token=scanner.getToken();
    if (!scanner.checkToken(Token.ID.Key,Token.ID.Value,Token.ID.BlockEnd)) {
      states.push(new ParseBlockMappingValue());
      return parseBlockNodeOrIndentlessSequence();
    }
 else {
      state=new ParseBlockMappingValue();
      return processEmptyScalar(token.getEndMark());
    }
  }
  if (!scanner.checkToken(Token.ID.BlockEnd)) {
    Token token=scanner.peekToken();
    throw new ParserException("while parsing a block mapping",marks.pop(),"expected <block end>, but found " + token.getTokenId(),token.getStartMark());
  }
  Token token=scanner.getToken();
  Event event=new MappingEndEvent(token.getStartMark(),token.getEndMark());
  state=states.pop();
  marks.pop();
  return event;
}
