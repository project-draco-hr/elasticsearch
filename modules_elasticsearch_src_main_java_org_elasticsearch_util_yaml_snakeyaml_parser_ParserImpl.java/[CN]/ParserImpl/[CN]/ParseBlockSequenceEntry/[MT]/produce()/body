{
  if (scanner.checkToken(Token.ID.BlockEntry)) {
    BlockEntryToken token=(BlockEntryToken)scanner.getToken();
    if (!scanner.checkToken(Token.ID.BlockEntry,Token.ID.BlockEnd)) {
      states.push(new ParseBlockSequenceEntry());
      return new ParseBlockNode().produce();
    }
 else {
      state=new ParseBlockSequenceEntry();
      return processEmptyScalar(token.getEndMark());
    }
  }
  if (!scanner.checkToken(Token.ID.BlockEnd)) {
    Token token=scanner.peekToken();
    throw new ParserException("while parsing a block collection",marks.pop(),"expected <block end>, but found " + token.getTokenId(),token.getStartMark());
  }
  Token token=scanner.getToken();
  Event event=new SequenceEndEvent(token.getStartMark(),token.getEndMark());
  state=states.pop();
  marks.pop();
  return event;
}
