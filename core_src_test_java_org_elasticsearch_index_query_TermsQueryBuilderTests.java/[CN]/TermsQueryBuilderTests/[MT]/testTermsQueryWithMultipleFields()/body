{
  String query=XContentFactory.jsonBuilder().startObject().startObject("terms").array("foo",123).array("bar",456).endObject().endObject().string();
  try {
    parseQuery(query);
    fail("parsing should have failed");
  }
 catch (  ParsingException ex) {
    assertThat(ex.getMessage(),equalTo("[" + TermsQueryBuilder.NAME + "] query does not support multiple fields"));
  }
}
