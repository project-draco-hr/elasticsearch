{
  List<StatefulConnection> connections=new ArrayList<>();
  for (  Node node : nodes) {
    Objects.requireNonNull(node,"node cannot be null");
    connections.add(new StatefulConnection(node));
  }
  return Collections.unmodifiableList(connections);
}
