{
  final SegmentReader segmentReader=SegmentReaderUtils.segmentReader(reader.reader());
  if (segmentReader.getSegmentInfo().info.getCodec() instanceof Lucene3xCodec) {
    return -1;
  }
  return segmentReader.ramBytesUsed();
}
