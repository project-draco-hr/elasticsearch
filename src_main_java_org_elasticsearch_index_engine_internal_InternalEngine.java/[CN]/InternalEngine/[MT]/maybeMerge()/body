{
  if (!possibleMergeNeeded()) {
    return;
  }
  possibleMergeNeeded=false;
  try (InternalLock _=readLock.acquire()){
    Merges.maybeMerge(currentIndexWriter());
  }
 catch (  Throwable t) {
    maybeFailEngine(t);
    throw new OptimizeFailedEngineException(shardId,t);
  }
}
