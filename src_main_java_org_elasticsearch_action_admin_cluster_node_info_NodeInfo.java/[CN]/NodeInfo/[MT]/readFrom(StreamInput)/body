{
  super.readFrom(in);
  if (in.readBoolean()) {
    hostname=in.readUTF();
  }
  ImmutableMap.Builder<String,String> builder=ImmutableMap.builder();
  int size=in.readVInt();
  for (int i=0; i < size; i++) {
    builder.put(in.readUTF(),in.readUTF());
  }
  serviceAttributes=builder.build();
  settings=ImmutableSettings.readSettingsFromStream(in);
  if (in.readBoolean()) {
    os=OsInfo.readOsInfo(in);
  }
  if (in.readBoolean()) {
    process=ProcessInfo.readProcessInfo(in);
  }
  if (in.readBoolean()) {
    jvm=JvmInfo.readJvmInfo(in);
  }
  if (in.readBoolean()) {
    network=NetworkInfo.readNetworkInfo(in);
  }
  if (in.readBoolean()) {
    transport=TransportInfo.readTransportInfo(in);
  }
  if (in.readBoolean()) {
    http=HttpInfo.readHttpInfo(in);
  }
}
