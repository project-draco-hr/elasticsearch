{
  Settings.Builder settings=Settings.settingsBuilder().put(Management.SERVICE_NAME,"dummy").put(Discovery.HOST_TYPE,"public_ip").put(super.settingsBuilder());
  logger.info("--> start first node");
  internalCluster().startNode(settings);
  assertThat(client().admin().cluster().prepareState().setMasterNodeTimeout("1s").execute().actionGet().getState().nodes().masterNodeId(),notNullValue());
  logger.info("--> start another node");
  internalCluster().startNode(settings);
  assertThat(client().admin().cluster().prepareState().setMasterNodeTimeout("1s").execute().actionGet().getState().nodes().masterNodeId(),notNullValue());
  checkNumberOfNodes(2);
}
