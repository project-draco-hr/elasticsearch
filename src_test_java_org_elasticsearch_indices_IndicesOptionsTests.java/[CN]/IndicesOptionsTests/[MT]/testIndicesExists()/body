{
  assertThat(client().admin().indices().prepareExists("foo").get().isExists(),equalTo(false));
  assertThat(client().admin().indices().prepareExists("foo").setIndicesOptions(IndicesOptions.lenient()).get().isExists(),equalTo(true));
  assertThat(client().admin().indices().prepareExists("foo*").get().isExists(),equalTo(false));
  assertThat(client().admin().indices().prepareExists("foo*").setIndicesOptions(IndicesOptions.fromOptions(false,true,true,false)).get().isExists(),equalTo(true));
  assertThat(client().admin().indices().prepareExists("_all").get().isExists(),equalTo(false));
  assertAcked(prepareCreate("foo"));
  assertAcked(prepareCreate("foobar"));
  assertAcked(prepareCreate("bar"));
  assertAcked(prepareCreate("barbaz"));
  ensureYellow();
  assertThat(client().admin().indices().prepareExists("foo*").get().isExists(),equalTo(true));
  assertThat(client().admin().indices().prepareExists("foobar").get().isExists(),equalTo(true));
  assertThat(client().admin().indices().prepareExists("bar*").get().isExists(),equalTo(true));
  assertThat(client().admin().indices().prepareExists("bar").get().isExists(),equalTo(true));
  assertThat(client().admin().indices().prepareExists("_all").get().isExists(),equalTo(true));
}
