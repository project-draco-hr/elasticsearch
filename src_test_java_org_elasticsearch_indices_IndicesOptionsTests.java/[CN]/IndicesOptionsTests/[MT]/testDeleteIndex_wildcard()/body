{
  verify(client().admin().indices().prepareDelete("_all"),false);
  assertAcked(prepareCreate("foo"));
  assertAcked(prepareCreate("foobar"));
  assertAcked(prepareCreate("bar"));
  assertAcked(prepareCreate("barbaz"));
  ensureYellow();
  verify(client().admin().indices().prepareDelete("foo*"),false);
  assertThat(client().admin().indices().prepareExists("foo").get().isExists(),equalTo(false));
  assertThat(client().admin().indices().prepareExists("foobar").get().isExists(),equalTo(false));
  assertThat(client().admin().indices().prepareExists("bar").get().isExists(),equalTo(true));
  assertThat(client().admin().indices().prepareExists("barbaz").get().isExists(),equalTo(true));
  verify(client().admin().indices().prepareDelete("foo*"),false);
  verify(client().admin().indices().prepareDelete("_all"),false);
  assertThat(client().admin().indices().prepareExists("foo").get().isExists(),equalTo(false));
  assertThat(client().admin().indices().prepareExists("foobar").get().isExists(),equalTo(false));
  assertThat(client().admin().indices().prepareExists("bar").get().isExists(),equalTo(false));
  assertThat(client().admin().indices().prepareExists("barbaz").get().isExists(),equalTo(false));
}
