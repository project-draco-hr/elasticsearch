{
  createIndex("test1");
  client().prepareIndex("test1","type","1").setSource("k","v").setRefresh(true).execute().actionGet();
  SearchResponse response=client().prepareSearch("test2").setIndicesOptions(IndicesOptions.lenient()).setQuery(matchAllQuery()).execute().actionGet();
  assertHitCount(response,0l);
  response=client().prepareSearch("test2","test3").setQuery(matchAllQuery()).setIndicesOptions(IndicesOptions.lenient()).execute().actionGet();
  assertHitCount(response,0l);
  response=client().prepareSearch().setIndicesOptions(IndicesOptions.lenient()).setQuery(matchAllQuery()).execute().actionGet();
  assertHitCount(response,1l);
}
