{
  InetAddress address;
  for (  NetworkInterface intf : getInterfaces()) {
    try {
      if (!intf.isUp() || intf.isLoopback())       continue;
    }
 catch (    Exception e) {
      continue;
    }
    address=getFirstNonLoopbackAddress(intf,ip_version);
    if (address != null) {
      return address;
    }
  }
  return null;
}
