{
  List<NetworkInterface> allInterfaces=new ArrayList<NetworkInterface>();
  for (Enumeration<NetworkInterface> interfaces=NetworkInterface.getNetworkInterfaces(); interfaces.hasMoreElements(); ) {
    NetworkInterface intf=interfaces.nextElement();
    allInterfaces.add(interfaces.nextElement());
    Enumeration<NetworkInterface> subInterfaces=intf.getSubInterfaces();
    if (subInterfaces != null && subInterfaces.hasMoreElements()) {
      while (subInterfaces.hasMoreElements()) {
        allInterfaces.add(subInterfaces.nextElement());
      }
    }
  }
  return allInterfaces;
}
