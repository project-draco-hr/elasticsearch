{
  ValueAndBoost valueAndBoost=parseCreateFieldForString(context,nullValue,fieldType.boost());
  if (valueAndBoost.value() == null) {
    return;
  }
  if (ignoreAbove > 0 && valueAndBoost.value().length() > ignoreAbove) {
    return;
  }
  if (context.includeInAll(includeInAll,this)) {
    context.allEntries().addText(fieldType.names().fullName(),valueAndBoost.value(),valueAndBoost.boost());
  }
  if (fieldType.indexOptions() != IndexOptions.NONE || fieldType.stored()) {
    Field field=new Field(fieldType.names().indexName(),valueAndBoost.value(),fieldType);
    field.setBoost(valueAndBoost.boost());
    fields.add(field);
  }
  if (fieldType().hasDocValues()) {
    fields.add(new SortedSetDocValuesField(fieldType.names().indexName(),new BytesRef(valueAndBoost.value())));
  }
  if (fields.isEmpty()) {
    context.ignoredValue(fieldType.names().indexName(),valueAndBoost.value());
  }
}
