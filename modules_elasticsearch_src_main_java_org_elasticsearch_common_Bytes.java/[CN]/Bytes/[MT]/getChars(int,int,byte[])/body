{
  int q, r;
  int charPos=index;
  byte sign=0;
  if (i < 0) {
    sign='-';
    i=-i;
  }
  while (i >= 65536) {
    q=i / 100;
    r=i - ((q << 6) + (q << 5) + (q << 2));
    i=q;
    buf[--charPos]=DigitOnes[r];
    buf[--charPos]=DigitTens[r];
  }
  for (; ; ) {
    q=(i * 52429) >>> (16 + 3);
    r=i - ((q << 3) + (q << 1));
    buf[--charPos]=digits[r];
    i=q;
    if (i == 0)     break;
  }
  if (sign != 0) {
    buf[--charPos]=sign;
  }
}
