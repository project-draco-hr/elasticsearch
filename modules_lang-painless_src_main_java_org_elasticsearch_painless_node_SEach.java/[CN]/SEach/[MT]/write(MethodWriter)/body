{
  if (array != null) {
    writeArray(writer);
  }
 else   if (iterator != null) {
    writeIterable(writer);
  }
 else {
    throw location.createError(new IllegalStateException("Illegal tree structure."));
  }
}
