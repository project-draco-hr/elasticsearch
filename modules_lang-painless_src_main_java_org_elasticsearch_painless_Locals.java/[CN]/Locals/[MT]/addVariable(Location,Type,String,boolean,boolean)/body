{
  if (!reserved && this.reserved.isReserved(name)) {
    throw location.createError(new IllegalArgumentException("Variable [" + name + "] is reserved."));
  }
  if (isVariable(name)) {
    throw location.createError(new IllegalArgumentException("Variable [" + name + "] is already defined."));
  }
  Variable previous=variables.peekFirst();
  int slot=0;
  if (previous != null) {
    slot=previous.slot + previous.type.type.getSize();
  }
  Variable variable=new Variable(location,name,type,slot,readonly);
  variables.push(variable);
  int update=scopes.pop() + 1;
  scopes.push(update);
  return variable;
}
