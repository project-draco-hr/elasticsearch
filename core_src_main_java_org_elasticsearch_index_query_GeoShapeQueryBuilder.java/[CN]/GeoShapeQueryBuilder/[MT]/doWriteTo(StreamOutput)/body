{
  out.writeString(fieldName);
  boolean hasShape=shape != null;
  out.writeBoolean(hasShape);
  if (hasShape) {
    out.writeShape(shape);
  }
 else {
    out.writeOptionalString(indexedShapeId);
    out.writeOptionalString(indexedShapeType);
    out.writeOptionalString(indexedShapeIndex);
    out.writeOptionalString(indexedShapePath);
  }
  relation.writeTo(out);
  if (strategy == null) {
    out.writeBoolean(false);
  }
 else {
    out.writeBoolean(true);
    strategy.writeTo(out);
  }
}
