{
  QueryValidationException errors=null;
  if (fieldName == null) {
    errors=QueryValidationException.addValidationError(NAME,"No field defined",errors);
  }
  if ((shapeBytes == null || shapeBytes.length() == 0) && indexedShapeId == null) {
    errors=QueryValidationException.addValidationError(NAME,"No Shape defined",errors);
  }
  if (relation == null) {
    errors=QueryValidationException.addValidationError(NAME,"No Shape Relation defined",errors);
  }
  if (indexedShapeId != null && indexedShapeType == null) {
    errors=QueryValidationException.addValidationError(NAME,"Type for indexed shape not provided",errors);
  }
  if (strategy != null && strategy == SpatialStrategy.TERM && relation != ShapeRelation.INTERSECTS) {
    errors=QueryValidationException.addValidationError(NAME,"strategy [" + strategy.getStrategyName() + "] only supports relation ["+ ShapeRelation.INTERSECTS.getRelationName()+ "] found relation ["+ relation.getRelationName()+ "]",errors);
  }
  return errors;
}
