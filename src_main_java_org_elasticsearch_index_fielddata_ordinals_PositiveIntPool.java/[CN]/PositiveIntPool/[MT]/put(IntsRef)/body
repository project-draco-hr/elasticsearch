{
  if (slice.length > blockSize) {
    throw new ElasticSearchIllegalArgumentException("Can not store slices greater or equal to: " + blockSize);
  }
  if ((intUpto + slice.length) > blockSize) {
    nextBuffer();
  }
  final int relativeOffset=intUpto;
  System.arraycopy(slice.ints,slice.offset,buffer,relativeOffset,slice.length);
  intUpto+=slice.length;
  buffer[intUpto - 1]*=-1;
  return relativeOffset + intOffset;
}
