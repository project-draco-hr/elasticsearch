{
  int length=slice.end - slice.start;
  if (length > blockSize) {
    throw new ElasticSearchIllegalArgumentException("Can not store slices greater or equal to: " + blockSize);
  }
  if ((intUpto + length) > blockSize) {
    nextBuffer();
  }
  final int relativeOffset=intUpto;
  System.arraycopy(slice.values,slice.start,buffer,relativeOffset,length);
  intUpto+=length;
  buffer[intUpto - 1]*=-1;
  return relativeOffset + intOffset;
}
