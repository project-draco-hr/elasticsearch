{
  final Path file=path.resolve(blobName);
  return new BufferedOutputStream(new FilterOutputStream(Files.newOutputStream(file)){
    @Override public void write(    byte[] b,    int off,    int len) throws IOException {
      out.write(b,off,len);
    }
    @Override public void close() throws IOException {
      super.close();
      IOUtils.fsync(file,false);
      IOUtils.fsync(path,true);
    }
  }
,blobStore.bufferSizeInBytes());
}
