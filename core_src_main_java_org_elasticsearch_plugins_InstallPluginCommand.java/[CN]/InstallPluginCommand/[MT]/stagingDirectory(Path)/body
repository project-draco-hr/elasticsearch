{
  try {
    Set<PosixFilePermission> perms=new HashSet<>();
    perms.add(PosixFilePermission.OWNER_EXECUTE);
    perms.add(PosixFilePermission.OWNER_READ);
    perms.add(PosixFilePermission.OWNER_WRITE);
    perms.add(PosixFilePermission.GROUP_READ);
    perms.add(PosixFilePermission.GROUP_EXECUTE);
    perms.add(PosixFilePermission.OTHERS_READ);
    perms.add(PosixFilePermission.OTHERS_EXECUTE);
    return Files.createTempDirectory(pluginsDir,".installing-",PosixFilePermissions.asFileAttribute(perms));
  }
 catch (  IllegalArgumentException|UnsupportedOperationException e) {
    return Files.createTempDirectory(pluginsDir,".installing-");
  }
}
