{
  Path target=Files.createTempDirectory(pluginsDir,".installing-");
  Files.createDirectories(target);
  try (ZipInputStream zipInput=new ZipInputStream(Files.newInputStream(zip))){
    ZipEntry entry;
    byte[] buffer=new byte[8192];
    while ((entry=zipInput.getNextEntry()) != null) {
      Path targetFile=target.resolve(entry.getName());
      Files.createDirectories(targetFile.getParent());
      if (entry.isDirectory() == false) {
        try (OutputStream out=Files.newOutputStream(targetFile)){
          int len;
          while ((len=zipInput.read(buffer)) >= 0) {
            out.write(buffer,0,len);
          }
        }
       }
      zipInput.closeEntry();
    }
  }
   return target;
}
