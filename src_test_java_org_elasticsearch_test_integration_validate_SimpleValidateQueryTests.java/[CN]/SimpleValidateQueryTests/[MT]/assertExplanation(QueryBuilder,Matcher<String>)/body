{
  ValidateQueryResponse response=client.admin().indices().prepareValidateQuery("test").setTypes("type1").setQuery(queryBuilder).setExplain(true).execute().actionGet();
  assertThat(response.queryExplanations().size(),equalTo(1));
  assertThat(response.queryExplanations().get(0).error(),nullValue());
  assertThat(response.queryExplanations().get(0).explanation(),matcher);
  assertThat(response.valid(),equalTo(true));
}
