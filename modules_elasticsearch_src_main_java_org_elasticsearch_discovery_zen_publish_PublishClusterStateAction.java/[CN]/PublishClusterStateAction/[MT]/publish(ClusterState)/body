{
  DiscoveryNode localNode=nodesProvider.nodes().localNode();
  for (  final DiscoveryNode node : clusterState.nodes()) {
    if (node.equals(localNode)) {
      continue;
    }
    transportService.sendRequest(node,PublishClusterStateRequestHandler.ACTION,new PublishClusterStateRequest(clusterState),TransportRequestOptions.options().withHighType(),new VoidTransportResponseHandler(ThreadPool.Names.SAME){
      @Override public void handleException(      TransportException exp){
        logger.debug("failed to send cluster state to [{}], should be detected as failed soon...",exp,node);
      }
    }
);
  }
}
