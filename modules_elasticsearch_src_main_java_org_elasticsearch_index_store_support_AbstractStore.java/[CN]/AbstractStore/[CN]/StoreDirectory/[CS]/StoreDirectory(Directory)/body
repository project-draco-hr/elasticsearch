{
  this.delegate=delegate;
synchronized (mutex) {
    MapBuilder<String,StoreFileMetaData> builder=MapBuilder.newMapBuilder();
    for (    String file : delegate.listAll()) {
      try {
        builder.put(file,new StoreFileMetaData(file,delegate.fileLength(file),delegate.fileModified(file),preComputedMd5(file)));
      }
 catch (      FileNotFoundException e) {
      }
    }
    filesMetadata=builder.immutableMap();
    files=filesMetadata.keySet().toArray(new String[filesMetadata.size()]);
  }
}
