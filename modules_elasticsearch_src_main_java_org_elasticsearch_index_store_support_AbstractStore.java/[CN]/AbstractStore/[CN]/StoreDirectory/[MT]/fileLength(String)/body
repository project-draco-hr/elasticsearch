{
  StoreFileMetaData metaData=filesMetadata.get(name);
  if (metaData == null) {
    throw new FileNotFoundException(name);
  }
  if (metaData.sizeInBytes() != -1) {
    return metaData.sizeInBytes();
  }
  return delegate.fileLength(name);
}
