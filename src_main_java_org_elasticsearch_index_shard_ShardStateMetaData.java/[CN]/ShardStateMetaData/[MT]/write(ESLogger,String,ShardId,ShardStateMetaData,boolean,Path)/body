{
  logger.trace("{} writing shard state, reason [{}]",shardId,reason);
  MetaDataStateFormat<ShardStateMetaData> stateFormat=newShardStateInfoFormat(deletePreviousState);
  stateFormat.write(shardStateMetaData,SHARD_STATE_FILE_PREFIX,shardStateMetaData.version,shardPaths);
}
