{
  super.writeTo(out);
  out.writeLong(recoveryId);
  shardId.writeTo(out);
  sourceNode.writeTo(out);
  targetNode.writeTo(out);
  out.writeBoolean(markAsRelocated);
  out.writeVInt(existingFiles.size());
  for (  StoreFileMetaData md : existingFiles.values()) {
    md.writeTo(out);
  }
  if (out.getVersion().onOrAfter(Version.V_1_2_2)) {
    out.writeByte(recoveryType.id());
  }
}
