{
  super(shardId,indexSettings);
  this.indexShard=(InternalIndexShard)indexShard;
  TimeValue sync=componentSettings.getAsTime("sync",TimeValue.timeValueSeconds(10));
  if (sync.millis() > 0) {
    this.indexShard.translog().syncOnEachOperation(false);
    flushScheduler=threadPool.scheduleWithFixedDelay(new Sync(),sync);
  }
 else   if (sync.millis() == 0) {
    flushScheduler=null;
    this.indexShard.translog().syncOnEachOperation(true);
  }
 else {
    flushScheduler=null;
  }
}
