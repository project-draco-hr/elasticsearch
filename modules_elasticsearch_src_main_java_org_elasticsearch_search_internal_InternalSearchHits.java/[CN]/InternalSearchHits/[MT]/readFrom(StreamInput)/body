{
  totalHits=in.readVLong();
  int size=in.readVInt();
  if (size == 0) {
    hits=EMPTY;
  }
 else {
    int lookupSize=in.readVInt();
    TIntObjectHashMap<SearchShardTarget> shardLookupMap=null;
    if (lookupSize > 0) {
      shardLookupMap=new TIntObjectHashMap<SearchShardTarget>(lookupSize);
      for (int i=0; i < lookupSize; i++) {
        shardLookupMap.put(in.readVInt(),readSearchShardTarget(in));
      }
    }
    hits=new InternalSearchHit[size];
    for (int i=0; i < hits.length; i++) {
      hits[i]=readSearchHit(in,shardLookupMap);
    }
  }
}
