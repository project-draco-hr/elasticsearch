{
  builder.startObject("hits");
  builder.field("total",totalHits);
  if (Float.isNaN(maxScore)) {
    builder.nullField("max_score");
  }
 else {
    builder.field("max_score",maxScore);
  }
  builder.field("hits");
  builder.startArray();
  for (  SearchHit hit : hits) {
    hit.toXContent(builder,params);
  }
  builder.endArray();
  builder.endObject();
}
