{
  if (!(error instanceof RemoteTransportException)) {
    error=new RemoteTransportException(error.getMessage(),error);
  }
  final RemoteTransportException rtx=(RemoteTransportException)error;
  if (ThreadPool.Names.SAME.equals(handler.executor())) {
    try {
      handler.handleException(rtx);
    }
 catch (    Throwable e) {
      logger.error("failed to handle exception response [{}]",e,handler);
    }
  }
 else {
    threadPool.executor(handler.executor()).execute(new Runnable(){
      @Override public void run(){
        try {
          handler.handleException(rtx);
        }
 catch (        Throwable e) {
          logger.error("failed to handle exception response [{}]",e,handler);
        }
      }
    }
);
  }
}
