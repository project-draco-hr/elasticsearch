{
  if (factoryType.equals(InternalDateHistogram.TYPE.name())) {
    return (Factory<B>)new InternalDateHistogram.Factory();
  }
 else   if (factoryType.equals(TYPE.name())) {
    return new Factory<>();
  }
 else {
    throw new ElasticsearchIllegalStateException("Invalid histogram factory type [" + factoryType + "]");
  }
}
