{
  long totalQueryTime=0;
  int numExecutedQueries=0;
  while (run) {
    try {
      SearchResponse searchResponse=Method.AGGREGATION.addTermsAgg(client.prepareSearch().setSize(0).setQuery(matchAllQuery()),"test",field,executionHint).execute().actionGet();
      if (searchResponse.getHits().totalHits() != COUNT) {
        System.err.println("--> mismatch on hits");
      }
      totalQueryTime+=searchResponse.getTookInMillis();
      numExecutedQueries++;
    }
 catch (    Throwable e) {
      e.printStackTrace();
    }
  }
  avgQueryTime=totalQueryTime / numExecutedQueries;
  stopped=true;
}
