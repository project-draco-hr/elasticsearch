{
  if (script != null) {
    builder.field(ScriptField.SCRIPT.getPreferredName(),script);
  }
  if (gapPolicy != null) {
    builder.field(BucketSelectorParser.GAP_POLICY.getPreferredName(),gapPolicy.getName());
  }
  if (bucketsPathsMap != null) {
    builder.field(PipelineAggregator.Parser.BUCKETS_PATH.getPreferredName(),bucketsPathsMap);
  }
  return builder;
}
