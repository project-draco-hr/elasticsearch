{
  PercentileRanksAggregatorBuilder other=(PercentileRanksAggregatorBuilder)obj;
  if (!Objects.equals(method,other.method)) {
    return false;
  }
  boolean equalSettings=false;
switch (method) {
case HDR:
    equalSettings=Objects.equals(numberOfSignificantValueDigits,other.numberOfSignificantValueDigits);
  break;
case TDIGEST:
equalSettings=Objects.equals(compression,other.compression);
break;
default :
throw new IllegalStateException("Illegal method [" + method.getName() + "]");
}
return equalSettings && Objects.deepEquals(values,other.values) && Objects.equals(keyed,other.keyed)&& Objects.equals(method,other.method);
}
