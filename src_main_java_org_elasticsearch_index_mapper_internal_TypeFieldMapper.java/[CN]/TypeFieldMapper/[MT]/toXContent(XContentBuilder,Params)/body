{
  if (writePre2xSettings == false) {
    return builder;
  }
  boolean includeDefaults=params.paramAsBoolean("include_defaults",false);
  boolean indexed=fieldType.indexOptions() != IndexOptions.NONE;
  boolean defaultIndexed=Defaults.FIELD_TYPE.indexOptions() != IndexOptions.NONE;
  if (!includeDefaults && fieldType.stored() == Defaults.FIELD_TYPE.stored() && indexed == defaultIndexed) {
    return builder;
  }
  builder.startObject(CONTENT_TYPE);
  if (includeDefaults || fieldType.stored() != Defaults.FIELD_TYPE.stored()) {
    builder.field("store",fieldType.stored());
  }
  if (includeDefaults || indexed != defaultIndexed) {
    builder.field("index",indexTokenizeOptionToString(indexed,fieldType.tokenized()));
  }
  builder.endObject();
  return builder;
}
