{
  if (request.paramAsBoolean("wait_for_completion",true)) {
    action.execute(internalRequest,new BulkIndexByScrollResponseContentListener<Response>(channel));
    return;
  }
  ActionRequestValidationException validationException=internalRequest.validate();
  if (validationException != null) {
    channel.sendResponse(new BytesRestResponse(channel,validationException));
    return;
  }
  Task task=action.execute(internalRequest,LoggingTaskListener.instance());
  sendTask(channel,task);
}
