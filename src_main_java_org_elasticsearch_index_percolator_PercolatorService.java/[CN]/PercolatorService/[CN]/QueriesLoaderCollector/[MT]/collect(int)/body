{
  UidAndSourceFieldsVisitor fieldsVisitor=new UidAndSourceFieldsVisitor();
  reader.document(doc,fieldsVisitor);
  String id=fieldsVisitor.uid().id();
  try {
    queries.put(id,percolator.parseQuery(id,fieldsVisitor.source()));
  }
 catch (  Exception e) {
    logger.warn("failed to add query [{}]",e,id);
  }
}
