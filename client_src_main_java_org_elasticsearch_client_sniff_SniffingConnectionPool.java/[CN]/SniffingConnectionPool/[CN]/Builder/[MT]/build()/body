{
  Objects.requireNonNull(httpClient,"httpClient cannot be null");
  if (hosts == null || hosts.length == 0) {
    throw new IllegalArgumentException("no hosts provided");
  }
  if (sniffRequestConfig == null) {
    sniffRequestConfig=RequestConfig.custom().setConnectTimeout(500).setSocketTimeout(1000).setConnectionRequestTimeout(500).build();
  }
  return new SniffingConnectionPool(sniffInterval,sniffOnFailure,sniffAfterFailureDelay,httpClient,sniffRequestConfig,sniffRequestTimeout,scheme,hosts);
}
