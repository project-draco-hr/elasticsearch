{
  super(index,indexSettings,name);
  String[] stopWords=settings.getAsArray("stopwords",null);
  if (stopWords != null) {
    this.stopWords=ImmutableSet.copyOf(Iterators.forArray(stopWords));
  }
 else {
    this.stopWords=ImmutableSet.copyOf((Iterable<? extends String>)StopAnalyzer.ENGLISH_STOP_WORDS_SET);
  }
  maxTokenLength=settings.getAsInt("max_token_length",StandardAnalyzer.DEFAULT_MAX_TOKEN_LENGTH);
  standardAnalyzer=new StandardAnalyzer(Lucene.ANALYZER_VERSION,this.stopWords);
  standardAnalyzer.setMaxTokenLength(maxTokenLength);
}
