{
  int even=(randomIntBetween(100,200) / 2);
  ProgressInputStream is=newProgressInputStream(even);
  for (int i=0; i < even; i++) {
    is.checkProgress(1);
  }
  is.checkProgress(-1);
  assertThat(progresses,hasSize(even + 1));
  assertThat(progresses,hasItem(100));
}
