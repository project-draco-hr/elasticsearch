{
  child.analyze(settings,definition,variables);
  final Type promote=AnalyzerCaster.promoteNumeric(definition,child.actual,true,true);
  if (promote == null) {
    throw new ClassCastException(error("Cannot apply negative [-] to type [" + child.actual.name + "]."));
  }
  child.expected=promote;
  child=child.cast(settings,definition,variables);
  if (child.constant != null) {
    final boolean overflow=settings.getNumericOverflow();
    final Sort sort=promote.sort;
    if (sort == Sort.INT) {
      constant=overflow ? -(int)child.constant : Math.negateExact((int)child.constant);
    }
 else     if (sort == Sort.LONG) {
      constant=overflow ? -(long)child.constant : Math.negateExact((long)child.constant);
    }
 else     if (sort == Sort.FLOAT) {
      constant=-(float)child.constant;
    }
 else     if (sort == Sort.DOUBLE) {
      constant=-(double)child.constant;
    }
 else {
      throw new IllegalStateException(error("Illegal tree structure."));
    }
  }
  actual=promote;
}
