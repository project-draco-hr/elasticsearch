{
  SimulateDocumentResult actualItemResponse=executionService.executeVerboseItem(pipeline,data);
  verify(processor,times(2)).execute(data);
  assertThat(actualItemResponse,instanceOf(SimulateDocumentVerboseResult.class));
  SimulateDocumentVerboseResult simulateDocumentVerboseResult=(SimulateDocumentVerboseResult)actualItemResponse;
  assertThat(simulateDocumentVerboseResult.getProcessorResults().size(),equalTo(2));
  assertThat(simulateDocumentVerboseResult.getProcessorResults().get(0).getProcessorId(),equalTo("processor[mock]-0"));
  assertThat(simulateDocumentVerboseResult.getProcessorResults().get(0).getData(),not(sameInstance(data)));
  assertThat(simulateDocumentVerboseResult.getProcessorResults().get(0).getData(),equalTo(data));
  assertThat(simulateDocumentVerboseResult.getProcessorResults().get(0).getFailure(),nullValue());
  assertThat(simulateDocumentVerboseResult.getProcessorResults().get(1).getProcessorId(),equalTo("processor[mock]-1"));
  assertThat(simulateDocumentVerboseResult.getProcessorResults().get(1).getData(),not(sameInstance(data)));
  assertThat(simulateDocumentVerboseResult.getProcessorResults().get(1).getData(),equalTo(data));
  assertThat(simulateDocumentVerboseResult.getProcessorResults().get(1).getFailure(),nullValue());
}
