{
  Exception e=new RuntimeException("processor failed");
  SimulateDocumentResult expectedItemResponse=new SimulateVerboseDocumentResult(Arrays.asList(new SimulateProcessorResult("processor[mock]-0",e),new SimulateProcessorResult("processor[mock]-1",data)));
  doThrow(e).doNothing().when(processor).execute(data);
  SimulateDocumentResult actualItemResponse=executionService.executeVerboseItem(pipeline,data);
  verify(processor,times(2)).execute(data);
  assertThat(actualItemResponse,equalTo(expectedItemResponse));
}
