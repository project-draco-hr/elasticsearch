{
  threadPool=new ThreadPool(Settings.builder().put("name",getClass().getName()).build());
  executionService=new SimulateExecutionService(threadPool);
  processor=mock(Processor.class);
  when(processor.getType()).thenReturn("mock");
  pipeline=new Pipeline("_id","_description",Arrays.asList(processor,processor));
  ingestDocument=new IngestDocument("_index","_type","_id",Collections.singletonMap("foo","bar"));
}
