{
  threadPool=new ThreadPool(Settings.builder().put("name",getClass().getName()).build());
  executionService=new SimulateExecutionService(threadPool);
  processor=mock(CompoundProcessor.class);
  when(processor.getType()).thenReturn("mock");
  pipeline=new Pipeline("_id","_description",new CompoundProcessor(processor,processor));
  ingestDocument=RandomDocumentPicks.randomIngestDocument(random());
}
