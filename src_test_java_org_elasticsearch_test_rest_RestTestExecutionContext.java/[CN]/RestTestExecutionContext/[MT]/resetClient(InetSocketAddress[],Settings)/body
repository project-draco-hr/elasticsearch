{
  if (restClient == null) {
    restClient=new RestClient(restSpec,settings,addresses);
  }
 else {
    Set<InetSocketAddress> newAddresses=Sets.newHashSet(addresses);
    Set<InetSocketAddress> previousAddresses=Sets.newHashSet(restClient.httpAddresses());
    if (!newAddresses.equals(previousAddresses)) {
      restClient.close();
      restClient=new RestClient(restSpec,settings,addresses);
    }
  }
}
