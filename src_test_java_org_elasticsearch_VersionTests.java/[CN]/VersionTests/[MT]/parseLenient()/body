{
  int numIters=randomIntBetween(10,100);
  for (int i=0; i < numIters; i++) {
    Version version=randomVersion(getRandom());
    org.apache.lucene.util.Version luceneVersion=version.luceneVersion;
    String string=luceneVersion.name().toUpperCase(Locale.ROOT).replaceFirst("^LUCENE_(\\d+)_(\\d+)$","$1.$2");
    if (randomBoolean()) {
      string=string + "." + randomIntBetween(0,100);
      if (randomBoolean()) {
        string=string + "." + randomIntBetween(0,100);
      }
    }
    assertThat(luceneVersion,Matchers.equalTo(Lucene.parseVersionLenient(string,null)));
  }
}
