{
  Object propertyValue=bucket.getProperty(histo.getName(),AggregationPath.parse(bucketsPath).getPathElementsAsStringList());
  if (propertyValue instanceof Number) {
    return ((Number)propertyValue).doubleValue();
  }
 else   if (propertyValue instanceof InternalNumericMetricsAggregation.SingleValue) {
    return ((InternalNumericMetricsAggregation.SingleValue)propertyValue).value();
  }
 else {
    throw new AggregationExecutionException(DerivativeParser.BUCKETS_PATH.getPreferredName() + "must reference either a number value or a single value numeric metric aggregation");
  }
}
