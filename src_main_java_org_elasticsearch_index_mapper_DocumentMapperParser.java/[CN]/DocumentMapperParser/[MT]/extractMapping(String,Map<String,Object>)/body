{
  int size=root.size();
switch (size) {
case 0:
    throw new MapperParsingException("malformed mapping no root object found");
case 1:
  break;
default :
throw new MapperParsingException("mapping must have the `type` as the root object");
}
String rootName=root.keySet().iterator().next();
if (type == null) {
type=rootName;
}
 else if (!type.equals(rootName)) {
throw new MapperParsingException("mapping must have the `type` as the root object. Got [" + rootName + "], expected ["+ type+ "]");
}
return new Tuple<String,Map<String,Object>>(type,(Map<String,Object>)root.get(rootName));
}
