{
  super(settings);
  Map<String,QueryParser<? extends QueryBuilder<? extends QueryBuilder>>> queryParsers=Maps.newHashMap();
  for (  QueryParser<? extends QueryBuilder<? extends QueryBuilder>> queryParser : injectedQueryParsers) {
    for (    String name : queryParser.names()) {
      queryParsers.put(name,queryParser);
    }
    namedWriteableRegistry.registerPrototype(QueryBuilder.class,queryParser.getBuilderPrototype());
  }
  namedWriteableRegistry.registerPrototype(QueryBuilder.class,EmptyQueryBuilder.PROTOTYPE);
  this.queryParsers=ImmutableMap.copyOf(queryParsers);
}
