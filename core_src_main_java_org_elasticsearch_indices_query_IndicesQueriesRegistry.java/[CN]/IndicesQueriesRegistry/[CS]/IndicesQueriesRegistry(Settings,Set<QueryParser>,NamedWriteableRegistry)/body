{
  super(settings);
  Map<String,QueryParser<?>> queryParsers=new HashMap<>();
  for (  QueryParser<?> queryParser : injectedQueryParsers) {
    for (    String name : queryParser.names()) {
      queryParsers.put(name,queryParser);
    }
    namedWriteableRegistry.registerPrototype(QueryBuilder.class,queryParser.getBuilderPrototype());
  }
  namedWriteableRegistry.registerPrototype(QueryBuilder.class,EmptyQueryBuilder.PROTOTYPE);
  this.queryParsers=unmodifiableMap(queryParsers);
}
