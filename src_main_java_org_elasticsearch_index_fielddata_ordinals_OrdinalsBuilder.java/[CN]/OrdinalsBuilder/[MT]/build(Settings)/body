{
  final float acceptableOverheadRatio=settings.getAsFloat("acceptable_overhead_ratio",PackedInts.FASTEST);
  final boolean forceMultiOrdinals=settings.getAsBoolean(FORCE_MULTI_ORDINALS,false);
  if (forceMultiOrdinals || numMultiValuedDocs > 0 || MultiOrdinals.significantlySmallerThanSinglePackedOrdinals(maxDoc,numDocsWithValue,getValueCount(),acceptableOverheadRatio)) {
    return new MultiOrdinals(this,acceptableOverheadRatio);
  }
 else {
    return new SinglePackedOrdinals(this,acceptableOverheadRatio);
  }
}
