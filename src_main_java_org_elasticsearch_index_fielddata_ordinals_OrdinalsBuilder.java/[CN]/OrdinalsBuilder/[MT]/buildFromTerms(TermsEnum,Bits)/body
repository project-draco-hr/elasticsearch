{
  return new BytesRefIterator(){
    private DocsEnum docsEnum=null;
    @Override public BytesRef next() throws IOException {
      BytesRef ref;
      if ((ref=termsEnum.next()) != null) {
        docsEnum=termsEnum.docs(liveDocs,docsEnum,DocsEnum.FLAG_NONE);
        nextOrdinal();
        int docId;
        while ((docId=docsEnum.nextDoc()) != DocsEnum.NO_MORE_DOCS) {
          addDoc(docId);
        }
      }
      return ref;
    }
    @Override public Comparator<BytesRef> getComparator(){
      return termsEnum.getComparator();
    }
  }
;
}
