{
  super(settings);
  this.threadPool=threadPool;
  this.transportService=transportService;
  this.clusterName=clusterName;
  this.connectOnNetworkDisconnect=settings.getAsBoolean(SETTING_CONNECT_ON_NETWORK_DISCONNECT,false);
  this.pingInterval=settings.getAsTime(SETTING_PING_INTERVAL,timeValueSeconds(1));
  this.pingRetryTimeout=settings.getAsTime(SETTING_PING_TIMEOUT,timeValueSeconds(30));
  this.pingRetryCount=settings.getAsInt(SETTING_PING_RETRIES,3);
  this.registerConnectionListener=settings.getAsBoolean(SETTING_REGISTER_CONNECTION_LISTENER,true);
  this.connectionListener=new FDConnectionListener();
  if (registerConnectionListener) {
    transportService.addConnectionListener(connectionListener);
  }
}
