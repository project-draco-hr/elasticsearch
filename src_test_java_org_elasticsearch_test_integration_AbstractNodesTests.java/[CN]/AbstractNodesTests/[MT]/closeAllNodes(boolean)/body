{
synchronized (AbstractNodesTests.class) {
    if (preventRelocation) {
      Settings build=ImmutableSettings.builder().put("cluster.routing.allocation.disable_allocation",true).build();
      Client aClient=client();
      if (aClient != null) {
        aClient.admin().cluster().prepareUpdateSettings().setTransientSettings(build).execute().actionGet();
      }
    }
    for (    Client client : clients.values()) {
      client.close();
    }
    clients.clear();
    for (    Node node : nodes.values()) {
      node.close();
    }
    nodes.clear();
  }
}
