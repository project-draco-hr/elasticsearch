{
  if (a.length < _size) {
    a=(T[])java.lang.reflect.Array.newInstance(a.getClass().getComponentType(),_size);
  }
  V[] v=_values;
  byte[] states=_states;
  for (int i=v.length, j=0; i-- > 0; ) {
    if (states[i] == FULL) {
      a[j++]=(T)v[i];
    }
  }
  return a;
}
