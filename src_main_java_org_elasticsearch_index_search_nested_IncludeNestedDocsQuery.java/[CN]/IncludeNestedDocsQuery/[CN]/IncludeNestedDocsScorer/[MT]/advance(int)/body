{
  if (target == NO_MORE_DOCS) {
    return (currentDoc=NO_MORE_DOCS);
  }
  if (target == 0) {
    return nextDoc();
  }
  if (target < currentParentPointer) {
    currentDoc=currentParentPointer=parentScorer.advance(target);
    if (currentParentPointer == NO_MORE_DOCS) {
      return (currentDoc=NO_MORE_DOCS);
    }
    if (currentParentPointer == 0) {
      currentChildPointer=0;
    }
 else {
      currentChildPointer=parentBits.prevSetBit(currentParentPointer - 1);
      if (currentChildPointer == -1) {
        currentChildPointer=0;
      }
 else {
        currentChildPointer++;
      }
    }
  }
 else {
    currentDoc=currentChildPointer++;
  }
  return currentDoc;
}
