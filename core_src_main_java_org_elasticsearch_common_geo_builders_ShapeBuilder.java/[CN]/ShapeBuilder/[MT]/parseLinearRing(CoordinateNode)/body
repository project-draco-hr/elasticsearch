{
  if (coordinates.children == null) {
    String error="Invalid LinearRing found.";
    error+=(coordinates.coordinate == null) ? " No coordinate array provided" : " Found a single coordinate when expecting a coordinate array";
    throw new ElasticsearchParseException(error);
  }
 else   if (coordinates.children.size() < 4) {
    throw new ElasticsearchParseException("invalid number of points in LinearRing (found [{}] - must be >= 4)",coordinates.children.size());
  }
 else   if (!coordinates.children.get(0).coordinate.equals(coordinates.children.get(coordinates.children.size() - 1).coordinate)) {
    throw new ElasticsearchParseException("invalid LinearRing found (coordinates are not closed)");
  }
  return parseLineString(coordinates);
}
