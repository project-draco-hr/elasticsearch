{
  if (coordinates.children == null) {
    String error="Invalid LinearRing found.";
    error+=(coordinates.coordinate == null) ? " No coordinate array provided" : " Found a single coordinate when expecting a coordinate array";
    throw new ElasticsearchParseException(error);
  }
 else   if (coordinates.children.size() < 4) {
    throw new ElasticsearchParseException("Invalid number of points in LinearRing (found " + coordinates.children.size() + " - must be >= 4)");
  }
 else   if (!coordinates.children.get(0).coordinate.equals(coordinates.children.get(coordinates.children.size() - 1).coordinate)) {
    throw new ElasticsearchParseException("Invalid LinearRing found (coordinates are not closed)");
  }
  return parseLineString(coordinates);
}
