{
  int s;
  ForkJoinTask<?>[] q=queue;
  if (q != null && (s=sp) != base) {
    int i=(q.length - 1) & --s;
    ForkJoinTask<?> t=q[i];
    if (t != null && UNSAFE.compareAndSwapObject(q,(i << qShift) + qBase,t,null)) {
      sp=s;
      return t;
    }
  }
  return null;
}
