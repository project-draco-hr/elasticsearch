{
  for (; ; ) {
    ForkJoinTask<?> t=pollLocalTask();
    if (t != null || (t=scan()) != null)     t.tryExec();
 else {
      ForkJoinPool p=pool;
      if (active) {
        active=false;
        do {
        }
 while (!p.tryDecrementActiveCount());
      }
      if (p.isQuiescent()) {
        active=true;
        do {
        }
 while (!p.tryIncrementActiveCount());
        return;
      }
    }
  }
}
