{
switch (method.toUpperCase(Locale.ROOT)) {
case HttpDeleteWithEntity.METHOD_NAME:
    HttpDeleteWithEntity httpDeleteWithEntity=new HttpDeleteWithEntity(uri);
  addRequestBody(httpDeleteWithEntity,entity);
return httpDeleteWithEntity;
case HttpGetWithEntity.METHOD_NAME:
HttpGetWithEntity httpGetWithEntity=new HttpGetWithEntity(uri);
addRequestBody(httpGetWithEntity,entity);
return httpGetWithEntity;
case HttpHead.METHOD_NAME:
if (entity != null) {
throw new UnsupportedOperationException("HEAD with body is not supported");
}
return new HttpHead(uri);
case HttpOptions.METHOD_NAME:
if (entity != null) {
throw new UnsupportedOperationException("OPTIONS with body is not supported");
}
return new HttpOptions(uri);
case HttpPost.METHOD_NAME:
HttpPost httpPost=new HttpPost(uri);
addRequestBody(httpPost,entity);
return httpPost;
case HttpPut.METHOD_NAME:
HttpPut httpPut=new HttpPut(uri);
addRequestBody(httpPut,entity);
return httpPut;
default :
throw new UnsupportedOperationException("http method not supported: " + method);
}
}
