{
  List<AllocationDecider> list=new ArrayList<>();
  for (  Class<? extends AllocationDecider> deciderClass : ClusterModule.DEFAULT_ALLOCATION_DECIDERS) {
    try {
      Constructor<? extends AllocationDecider> constructor=deciderClass.getConstructor(Settings.class,ClusterSettings.class);
      list.add(constructor.newInstance(settings,clusterSettings));
    }
 catch (    NoSuchMethodException e) {
      Constructor<? extends AllocationDecider> constructor=deciderClass.getConstructor(Settings.class);
      list.add(constructor.newInstance(settings));
    }
  }
  return new AllocationDeciders(settings,list.toArray(new AllocationDecider[0]));
}
