{
  Object r;
  Throwable ex, cause;
  long nanos=unit.toNanos(timeout);
  if (Thread.interrupted())   throw new InterruptedException();
  if ((r=result) == null)   r=timedAwaitDone(nanos);
  if (!(r instanceof AltResult)) {
    @SuppressWarnings("unchecked") T tr=(T)r;
    return tr;
  }
  if ((ex=((AltResult)r).ex) == null)   return null;
  if (ex instanceof CancellationException)   throw (CancellationException)ex;
  if ((ex instanceof CompletionException) && (cause=ex.getCause()) != null)   ex=cause;
  throw new ExecutionException(ex);
}
