{
  blobStore.executor().execute(new Runnable(){
    @Override public void run(){
      InputStream is;
      try {
        S3Object object=blobStore.client().getObject(blobStore.bucket(),buildKey(blobName));
        is=object.getObjectContent();
      }
 catch (      AmazonS3Exception e) {
        if (e.getStatusCode() == 404) {
          listener.onFailure(new FileNotFoundException(e.getMessage()));
        }
 else {
          listener.onFailure(e);
        }
        return;
      }
catch (      Throwable e) {
        listener.onFailure(e);
        return;
      }
      byte[] buffer=new byte[blobStore.bufferSizeInBytes()];
      try {
        int bytesRead;
        while ((bytesRead=is.read(buffer)) != -1) {
          listener.onPartial(buffer,0,bytesRead);
        }
        listener.onCompleted();
      }
 catch (      Throwable e) {
        IOUtils.closeWhileHandlingException(is);
        listener.onFailure(e);
      }
    }
  }
);
}
