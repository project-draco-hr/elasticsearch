{
  Query filter=this.filter.toQuery(context.searchContext().indexShard().getQueryShardContext());
  return new FilterAggregator(name,filter,factories,context,parent,pipelineAggregators,metaData);
}
