{
  EarlyTerminatingCollector countCollector=createCountBasedEarlyTerminatingCollector(terminateAfterCount);
  countWithEarlyTermination(searcher,query,countCollector);
  return countCollector.count();
}
