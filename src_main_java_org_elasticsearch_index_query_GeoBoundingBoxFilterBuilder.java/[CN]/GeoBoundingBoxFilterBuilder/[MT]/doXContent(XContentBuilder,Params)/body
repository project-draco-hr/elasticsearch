{
  builder.startObject(GeoBoundingBoxFilterParser.NAME);
  builder.startObject(name);
  if (topLeftGeohash != null) {
    builder.field("top_left",topLeftGeohash);
  }
 else   if (topLeft != null) {
    builder.startArray("top_left").value(topLeft.lon()).value(topLeft.lat()).endArray();
  }
 else {
    throw new ElasticSearchIllegalArgumentException("geo_bounding_box requires 'top_left' to be set");
  }
  if (bottomRightGeohash != null) {
    builder.field("bottom_right",bottomRightGeohash);
  }
 else   if (bottomRight != null) {
    builder.startArray("bottom_right").value(bottomRight.lon()).value(bottomRight.lat()).endArray();
  }
 else {
    throw new ElasticSearchIllegalArgumentException("geo_bounding_box requires 'bottom_right' to be set");
  }
  builder.endObject();
  if (filterName != null) {
    builder.field("_name",filterName);
  }
  if (cache != null) {
    builder.field("_cache",cache);
  }
  if (cacheKey != null) {
    builder.field("_cache_key",cacheKey);
  }
  if (type != null) {
    builder.field("type",type);
  }
  builder.endObject();
}
