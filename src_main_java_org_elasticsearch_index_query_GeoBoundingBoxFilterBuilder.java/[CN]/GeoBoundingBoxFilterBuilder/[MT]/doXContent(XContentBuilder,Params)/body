{
  if (Double.isNaN(box[TOP])) {
    throw new ElasticsearchIllegalArgumentException("geo_bounding_box requires top latitude to be set");
  }
 else   if (Double.isNaN(box[BOTTOM])) {
    throw new ElasticsearchIllegalArgumentException("geo_bounding_box requires bottom latitude to be set");
  }
 else   if (Double.isNaN(box[RIGHT])) {
    throw new ElasticsearchIllegalArgumentException("geo_bounding_box requires right longitude to be set");
  }
 else   if (Double.isNaN(box[LEFT])) {
    throw new ElasticsearchIllegalArgumentException("geo_bounding_box requires left longitude to be set");
  }
  builder.startObject(GeoBoundingBoxFilterParser.NAME);
  builder.startObject(name);
  builder.array(TOP_LEFT,box[LEFT],box[TOP]);
  builder.array(BOTTOM_RIGHT,box[RIGHT],box[BOTTOM]);
  builder.endObject();
  if (filterName != null) {
    builder.field("_name",filterName);
  }
  if (cache != null) {
    builder.field("_cache",cache);
  }
  if (cacheKey != null) {
    builder.field("_cache_key",cacheKey);
  }
  if (type != null) {
    builder.field("type",type);
  }
  builder.endObject();
}
