{
  List<FieldStats> stats=new ArrayList<>();
  stats.add(new FieldStats.Long(1,1l,1l,1l,1l,1l));
  stats.add(new FieldStats.Long(1,1l,1l,1l,1l,1l));
  stats.add(new FieldStats.Long(1,1l,1l,1l,1l,1l));
  FieldStats stat=new FieldStats.Long(1,-1l,-1l,-1l,1l,1l);
  for (  FieldStats otherStat : stats) {
    stat.append(otherStat);
  }
  assertThat(stat.getMaxDoc(),equalTo(4l));
  assertThat(stat.getDocCount(),equalTo(-1l));
  assertThat(stat.getSumDocFreq(),equalTo(-1l));
  assertThat(stat.getSumTotalTermFreq(),equalTo(-1l));
  stats.add(new FieldStats.Long(1,-1l,-1l,-1l,1l,1l));
  stat=stats.remove(0);
  for (  FieldStats otherStat : stats) {
    stat.append(otherStat);
  }
  assertThat(stat.getMaxDoc(),equalTo(4l));
  assertThat(stat.getDocCount(),equalTo(-1l));
  assertThat(stat.getSumDocFreq(),equalTo(-1l));
  assertThat(stat.getSumTotalTermFreq(),equalTo(-1l));
}
