{
  AnalysisService analysisService=createAnalysisService();
  TokenFilterFactory tokenFilter=analysisService.tokenFilter("kuromoji_number");
  assertThat(tokenFilter,instanceOf(KuromojiNumberFilterFactory.class));
  String source="???????????????????????????????????????????????????";
  String[] expected=new String[]{"??????","102500","???","???","?????????","???","??????","???"};
  Tokenizer tokenizer=new JapaneseTokenizer(null,true,JapaneseTokenizer.Mode.SEARCH);
  tokenizer.setReader(new StringReader(source));
  assertSimpleTSOutput(tokenFilter.create(tokenizer),expected);
}
