{
  String nodeId=node.getId();
  if (logger.isDebugEnabled() && !(t instanceof NodeShouldNotConnectException)) {
    logger.debug(new ParameterizedMessage("failed to execute [{}] on node [{}]",actionName,nodeId),t);
  }
  if (responses.compareAndSet(nodeIndex,null,new FailedNodeException(nodeId,"Failed node [" + nodeId + "]",t))) {
    if (counter.incrementAndGet() == responses.length()) {
      onCompletion();
    }
  }
}
