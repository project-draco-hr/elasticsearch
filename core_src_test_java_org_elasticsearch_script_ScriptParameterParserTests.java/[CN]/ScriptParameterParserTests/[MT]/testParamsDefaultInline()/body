{
  Map<String,String> config=new HashMap<>();
  config.put("script","scriptValue");
  MapParams params=new MapParams(config);
  ScriptParameterParser paramParser=new ScriptParameterParser();
  paramParser.parseParams(params);
  assertDefaultParameterValue(paramParser,"scriptValue",ScriptType.INLINE);
  assertThat(paramParser.lang(),nullValue());
  paramParser=new ScriptParameterParser(null);
  paramParser.parseParams(params);
  assertDefaultParameterValue(paramParser,"scriptValue",ScriptType.INLINE);
  assertThat(paramParser.lang(),nullValue());
  paramParser=new ScriptParameterParser(new HashSet<String>());
  paramParser.parseParams(params);
  assertDefaultParameterValue(paramParser,"scriptValue",ScriptType.INLINE);
  assertThat(paramParser.lang(),nullValue());
}
