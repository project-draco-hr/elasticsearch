{
  Map<String,String> config=new LinkedHashMap<>();
  config.put("foo_file","scriptValue");
  config.put("foo_id","scriptValue");
  Set<String> parameters=Collections.singleton("foo");
  ScriptParameterParser paramParser=new ScriptParameterParser(parameters);
  assertThat(paramParser.getScriptParameterValue("foo"),nullValue());
  MapParams params=new MapParams(config);
  try {
    paramParser.parseParams(params);
    fail("Expected ScriptParseException");
  }
 catch (  ScriptParseException e) {
    assertThat(e.getMessage(),is("Only one of [foo, foo_file, foo_id] is allowed."));
  }
}
