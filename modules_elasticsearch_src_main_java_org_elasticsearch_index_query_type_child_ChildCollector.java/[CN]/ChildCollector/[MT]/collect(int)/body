{
  BytesWrap parentId=typeCache.parentIdByDoc(doc);
  if (parentId == null) {
    return;
  }
  for (  IndexReader indexReader : context.searcher().subReaders()) {
    int parentDocId=typeCacheMap.get(indexReader.getFieldCacheKey()).docById(parentId);
    if (parentDocId != -1 && !indexReader.isDeleted(parentDocId)) {
      OpenBitSet docIdSet=parentDocs().get(indexReader.getFieldCacheKey());
      if (docIdSet == null) {
        docIdSet=new OpenBitSet(indexReader.maxDoc());
        parentDocs.put(indexReader.getFieldCacheKey(),docIdSet);
      }
      docIdSet.fastSet(parentDocId);
      return;
    }
  }
}
