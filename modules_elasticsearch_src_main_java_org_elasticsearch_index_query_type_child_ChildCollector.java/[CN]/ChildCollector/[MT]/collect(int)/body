{
  BytesWrap parentId=typeCache.parentIdByDoc(doc);
  if (parentId == null) {
    return;
  }
  for (  IndexReader indexReader : context.searcher().subReaders()) {
    IdReaderTypeCache idReaderTypeCache=typeCacheMap.get(indexReader.getCoreCacheKey());
    if (idReaderTypeCache == null) {
      continue;
    }
    int parentDocId=idReaderTypeCache.docById(parentId);
    if (parentDocId != -1 && !indexReader.isDeleted(parentDocId)) {
      OpenBitSet docIdSet=parentDocs().get(indexReader.getCoreCacheKey());
      if (docIdSet == null) {
        docIdSet=new OpenBitSet(indexReader.maxDoc());
        parentDocs.put(indexReader.getCoreCacheKey(),docIdSet);
      }
      docIdSet.fastSet(parentDocId);
      return;
    }
  }
}
