{
  if (maxOrd != -1) {
    return maxOrd;
  }
  IndexReader indexReader=indexSearcher.getIndexReader();
  if (indexReader.leaves().isEmpty()) {
    return maxOrd=0;
  }
 else {
    LeafReaderContext atomicReaderContext=indexReader.leaves().get(0);
    IndexParentChildFieldData globalFieldData=indexFieldData.loadGlobal(indexReader);
    AtomicParentChildFieldData afd=globalFieldData.load(atomicReaderContext);
    SortedDocValues values=afd.getOrdinalsValues(type);
    return maxOrd=values.getValueCount();
  }
}
