{
  if (fuzziness != null) {
    if (mapper != null) {
      return mapper.fuzzyQuery(term.text(),fuzziness,fuzzyPrefixLength,maxExpansions);
    }
    return new FuzzyQuery(term,Float.parseFloat(fuzziness),fuzzyPrefixLength,maxExpansions);
  }
  if (mapper != null) {
    Query termQuery=mapper.queryStringTermQuery(term);
    if (termQuery != null) {
      return termQuery;
    }
  }
  return new TermQuery(term);
}
