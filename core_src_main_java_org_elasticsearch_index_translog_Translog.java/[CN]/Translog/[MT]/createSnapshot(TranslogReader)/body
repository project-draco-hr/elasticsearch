{
  Snapshot[] snapshots=new Snapshot[translogs.length];
  boolean success=false;
  try {
    for (int i=0; i < translogs.length; i++) {
      snapshots[i]=translogs[i].newSnapshot();
    }
    Snapshot snapshot=new MultiSnapshot(snapshots);
    success=true;
    return snapshot;
  }
  finally {
    if (success == false) {
      Releasables.close(snapshots);
    }
  }
}
