{
  final long generation;
  try {
    generation=parseIdFromFileName(path);
  }
 catch (  IllegalArgumentException ex) {
    throw new TranslogException(shardId,"failed to parse generation from file name matching pattern " + path,ex);
  }
  FileChannel channel=FileChannel.open(path,StandardOpenOption.READ);
  try {
    final ChannelReference raf=new ChannelReference(path,generation,channel,new OnCloseRunnable());
    ImmutableTranslogReader reader=ImmutableTranslogReader.open(raf,checkpoint,translogUUID);
    channel=null;
    return reader;
  }
  finally {
    IOUtils.close(channel);
  }
}
