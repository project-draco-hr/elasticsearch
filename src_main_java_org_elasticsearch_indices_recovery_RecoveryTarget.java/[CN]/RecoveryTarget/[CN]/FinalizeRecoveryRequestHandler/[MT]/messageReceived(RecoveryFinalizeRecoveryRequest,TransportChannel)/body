{
  try (RecoveriesCollection.StatusRef statusRef=onGoingRecoveries.getStatusSafe(request.recoveryId(),request.shardId())){
    final RecoveryStatus recoveryStatus=statusRef.status();
    recoveryStatus.indexShard().performRecoveryFinalization(false,recoveryStatus.state());
    recoveryStatus.state().getTimer().time(System.currentTimeMillis() - recoveryStatus.state().getTimer().startTime());
    recoveryStatus.stage(RecoveryState.Stage.DONE);
  }
   channel.sendResponse(TransportResponse.Empty.INSTANCE);
}
