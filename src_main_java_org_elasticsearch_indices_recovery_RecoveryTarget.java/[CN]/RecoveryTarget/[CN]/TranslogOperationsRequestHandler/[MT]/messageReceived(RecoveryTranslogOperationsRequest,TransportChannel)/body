{
  try (RecoveriesCollection.StatusRef statusRef=onGoingRecoveries.getStatusSafe(request.recoveryId(),request.shardId())){
    final RecoveryStatus recoveryStatus=statusRef.status();
    final RecoveryState.Translog translog=recoveryStatus.state().getTranslog();
    translog.totalOperations(request.totalTranslogOps());
    for (    Translog.Operation operation : request.operations()) {
      recoveryStatus.indexShard().performRecoveryOperation(operation);
      translog.incrementRecoveredOperations();
    }
  }
   channel.sendResponse(TransportResponse.Empty.INSTANCE);
}
