{
  final Semaphore mdLock=metaDataService.indexMetaDataLock(request.index);
  if (mdLock.tryAcquire()) {
    deleteIndex(request,userListener,mdLock);
    return;
  }
  threadPool.executor(ThreadPool.Names.MANAGEMENT).execute(new Runnable(){
    @Override public void run(){
      try {
        if (!mdLock.tryAcquire(request.masterTimeout.nanos(),TimeUnit.NANOSECONDS)) {
          userListener.onFailure(new ProcessClusterEventTimeoutException(request.masterTimeout,"acquire index lock"));
          return;
        }
      }
 catch (      InterruptedException e) {
        userListener.onFailure(e);
        return;
      }
      deleteIndex(request,userListener,mdLock);
    }
  }
);
}
