{
  Map<String,Set<File>> yamlSuites=FileUtils.findYamlSuites("/rest-api-spec/test","get");
  assertThat(yamlSuites,notNullValue());
  assertThat(yamlSuites.size(),equalTo(1));
  assertThat(yamlSuites.containsKey("get"),equalTo(true));
  assertThat(yamlSuites.get("get").size(),greaterThan(1));
  yamlSuites=FileUtils.findYamlSuites("/rest-api-spec/test","get","index");
  assertThat(yamlSuites,notNullValue());
  assertThat(yamlSuites.size(),equalTo(2));
  assertThat(yamlSuites.containsKey("get"),equalTo(true));
  assertThat(yamlSuites.get("get").size(),greaterThan(1));
  assertThat(yamlSuites.containsKey("index"),equalTo(true));
  assertThat(yamlSuites.get("index").size(),greaterThan(1));
  yamlSuites=FileUtils.findYamlSuites("/rest-api-spec/test","indices.optimize/10_basic","index");
  assertThat(yamlSuites,notNullValue());
  assertThat(yamlSuites.size(),equalTo(2));
  assertThat(yamlSuites.containsKey("indices.optimize"),equalTo(true));
  assertThat(yamlSuites.get("indices.optimize").size(),equalTo(1));
  assertSingleFile(yamlSuites.get("indices.optimize"),"indices.optimize","10_basic.yaml");
  assertThat(yamlSuites.containsKey("index"),equalTo(true));
  assertThat(yamlSuites.get("index").size(),greaterThan(1));
  File dir=newTempDir();
  File file=new File(dir,"test_loading.yaml");
  assertThat(file.createNewFile(),equalTo(true));
  yamlSuites=FileUtils.findYamlSuites("/rest-api-spec/test","get/10_basic",dir.getAbsolutePath());
  assertThat(yamlSuites,notNullValue());
  assertThat(yamlSuites.size(),equalTo(2));
  assertThat(yamlSuites.containsKey("get"),equalTo(true));
  assertThat(yamlSuites.get("get").size(),equalTo(1));
  assertSingleFile(yamlSuites.get("get"),"get","10_basic.yaml");
  assertThat(yamlSuites.containsKey(dir.getName()),equalTo(true));
  assertSingleFile(yamlSuites.get(dir.getName()),dir.getName(),file.getName());
  yamlSuites=FileUtils.findYamlSuites("/rest-api-spec/test","get/10_basic",dir.getAbsolutePath() + File.separator + "test_loading");
  assertThat(yamlSuites,notNullValue());
  assertThat(yamlSuites.size(),equalTo(2));
  assertThat(yamlSuites.containsKey("get"),equalTo(true));
  assertThat(yamlSuites.get("get").size(),equalTo(1));
  assertSingleFile(yamlSuites.get("get"),"get","10_basic.yaml");
  assertThat(yamlSuites.containsKey(dir.getName()),equalTo(true));
  assertSingleFile(yamlSuites.get(dir.getName()),dir.getName(),file.getName());
}
