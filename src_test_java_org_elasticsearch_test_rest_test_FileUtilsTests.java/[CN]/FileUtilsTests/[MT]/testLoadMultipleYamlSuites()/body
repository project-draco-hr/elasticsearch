{
  Map<String,Set<Path>> yamlSuites=FileUtils.findYamlSuites("/rest-api-spec/test","get");
  assertThat(yamlSuites,notNullValue());
  assertThat(yamlSuites.size(),equalTo(1));
  assertThat(yamlSuites.containsKey("get"),equalTo(true));
  assertThat(yamlSuites.get("get").size(),greaterThan(1));
  yamlSuites=FileUtils.findYamlSuites("/rest-api-spec/test","get","index");
  assertThat(yamlSuites,notNullValue());
  assertThat(yamlSuites.size(),equalTo(2));
  assertThat(yamlSuites.containsKey("get"),equalTo(true));
  assertThat(yamlSuites.get("get").size(),greaterThan(1));
  assertThat(yamlSuites.containsKey("index"),equalTo(true));
  assertThat(yamlSuites.get("index").size(),greaterThan(1));
  yamlSuites=FileUtils.findYamlSuites("/rest-api-spec/test","indices.optimize/10_basic","index");
  assertThat(yamlSuites,notNullValue());
  assertThat(yamlSuites.size(),equalTo(2));
  assertThat(yamlSuites.containsKey("indices.optimize"),equalTo(true));
  assertThat(yamlSuites.get("indices.optimize").size(),equalTo(1));
  assertSingleFile(yamlSuites.get("indices.optimize"),"indices.optimize","10_basic.yaml");
  assertThat(yamlSuites.containsKey("index"),equalTo(true));
  assertThat(yamlSuites.get("index").size(),greaterThan(1));
  Path dir=newTempDirPath();
  Path file=dir.resolve("test_loading.yaml");
  Files.createFile(file);
  yamlSuites=FileUtils.findYamlSuites("/rest-api-spec/test","get/10_basic",dir.toAbsolutePath().toString());
  assertThat(yamlSuites,notNullValue());
  assertThat(yamlSuites.size(),equalTo(2));
  assertThat(yamlSuites.containsKey("get"),equalTo(true));
  assertThat(yamlSuites.get("get").size(),equalTo(1));
  assertSingleFile(yamlSuites.get("get"),"get","10_basic.yaml");
  assertThat(yamlSuites.containsKey(dir.getFileName().toString()),equalTo(true));
  assertSingleFile(yamlSuites.get(dir.getFileName().toString()),dir.getFileName().toString(),file.getFileName().toString());
  yamlSuites=FileUtils.findYamlSuites("/rest-api-spec/test","get/10_basic",dir.resolve("test_loading").toAbsolutePath().toString());
  assertThat(yamlSuites,notNullValue());
  assertThat(yamlSuites.size(),equalTo(2));
  assertThat(yamlSuites.containsKey("get"),equalTo(true));
  assertThat(yamlSuites.get("get").size(),equalTo(1));
  assertSingleFile(yamlSuites.get("get"),"get","10_basic.yaml");
  assertThat(yamlSuites.containsKey(dir.getFileName().toString()),equalTo(true));
  assertSingleFile(yamlSuites.get(dir.getFileName().toString()),dir.getFileName().toString(),file.getFileName().toString());
}
