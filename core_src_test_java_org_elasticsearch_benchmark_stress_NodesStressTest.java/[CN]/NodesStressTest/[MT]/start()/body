{
  for (  Thread t : searcherThreads) {
    t.start();
  }
  for (  Thread t : indexThreads) {
    t.start();
  }
  barrier1.await();
  StopWatch stopWatch=new StopWatch();
  stopWatch.start();
  barrier2.await();
  latch.await();
  stopWatch.stop();
  System.out.println("Done, took [" + stopWatch.totalTime() + "]");
  System.out.println("Sleeping before close: " + sleepBeforeClose);
  Thread.sleep(sleepBeforeClose.millis());
  for (  Client client : clients) {
    client.close();
  }
  for (  Node node : nodes) {
    node.close();
  }
  System.out.println("Sleeping before exit: " + sleepBeforeClose);
  Thread.sleep(sleepAfterDone.millis());
}
