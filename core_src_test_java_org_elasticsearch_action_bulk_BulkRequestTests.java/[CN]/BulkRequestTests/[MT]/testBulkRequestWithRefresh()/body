{
  BulkRequest bulkRequest=new BulkRequest();
  bulkRequest.add(new DeleteRequest("index","type",null).refresh(true));
  bulkRequest.add(new DeleteRequest("index",null,"id"));
  bulkRequest.add(new DeleteRequest("index","type","id").refresh(true));
  bulkRequest.add(new UpdateRequest("index","type","id").doc("{}").refresh(true));
  bulkRequest.add(new IndexRequest("index","type","id").source("{}").refresh(true));
  ActionRequestValidationException validate=bulkRequest.validate();
  assertThat(validate,notNullValue());
  assertThat(validate.validationErrors(),not(empty()));
  assertThat(validate.validationErrors(),contains("Refresh is not supported on an item request, set the refresh flag on the BulkRequest instead.","id is missing","type is missing","Refresh is not supported on an item request, set the refresh flag on the BulkRequest instead.","Refresh is not supported on an item request, set the refresh flag on the BulkRequest instead.","Refresh is not supported on an item request, set the refresh flag on the BulkRequest instead."));
}
