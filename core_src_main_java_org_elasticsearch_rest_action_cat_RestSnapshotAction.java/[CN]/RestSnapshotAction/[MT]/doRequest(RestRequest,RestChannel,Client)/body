{
  GetSnapshotsRequest getSnapshotsRequest=new GetSnapshotsRequest();
  getSnapshotsRequest.repository(request.param("repository"));
  getSnapshotsRequest.snapshots(new String[]{GetSnapshotsRequest.ALL_SNAPSHOTS});
  getSnapshotsRequest.masterNodeTimeout(request.paramAsTime("master_timeout",getSnapshotsRequest.masterNodeTimeout()));
  client.admin().cluster().getSnapshots(getSnapshotsRequest,new RestResponseListener<GetSnapshotsResponse>(channel){
    @Override public RestResponse buildResponse(    GetSnapshotsResponse getSnapshotsResponse) throws Exception {
      return RestTable.buildResponse(buildTable(request,getSnapshotsResponse),channel);
    }
  }
);
}
