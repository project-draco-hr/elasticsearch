{
  this.request=request;
  this.channel=channel;
  this.params=new HashMap<>();
  if (request.getContent().readable()) {
    this.content=Netty3Utils.toBytesReference(request.getContent());
  }
 else {
    this.content=BytesArray.EMPTY;
  }
  String uri=request.getUri();
  int pathEndPos=uri.indexOf('?');
  if (pathEndPos < 0) {
    this.rawPath=uri;
  }
 else {
    this.rawPath=uri.substring(0,pathEndPos);
    RestUtils.decodeQueryString(uri,pathEndPos + 1,params);
  }
}
