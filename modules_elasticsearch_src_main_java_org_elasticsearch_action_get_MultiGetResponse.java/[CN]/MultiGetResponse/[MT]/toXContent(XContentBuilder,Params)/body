{
  builder.startObject();
  builder.startArray(Fields.DOCS);
  for (  MultiGetItemResponse response : responses) {
    if (response.failed()) {
      builder.startObject();
      Failure failure=response.failure();
      builder.field(Fields._INDEX,failure.index());
      builder.field(Fields._TYPE,failure.type());
      builder.field(Fields._ID,failure.id());
      builder.field(Fields.ERROR,failure.message());
      builder.endObject();
    }
 else {
      GetResponse getResponse=response.getResponse();
      getResponse.toXContent(builder,params);
    }
  }
  builder.endArray();
  builder.endObject();
  return builder;
}
