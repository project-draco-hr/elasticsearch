{
  Map<String,Object> mapping=XContentHelper.convertToMap(source.compressed(),0,source.compressed().length).v2();
  if (mapping.size() == 1 && mapping.containsKey(type())) {
    mapping=(Map<String,Object>)mapping.get(type());
  }
  return mapping;
}
