{
  Node build=new Node(Settings.builder().put(ClusterName.SETTING,InternalTestCluster.clusterName("single-node-cluster",randomLong())).put("path.home",createTempDir()).put("path.shared_data",createTempDir().getParent()).put("node.name",nodeName()).put(IndexMetaData.SETTING_NUMBER_OF_SHARDS,1).put(IndexMetaData.SETTING_NUMBER_OF_REPLICAS,0).put("script.inline","on").put("script.indexed","on").put(EsExecutors.PROCESSORS,1).put("http.enabled",false).put("node.local",true).put("node.data",true).put(InternalSettingsPreparer.IGNORE_SYSTEM_PROPERTIES_SETTING,true).build());
  build.start();
  assertThat(DiscoveryNode.localNode(build.settings()),is(true));
  return build;
}
