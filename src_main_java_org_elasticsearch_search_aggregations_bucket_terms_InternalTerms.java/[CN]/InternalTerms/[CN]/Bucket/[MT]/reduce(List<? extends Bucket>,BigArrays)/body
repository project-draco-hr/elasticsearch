{
  long docCount=0;
  List<InternalAggregations> aggregationsList=new ArrayList<>(buckets.size());
  for (  Bucket bucket : buckets) {
    docCount+=bucket.docCount;
    aggregationsList.add(bucket.aggregations);
  }
  InternalAggregations aggs=InternalAggregations.reduce(aggregationsList,bigArrays);
  return newBucket(docCount,aggs);
}
