{
  String defaultMapping=XContentFactory.contentTextBuilder(XContentType.JSON).startObject().startObject(MapperService.DEFAULT_MAPPING).startObject("_source").field("enabled",false).endObject().endObject().endObject().string();
  String mapping=XContentFactory.contentTextBuilder(XContentType.JSON).startObject().startObject("type").startObject("_source").field("enabled",true).endObject().endObject().endObject().string();
  XContentDocumentMapper mapper=XContentMapperTests.newParser().parse("my_type",mapping,defaultMapping);
  assertThat(mapper.type(),equalTo("my_type"));
  assertThat(mapper.sourceMapper().enabled(),equalTo(true));
}
