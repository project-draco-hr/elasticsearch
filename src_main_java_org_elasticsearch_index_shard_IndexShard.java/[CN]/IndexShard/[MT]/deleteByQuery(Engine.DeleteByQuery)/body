{
  writeAllowed(deleteByQuery.origin());
  if (logger.isTraceEnabled()) {
    logger.trace("delete_by_query [{}]",deleteByQuery.query());
  }
  deleteByQuery=indexingService.preDeleteByQuery(deleteByQuery);
  engine().delete(deleteByQuery);
  deleteByQuery.endTime(System.nanoTime());
  indexingService.postDeleteByQuery(deleteByQuery);
}
