{
  if (state != IndexShardState.RECOVERING) {
    throw new IndexShardNotRecoveringException(shardId,state);
  }
  recoveryState.setStage(RecoveryState.Stage.START);
  if (Booleans.parseBoolean(checkIndexOnStartup,false)) {
    checkIndex();
  }
  config.setEnableGcDeletes(false);
  createNewEngine();
  recoveryState.setStage(RecoveryState.Stage.TRANSLOG);
}
