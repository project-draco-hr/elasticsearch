{
  try (ReleasableLock lock=readLock.acquire()){
    ChannelReader reader=null;
    if (current.translogId() == location.translogId) {
      reader=current;
    }
 else {
      for (      ChannelReader translog : uncommittedTranslogs) {
        if (translog.translogId() == location.translogId) {
          reader=translog;
          break;
        }
      }
    }
    return reader == null ? null : reader.read(location);
  }
 catch (  IOException e) {
    throw new ElasticsearchException("failed to read source from translog location " + location,e);
  }
}
