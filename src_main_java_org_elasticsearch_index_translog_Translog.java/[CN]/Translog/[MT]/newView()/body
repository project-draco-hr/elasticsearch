{
  try (ReleasableLock lock=readLock.acquire()){
    ArrayList<ChannelReader> translogs=new ArrayList<>();
    try {
      for (      ChannelImmutableReader translog : uncommittedTranslogs) {
        translogs.add(translog.clone());
      }
      translogs.add(current.reader());
      FsView view=new FsView(translogs);
      outstandingViews.add(view);
      translogs.clear();
      return view;
    }
  finally {
      IOUtils.closeWhileHandlingException(translogs);
    }
  }
 }
