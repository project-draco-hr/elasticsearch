{
  try (ReleasableLock lock=readLock.acquire()){
    ArrayList<TranslogReader> toOpen=new ArrayList<>();
    toOpen.addAll(recoveredTranslogs);
    if (currentCommittingTranslog != null) {
      toOpen.add(currentCommittingTranslog);
    }
    toOpen.add(current);
    return createSnapshot(toOpen.toArray(new TranslogReader[toOpen.size()]));
  }
 }
