{
  try (ReleasableLock lock=readLock.acquire()){
    final ChannelReader[] readers=uncommittedTranslogs.toArray(new ChannelReader[uncommittedTranslogs.size() + 1]);
    readers[readers.length - 1]=current;
    return createdSnapshot(readers);
  }
 }
