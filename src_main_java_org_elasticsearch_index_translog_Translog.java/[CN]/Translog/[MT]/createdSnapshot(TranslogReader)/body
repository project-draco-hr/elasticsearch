{
  ArrayList<Translog.Snapshot> channelSnapshots=new ArrayList<>();
  boolean success=false;
  try {
    for (    TranslogReader translog : translogs) {
      channelSnapshots.add(translog.newSnapshot());
    }
    Snapshot snapshot=new TranslogSnapshot(channelSnapshots);
    success=true;
    return snapshot;
  }
  finally {
    if (success == false) {
      Releasables.close(channelSnapshots);
    }
  }
}
