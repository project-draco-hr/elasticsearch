{
  PreBuiltTokenFilterFactoryFactory factory=new PreBuiltTokenFilterFactoryFactory(PreBuiltTokenFilters.STOP.getTokenFilterFactory(Version.CURRENT));
  TokenFilterFactory emptySettingsTokenizerFactory=factory.create("stop",ImmutableSettings.EMPTY);
  TokenFilterFactory former090TokenizerFactory=factory.create("stop",ImmutableSettings.settingsBuilder().put(IndexMetaData.SETTING_VERSION_CREATED,Version.V_0_90_1).build());
  TokenFilterFactory former090TokenizerFactoryCopy=factory.create("stop",ImmutableSettings.settingsBuilder().put(IndexMetaData.SETTING_VERSION_CREATED,Version.V_0_90_2).build());
  TokenFilterFactory currentTokenizerFactory=factory.create("stop",ImmutableSettings.settingsBuilder().put(IndexMetaData.SETTING_VERSION_CREATED,Version.CURRENT).build());
  assertThat(emptySettingsTokenizerFactory,is(currentTokenizerFactory));
  assertThat(emptySettingsTokenizerFactory,is(not(former090TokenizerFactory)));
  assertThat(former090TokenizerFactory,is(former090TokenizerFactoryCopy));
}
