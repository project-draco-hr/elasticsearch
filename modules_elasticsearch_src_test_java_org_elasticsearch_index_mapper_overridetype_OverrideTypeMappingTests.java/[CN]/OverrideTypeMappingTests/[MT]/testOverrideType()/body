{
  String mapping=XContentFactory.jsonBuilder().startObject().startObject("type").startObject("_source").field("enabled",false).endObject().endObject().endObject().string();
  DocumentMapper mapper=MapperTests.newParser().parse("my_type",mapping);
  assertThat(mapper.type(),equalTo("my_type"));
  assertThat(mapper.sourceMapper().enabled(),equalTo(false));
  mapper=MapperTests.newParser().parse(mapping);
  assertThat(mapper.type(),equalTo("type"));
  assertThat(mapper.sourceMapper().enabled(),equalTo(false));
}
