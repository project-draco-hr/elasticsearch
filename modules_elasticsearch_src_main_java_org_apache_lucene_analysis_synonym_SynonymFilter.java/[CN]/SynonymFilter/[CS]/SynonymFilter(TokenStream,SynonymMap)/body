{
  super(in);
  if (map == null)   throw new IllegalArgumentException("map is required");
  this.map=map;
  addAttribute(CharTermAttribute.class);
  addAttribute(PositionIncrementAttribute.class);
  addAttribute(OffsetAttribute.class);
  addAttribute(TypeAttribute.class);
}
