{
  super(index,indexSettings);
  this.maxSize=indexSettings.getAsInt("index.cache.query.parser.resident.max_size",100);
  this.expire=indexSettings.getAsTime("index.cache.query.parser.resident.expire",null);
  logger.debug("using [resident] query cache with max_size [{}], expire [{}]",maxSize,expire);
  CacheBuilder cacheBuilder=CacheBuilder.newBuilder().maximumSize(maxSize);
  if (expire != null) {
    cacheBuilder.expireAfterAccess(expire.nanos(),TimeUnit.NANOSECONDS);
  }
  this.cache=cacheBuilder.build();
}
