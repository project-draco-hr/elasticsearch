{
  IndexRoutingTable indexRouting=clusterService.state().routingTable().index(indexRequest.index());
  if (indexRouting == null) {
    throw new IndexMissingException(new Index(indexRequest.index()));
  }
  return indexRouting.groupByShardsIt();
}
