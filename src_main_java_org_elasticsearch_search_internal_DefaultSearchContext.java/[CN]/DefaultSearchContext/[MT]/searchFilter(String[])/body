{
  Filter filter=mapperService().searchFilter(types);
  if (filter == null && aliasFilter == null) {
    return null;
  }
  BooleanQuery bq=new BooleanQuery();
  if (filter != null) {
    bq.add(filterCache().cache(filter,null,indexService.queryParserService().autoFilterCachePolicy()),Occur.MUST);
  }
  if (aliasFilter != null) {
    bq.add(aliasFilter,Occur.MUST);
  }
  return Queries.wrap(bq);
}
