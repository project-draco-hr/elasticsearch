{
  final MMapDirectory mmapDir=new MMapDirectory(location,lockFactory);
  return new FileSwitchDirectory(PRIMARY_EXTENSIONS,mmapDir,new NIOFSDirectory(location,lockFactory),true){
    @Override public String[] listAll() throws IOException {
      return mmapDir.listAll();
    }
  }
;
}
