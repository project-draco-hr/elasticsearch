{
  this.nodeName=in.readString().intern();
  this.nodeId=in.readString().intern();
  this.hostName=in.readString().intern();
  this.hostAddress=in.readString().intern();
  this.address=TransportAddressSerializers.addressFromStream(in);
  int size=in.readVInt();
  ImmutableOpenMap.Builder<String,String> attributesBuilder=ImmutableOpenMap.builder(size);
  for (int i=0; i < size; i++) {
    attributesBuilder.put(in.readString().intern(),in.readString().intern());
  }
  this.attributes=attributesBuilder.build();
  int rolesSize=in.readVInt();
  this.roles=new HashSet<>(rolesSize);
  for (int i=0; i < rolesSize; i++) {
    roles.add(Role.values()[in.readVInt()]);
  }
  this.version=Version.readVersion(in);
}
