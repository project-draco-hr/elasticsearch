{
  if (shardSize == 0) {
    setShardSize(Integer.MAX_VALUE);
  }
  if (requiredSize == 0) {
    setRequiredSize(Integer.MAX_VALUE);
  }
  if (shardSize < requiredSize) {
    setShardSize(requiredSize);
  }
  if (shardMinDocCount > minDocCount) {
    setShardMinDocCount(minDocCount);
  }
  if (requiredSize < 0 || minDocCount < 0) {
    throw new ElasticsearchException("parameters [requiredSize] and [minDocCount] must be >=0 in terms aggregation.");
  }
}
