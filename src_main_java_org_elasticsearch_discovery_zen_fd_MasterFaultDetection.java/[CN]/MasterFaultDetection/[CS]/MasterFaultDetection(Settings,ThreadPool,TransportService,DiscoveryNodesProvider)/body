{
  super(settings);
  this.threadPool=threadPool;
  this.transportService=transportService;
  this.nodesProvider=nodesProvider;
  this.connectOnNetworkDisconnect=componentSettings.getAsBoolean("connect_on_network_disconnect",false);
  this.pingInterval=componentSettings.getAsTime("ping_interval",timeValueSeconds(1));
  this.pingRetryTimeout=componentSettings.getAsTime("ping_timeout",timeValueSeconds(30));
  this.pingRetryCount=componentSettings.getAsInt("ping_retries",3);
  this.registerConnectionListener=componentSettings.getAsBoolean("register_connection_listener",true);
  logger.debug("[master] uses ping_interval [{}], ping_timeout [{}], ping_retries [{}]",pingInterval,pingRetryTimeout,pingRetryCount);
  this.connectionListener=new FDConnectionListener();
  if (registerConnectionListener) {
    transportService.addConnectionListener(connectionListener);
  }
  transportService.registerHandler(MASTER_PING_ACTION_NAME,new MasterPingRequestHandler());
}
