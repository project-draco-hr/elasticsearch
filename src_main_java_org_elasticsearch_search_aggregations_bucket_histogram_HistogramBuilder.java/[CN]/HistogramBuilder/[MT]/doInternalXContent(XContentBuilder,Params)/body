{
  if (interval == null) {
    throw new SearchSourceBuilderException("[interval] must be defined for histogram aggregation [" + getName() + "]");
  }
  builder.field("interval",interval);
  if (order != null) {
    builder.field("order");
    order.toXContent(builder,params);
  }
  if (preOffset != null) {
    builder.field("pre_offset",preOffset);
  }
  if (postOffset != null) {
    builder.field("post_offset",postOffset);
  }
  if (minDocCount != null) {
    builder.field("min_doc_count",minDocCount);
  }
  if (extendedBoundsMin != null || extendedBoundsMax != null) {
    builder.startObject(HistogramParser.EXTENDED_BOUNDS.getPreferredName());
    if (extendedBoundsMin != null) {
      builder.field("min",extendedBoundsMin);
    }
    if (extendedBoundsMax != null) {
      builder.field("max",extendedBoundsMax);
    }
    builder.endObject();
  }
  return builder;
}
