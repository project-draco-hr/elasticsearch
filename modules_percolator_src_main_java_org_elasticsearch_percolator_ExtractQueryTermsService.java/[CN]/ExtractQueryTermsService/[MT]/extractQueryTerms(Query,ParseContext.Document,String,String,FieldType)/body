{
  Set<Term> queryTerms;
  try {
    queryTerms=extractQueryTerms(query);
  }
 catch (  UnsupportedQueryException e) {
    document.add(new Field(unknownQueryField,new BytesRef(),fieldType));
    return;
  }
  for (  Term term : queryTerms) {
    BytesRefBuilder builder=new BytesRefBuilder();
    builder.append(new BytesRef(term.field()));
    builder.append(FIELD_VALUE_SEPARATOR);
    builder.append(term.bytes());
    document.add(new Field(queryTermsFieldField,builder.toBytesRef(),fieldType));
  }
}
