{
  try {
    SearchResponse response=client().prepareSearch("idx").addAggregation(terms("terms").field("tag").order(Order.term(true)).subAggregation(histogram("histo").field(SINGLE_VALUED_FIELD_NAME).interval(interval).extendedBounds(new ExtendedBounds((long)minRandomValue,(long)maxRandomValue)).subAggregation(sum("sum").field(SINGLE_VALUED_FIELD_NAME))).subAggregation(extendedStatsBucket("extended_stats_bucket","histo>sum").sigma(-1.0))).execute().actionGet();
    fail("Illegal sigma was provided but no exception was thrown.");
  }
 catch (  SearchPhaseExecutionException exception) {
  }
}
