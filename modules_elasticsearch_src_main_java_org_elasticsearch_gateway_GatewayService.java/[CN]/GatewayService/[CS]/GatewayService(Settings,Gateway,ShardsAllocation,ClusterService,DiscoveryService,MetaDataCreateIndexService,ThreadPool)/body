{
  super(settings);
  this.gateway=gateway;
  this.shardsAllocation=shardsAllocation;
  this.clusterService=clusterService;
  this.discoveryService=discoveryService;
  this.createIndexService=createIndexService;
  this.threadPool=threadPool;
  this.recoverAfterTime=componentSettings.getAsTime("recover_after_time",null);
  this.recoverAfterNodes=componentSettings.getAsInt("recover_after_nodes",-1);
  this.expectedNodes=componentSettings.getAsInt("expected_nodes",-1);
  this.recoverAfterDataNodes=componentSettings.getAsInt("recover_after_data_nodes",-1);
  this.expectedDataNodes=componentSettings.getAsInt("expected_data_nodes",-1);
  this.recoverAfterMasterNodes=componentSettings.getAsInt("recover_after_master_nodes",-1);
  this.expectedMasterNodes=componentSettings.getAsInt("expected_master_nodes",-1);
  this.clusterService.addInitialStateBlock(STATE_NOT_RECOVERED_BLOCK);
}
