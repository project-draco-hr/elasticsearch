{
  if (!lifecycle.started()) {
    return;
  }
  if (event.localNodeMaster()) {
    if (!event.state().metaData().recoveredFromGateway() && readFromGateway.compareAndSet(false,true)) {
      executor.execute(new Runnable(){
        @Override public void run(){
          readFromGateway(null);
        }
      }
);
    }
 else {
      writeToGateway(event);
    }
  }
}
