{
  if (!event.metaDataChanged()) {
    return;
  }
  executor.execute(new Runnable(){
    @Override public void run(){
      logger.debug("writing to gateway {} ...",gateway);
      StopWatch stopWatch=new StopWatch().start();
      try {
        gateway.write(event.state().metaData());
        logger.debug("wrote to gateway {}, took {}",gateway,stopWatch.stop().totalTime());
      }
 catch (      Exception e) {
        logger.error("failed to write to gateway",e);
      }
    }
  }
);
}
