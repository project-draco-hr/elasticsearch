{
  clusterService.submitStateUpdateTask("gateway (marked as read, reason=" + reason + ")",new ClusterStateUpdateTask(){
    @Override public ClusterState execute(    ClusterState currentState){
      MetaData.Builder metaDataBuilder=newMetaDataBuilder().metaData(currentState.metaData()).markAsRecoveredFromGateway();
      return newClusterStateBuilder().state(currentState).metaData(metaDataBuilder).build();
    }
  }
);
}
