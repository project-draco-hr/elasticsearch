{
  clusterService.submitStateUpdateTask("gateway (marked as read, reason=" + reason + ")",new ClusterStateUpdateTask(){
    @Override public ClusterState execute(    ClusterState currentState){
      if (!currentState.blocks().hasGlobalBlock(STATE_NOT_RECOVERED_BLOCK)) {
        return currentState;
      }
      ClusterBlocks.Builder blocks=ClusterBlocks.builder().blocks(currentState.blocks()).removeGlobalBlock(STATE_NOT_RECOVERED_BLOCK);
      return newClusterStateBuilder().state(currentState).blocks(blocks).build();
    }
  }
);
}
