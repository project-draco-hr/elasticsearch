{
  if (!lifecycle.moveToStarted()) {
    return this;
  }
  Logger logger=Loggers.getLogger(Server.class,settings.get("name"));
  logger.info("{{}}: Starting ...",Version.full());
  injector().getInstance(IndicesService.class).start();
  injector().getInstance(GatewayService.class).start();
  injector.getInstance(ClusterService.class).start();
  injector.getInstance(RoutingService.class).start();
  injector.getInstance(SearchService.class).start();
  injector().getInstance(MonitorService.class).start();
  injector.getInstance(TransportService.class).start();
  DiscoveryService discoService=injector.getInstance(DiscoveryService.class).start();
  if (settings.getAsBoolean("http.enabled",true)) {
    injector.getInstance(HttpServer.class).start();
  }
  injector.getInstance(JmxService.class).connectAndRegister(discoService.nodeDescription());
  logger.info("{{}}: Started",Version.full());
  return this;
}
