{
  IndexRequest index=new IndexRequest();
  index.index(mainRequest.getDestination().index());
  if (mainRequest.getDestination().type() == null) {
    index.type(doc.getType());
  }
 else {
    index.type(mainRequest.getDestination().type());
  }
  index.versionType(mainRequest.getDestination().versionType());
  if (index.versionType() == INTERNAL) {
    index.version(mainRequest.getDestination().version());
  }
 else {
    index.version(doc.getVersion());
  }
  index.id(doc.getId());
  index.source(doc.getSource());
  index.routing(mainRequest.getDestination().routing());
  index.parent(mainRequest.getDestination().parent());
  index.timestamp(mainRequest.getDestination().timestamp());
  index.ttl(mainRequest.getDestination().ttl());
  index.contentType(mainRequest.getDestination().getContentType());
  index.setPipeline(mainRequest.getDestination().getPipeline());
  return wrap(index);
}
