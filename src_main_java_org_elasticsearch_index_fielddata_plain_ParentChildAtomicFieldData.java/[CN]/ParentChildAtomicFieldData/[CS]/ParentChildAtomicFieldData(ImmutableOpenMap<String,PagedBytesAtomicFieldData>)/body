{
  this.typeToIds=typeToIds;
  long numValues=0;
  for (  ObjectCursor<PagedBytesAtomicFieldData> cursor : typeToIds.values()) {
    numValues+=cursor.value.getNumberUniqueValues();
  }
  this.numberUniqueValues=numValues;
  long size=0;
  for (  ObjectCursor<PagedBytesAtomicFieldData> cursor : typeToIds.values()) {
    size+=cursor.value.getMemorySizeInBytes();
  }
  this.memorySizeInBytes=size;
  this.numDocs=typeToIds.isEmpty() ? 0 : typeToIds.values().toArray(PagedBytesAtomicFieldData.class)[0].getNumDocs();
}
