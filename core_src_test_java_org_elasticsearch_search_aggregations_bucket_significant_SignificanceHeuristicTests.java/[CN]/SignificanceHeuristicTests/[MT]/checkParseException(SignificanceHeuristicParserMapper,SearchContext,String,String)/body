{
  IndicesQueriesRegistry registry=new IndicesQueriesRegistry(Settings.EMPTY,new HashSet<>(),new NamedWriteableRegistry());
  try {
    XContentParser stParser=JsonXContent.jsonXContent.createParser("{\"field\":\"text\", " + faultyHeuristicDefinition + ",\"min_doc_count\":200}");
    QueryParseContext parseContext=new QueryParseContext(registry);
    parseContext.reset(stParser);
    parseContext.parseFieldMatcher(ParseFieldMatcher.STRICT);
    stParser.nextToken();
    new SignificantTermsParser(heuristicParserMapper,registry).parse("testagg",stParser,parseContext);
    fail();
  }
 catch (  ElasticsearchParseException e) {
    assertTrue(e.getMessage().contains(expectedError));
  }
}
