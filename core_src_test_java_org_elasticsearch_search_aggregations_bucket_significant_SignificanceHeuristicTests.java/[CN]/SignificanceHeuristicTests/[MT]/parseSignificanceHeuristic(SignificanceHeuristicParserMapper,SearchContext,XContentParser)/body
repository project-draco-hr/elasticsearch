{
  IndicesQueriesRegistry registry=new IndicesQueriesRegistry(Settings.EMPTY,new HashSet<>(),new NamedWriteableRegistry());
  QueryParseContext parseContext=new QueryParseContext(registry);
  parseContext.reset(stParser);
  parseContext.parseFieldMatcher(ParseFieldMatcher.STRICT);
  stParser.nextToken();
  SignificantTermsAggregatorFactory aggregatorFactory=(SignificantTermsAggregatorFactory)new SignificantTermsParser(heuristicParserMapper,registry).parse("testagg",stParser,parseContext);
  stParser.nextToken();
  assertThat(aggregatorFactory.getBucketCountThresholds().getMinDocCount(),equalTo(200l));
  assertThat(stParser.currentToken(),equalTo(null));
  stParser.close();
  return aggregatorFactory.getSignificanceHeuristic();
}
