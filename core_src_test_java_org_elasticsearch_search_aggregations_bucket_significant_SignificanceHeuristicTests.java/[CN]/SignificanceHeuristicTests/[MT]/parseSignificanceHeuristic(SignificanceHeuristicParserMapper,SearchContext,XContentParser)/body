{
  IndicesQueriesRegistry registry=new IndicesQueriesRegistry(Settings.EMPTY,new HashSet<>(),new NamedWriteableRegistry());
  stParser.nextToken();
  SignificantTermsAggregatorFactory aggregatorFactory=(SignificantTermsAggregatorFactory)new SignificantTermsParser(heuristicParserMapper,registry).parse("testagg",stParser,searchContext);
  stParser.nextToken();
  assertThat(aggregatorFactory.getBucketCountThresholds().getMinDocCount(),equalTo(200l));
  assertThat(stParser.currentToken(),equalTo(null));
  stParser.close();
  return aggregatorFactory.getSignificanceHeuristic();
}
