{
  Settings settings=Settings.builder().put("name","test").put("node.ingest",true).build();
  ThreadPool threadPool=null;
  try {
    threadPool=new ThreadPool(settings);
    boolean ingestFound=false;
    for (    ThreadPool.Info info : threadPool.info()) {
      if (info.getName().equals("ingest")) {
        ingestFound=true;
        break;
      }
    }
    assertThat(ingestFound,equalTo(true));
  }
  finally {
    if (threadPool != null) {
      terminate(threadPool);
    }
  }
}
