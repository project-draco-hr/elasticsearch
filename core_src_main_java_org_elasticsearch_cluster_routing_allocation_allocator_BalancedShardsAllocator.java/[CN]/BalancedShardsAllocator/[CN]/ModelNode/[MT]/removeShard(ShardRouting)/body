{
  ModelIndex index=indices.get(shard.getIndexName());
  Decision removed=null;
  if (index != null) {
    removed=index.removeShard(shard);
    if (removed != null && index.numShards() == 0) {
      indices.remove(shard.getIndexName());
    }
  }
  numShards--;
  return removed;
}
