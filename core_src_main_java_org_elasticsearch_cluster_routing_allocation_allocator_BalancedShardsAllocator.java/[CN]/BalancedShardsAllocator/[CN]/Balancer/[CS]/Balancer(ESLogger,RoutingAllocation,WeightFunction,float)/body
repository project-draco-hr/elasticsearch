{
  this.logger=logger;
  this.allocation=allocation;
  this.weight=weight;
  this.threshold=threshold;
  this.routingNodes=allocation.routingNodes();
  metaData=routingNodes.metaData();
  avgShardsPerNode=((float)metaData.getTotalNumberOfShards()) / routingNodes.size();
  buildModelFromAssigned();
}
