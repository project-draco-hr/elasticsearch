{
  if (logger.isTraceEnabled()) {
    logger.trace("Start distributing Shards");
  }
  for (  ObjectCursor<String> index : allocation.routingTable().indicesRouting().keys()) {
    indices.add(index.value);
  }
  buildModelFromAssigned(routing.shards(assignedFilter));
  return allocateUnassigned(unassigned);
}
