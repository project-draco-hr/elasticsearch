{
  if (logger.isTraceEnabled()) {
    logger.trace("Start distributing Shards");
  }
  indices.addAll(allocation.routingTable().indicesRouting().keySet());
  buildModelFromAssigned(routing.shards(assignedFilter));
  return allocateUnassigned(unassigned,routing.ignoredUnassigned());
}
