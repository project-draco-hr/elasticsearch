{
  this.indexSettings=indexSettings;
  this.shardId=shardId;
  this.translogPath=translogPath;
  this.durabilty=durabilty;
  this.threadPool=threadPool;
  this.bigArrays=bigArrays;
  this.type=TranslogWriter.Type.fromString(indexSettings.get(INDEX_TRANSLOG_FS_TYPE,TranslogWriter.Type.BUFFERED.name()));
  this.bufferSize=(int)indexSettings.getAsBytesSize(INDEX_TRANSLOG_BUFFER_SIZE,DEFAULT_SHARD_TRANSLOG_BUFFER_SIZE).bytes();
  syncInterval=indexSettings.getAsTime(INDEX_TRANSLOG_SYNC_INTERVAL,TimeValue.timeValueSeconds(5));
  if (syncInterval.millis() > 0 && threadPool != null) {
    syncOnEachOperation=false;
  }
 else   if (syncInterval.millis() == 0) {
    syncOnEachOperation=true;
  }
 else {
    syncOnEachOperation=false;
  }
}
