{
  this.indexSettings=indexSettings;
  this.shardId=shardId;
  this.translogPath=translogPath;
  this.durabilty=durabilty;
  this.threadPool=threadPool;
  this.bigArrays=bigArrays;
  this.type=TranslogWriter.Type.fromString(indexSettings.getSettings().get(INDEX_TRANSLOG_FS_TYPE,TranslogWriter.Type.BUFFERED.name()));
  this.bufferSizeBytes=(int)IndexingMemoryController.SHARD_TRANSLOG_BUFFER.bytes();
  syncInterval=indexSettings.getSettings().getAsTime(INDEX_TRANSLOG_SYNC_INTERVAL,TimeValue.timeValueSeconds(5));
  if (syncInterval.millis() > 0 && threadPool != null) {
    syncOnEachOperation=false;
  }
 else   if (syncInterval.millis() == 0) {
    syncOnEachOperation=true;
  }
 else {
    syncOnEachOperation=false;
  }
}
