{
  super(settings,client);
  JsonNode rootNode;
  int quotesSize;
  try {
    rootNode=Jackson.defaultObjectMapper().readValue(Classes.getDefaultClassLoader().getResourceAsStream("org/elasticsearch/rest/action/main/quotes.json"),JsonNode.class);
    ArrayNode arrayNode=(ArrayNode)rootNode.get("quotes");
    quotesSize=Iterators.size(arrayNode.getElements());
  }
 catch (  Exception e) {
    rootNode=null;
    quotesSize=-1;
  }
  this.rootNode=rootNode;
  this.quotesSize=quotesSize;
  controller.registerHandler(GET,"/",this);
}
