{
  final String[] indices=Strings.splitStringByCommaToArray(request.param("index"));
  final String[] types=Strings.splitStringByCommaToArray(request.param("type"));
  final String[] names=request.paramAsStringArray("name",Strings.EMPTY_ARRAY);
  GetWarmersRequest getWarmersRequest=new GetWarmersRequest();
  getWarmersRequest.indices(indices).types(types).warmers(names);
  getWarmersRequest.local(request.paramAsBoolean("local",getWarmersRequest.local()));
  getWarmersRequest.indicesOptions(IndicesOptions.fromRequest(request,getWarmersRequest.indicesOptions()));
  client.admin().indices().getWarmers(getWarmersRequest,new RestBuilderListener<GetWarmersResponse>(channel){
    @Override public RestResponse buildResponse(    GetWarmersResponse response,    XContentBuilder builder) throws Exception {
      if (indices.length > 0 && response.warmers().isEmpty()) {
        return new BytesRestResponse(OK,builder.startObject().endObject());
      }
      builder.startObject();
      for (      ObjectObjectCursor<String,ImmutableList<IndexWarmersMetaData.Entry>> entry : response.warmers()) {
        builder.startObject(entry.key,XContentBuilder.FieldCaseConversion.NONE);
        builder.startObject(IndexWarmersMetaData.TYPE,XContentBuilder.FieldCaseConversion.NONE);
        for (        IndexWarmersMetaData.Entry warmerEntry : entry.value) {
          IndexWarmersMetaData.toXContent(warmerEntry,builder,request);
        }
        builder.endObject();
        builder.endObject();
      }
      builder.endObject();
      return new BytesRestResponse(OK,builder);
    }
  }
);
}
