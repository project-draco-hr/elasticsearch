{
  out.writeLong(version);
  if (currentNodeId != null) {
    out.writeBoolean(true);
    out.writeUTF(currentNodeId);
  }
 else {
    out.writeBoolean(false);
  }
  if (relocatingNodeId != null) {
    out.writeBoolean(true);
    out.writeUTF(relocatingNodeId);
  }
 else {
    out.writeBoolean(false);
  }
  out.writeBoolean(primary);
  out.writeByte(state.value());
}
