{
  AnalysisService analysisService=AnalysisTestsHelper.createAnalysisServiceFromSettings(settingsBuilder().put("index.analysis.filter.my_word_delimiter.type","word_delimiter").put("index.analysis.filter.my_word_delimiter.preserve_original","true").build());
  TokenFilterFactory tokenFilter=analysisService.tokenFilter("my_word_delimiter");
  String source="PowerShot 500-42 wi-fi wi-fi-4000 j2se O'Neil's";
  String[] expected=new String[]{"PowerShot","Power","Shot","500-42","500","42","wi-fi","wi","fi","wi-fi-4000","wi","fi","4000","j2se","j","2","se","O'Neil's","O","Neil"};
  Tokenizer tokenizer=new WhitespaceTokenizer();
  tokenizer.setReader(new StringReader(source));
  assertTokenStreamContents(tokenFilter.create(tokenizer),expected);
}
