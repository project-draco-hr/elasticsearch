{
  if (rootDoc == 0 || rootDocuments == null || innerDocuments == null) {
    copyMissing(wrappedComparator,slot);
    return;
  }
  final int prevRootDoc=rootDocuments.prevSetBit(rootDoc - 1);
  int nestedDoc=innerDocuments.nextSetBit(prevRootDoc + 1);
  if (nestedDoc >= rootDoc || nestedDoc == -1) {
    copyMissing(wrappedComparator,slot);
    return;
  }
  int counter=1;
  wrappedComparator.copy(slot,nestedDoc);
  nestedDoc=innerDocuments.nextSetBit(nestedDoc + 1);
  while (nestedDoc > prevRootDoc && nestedDoc < rootDoc) {
    onNested(slot,nestedDoc);
    nestedDoc=innerDocuments.nextSetBit(nestedDoc + 1);
    counter++;
  }
  afterNested(slot,counter);
}
