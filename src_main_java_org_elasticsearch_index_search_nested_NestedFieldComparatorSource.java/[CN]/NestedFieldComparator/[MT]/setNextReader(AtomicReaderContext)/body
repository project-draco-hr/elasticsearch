{
  DocIdSet innerDocuments=innerDocumentsFilter.getDocIdSet(context,null);
  if (DocIdSets.isEmpty(innerDocuments)) {
    this.innerDocuments=null;
  }
 else   if (innerDocuments instanceof FixedBitSet) {
    this.innerDocuments=(FixedBitSet)innerDocuments;
  }
 else {
    this.innerDocuments=DocIdSets.toFixedBitSet(innerDocuments.iterator(),context.reader().maxDoc());
  }
  DocIdSet rootDocuments=rootDocumentsFilter.getDocIdSet(context,null);
  if (DocIdSets.isEmpty(rootDocuments)) {
    this.rootDocuments=null;
  }
 else   if (rootDocuments instanceof FixedBitSet) {
    this.rootDocuments=(FixedBitSet)rootDocuments;
  }
 else {
    this.rootDocuments=DocIdSets.toFixedBitSet(rootDocuments.iterator(),context.reader().maxDoc());
  }
  wrappedComparator=wrappedComparator.setNextReader(context);
  return this;
}
