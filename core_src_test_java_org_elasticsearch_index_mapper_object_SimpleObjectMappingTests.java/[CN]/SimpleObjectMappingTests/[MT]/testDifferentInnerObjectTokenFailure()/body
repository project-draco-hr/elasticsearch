{
  String mapping=XContentFactory.jsonBuilder().startObject().startObject("type").endObject().endObject().string();
  DocumentMapper defaultMapper=createIndex("test").mapperService().documentMapperParser().parse(mapping);
  try {
    defaultMapper.parse("type","1",new BytesArray(" {\n" + "      \"object\": {\n" + "        \"array\":[\n"+ "        {\n"+ "          \"object\": { \"value\": \"value\" }\n"+ "        },\n"+ "        {\n"+ "          \"object\":\"value\"\n"+ "        }\n"+ "        ]\n"+ "      },\n"+ "      \"value\":\"value\"\n"+ "    }"));
    fail();
  }
 catch (  MapperParsingException e) {
  }
}
