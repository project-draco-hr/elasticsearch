{
  if (keyed) {
    builder.startObject(name);
  }
 else {
    builder.startArray(name);
  }
  for (  B range : ranges) {
    ((Bucket)range).toXContent(builder,params,formatter,keyed);
  }
  if (keyed) {
    builder.endObject();
  }
 else {
    builder.endArray();
  }
  return builder;
}
