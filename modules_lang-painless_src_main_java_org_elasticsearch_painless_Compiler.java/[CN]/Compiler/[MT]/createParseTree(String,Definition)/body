{
  final ANTLRInputStream stream=new ANTLRInputStream(source);
  final ErrorHandlingLexer lexer=new ErrorHandlingLexer(stream);
  final PainlessParser parser=new PainlessParser(new CommonTokenStream(lexer));
  final ParserErrorStrategy strategy=new ParserErrorStrategy();
  lexer.removeErrorListeners();
  lexer.setTypes(definition.structs.keySet());
  parser.removeErrorListeners();
  parser.setErrorHandler(strategy);
  ParserRuleContext root=parser.source();
  return root;
}
