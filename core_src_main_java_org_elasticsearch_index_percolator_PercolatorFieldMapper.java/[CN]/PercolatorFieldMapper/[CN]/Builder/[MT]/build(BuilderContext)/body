{
  context.path().add(name);
  KeywordFieldMapper extractedTermsField=createExtractQueryFieldBuilder(EXTRACTED_TERMS_FIELD_NAME).build(context);
  KeywordFieldMapper unknownQueryField=createExtractQueryFieldBuilder(UNKNOWN_QUERY_FIELD_NAME).build(context);
  BinaryFieldMapper queryBuilderField=createQueryBuilderFieldBuilder().build(context);
  context.path().remove();
  return new PercolatorFieldMapper(name(),fieldType,defaultFieldType,context.indexSettings(),multiFieldsBuilder.build(this,context),copyTo,queryShardContext,extractedTermsField,unknownQueryField,queryBuilderField);
}
