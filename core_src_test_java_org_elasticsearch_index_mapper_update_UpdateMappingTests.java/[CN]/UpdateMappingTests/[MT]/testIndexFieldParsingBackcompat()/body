{
  IndexService indexService=createIndex("test",Settings.settingsBuilder().put(IndexMetaData.SETTING_VERSION_CREATED,Version.V_1_4_2.id).build());
  XContentBuilder indexMapping=XContentFactory.jsonBuilder();
  boolean enabled=randomBoolean();
  indexMapping.startObject().startObject("type").startObject("_index").field("enabled",enabled).endObject().endObject().endObject();
  DocumentMapper documentMapper=indexService.mapperService().parse("type",new CompressedXContent(indexMapping.string()),true);
  assertThat(documentMapper.indexMapper().enabled(),equalTo(enabled));
  documentMapper=indexService.mapperService().parse("type",new CompressedXContent(documentMapper.mappingSource().string()),true);
  assertThat(documentMapper.indexMapper().enabled(),equalTo(enabled));
}
