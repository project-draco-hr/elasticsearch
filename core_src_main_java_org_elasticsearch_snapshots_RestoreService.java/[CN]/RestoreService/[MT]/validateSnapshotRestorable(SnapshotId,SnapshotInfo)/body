{
  if (!snapshot.state().restorable()) {
    throw new SnapshotRestoreException(snapshotId,"unsupported snapshot state [" + snapshot.state() + "]");
  }
  if (Version.CURRENT.before(snapshot.version())) {
    throw new SnapshotRestoreException(snapshotId,"the snapshot was created with Elasticsearch version [" + snapshot.version() + "] which is higher than the version of this node ["+ Version.CURRENT+ "]");
  }
}
