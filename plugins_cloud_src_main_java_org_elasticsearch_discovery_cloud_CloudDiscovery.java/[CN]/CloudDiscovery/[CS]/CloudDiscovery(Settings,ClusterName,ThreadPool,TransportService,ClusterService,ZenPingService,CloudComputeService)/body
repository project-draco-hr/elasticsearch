{
  super(settings,clusterName,threadPool,transportService,clusterService,pingService);
  if (settings.getAsBoolean("cloud.enabled",true)) {
    ImmutableList<? extends ZenPing> zenPings=pingService.zenPings();
    UnicastZenPing unicastZenPing=null;
    for (    ZenPing zenPing : zenPings) {
      if (zenPing instanceof UnicastZenPing) {
        unicastZenPing=(UnicastZenPing)zenPing;
        break;
      }
    }
    unicastZenPing.addHostsProvider(new CloudUnicastHostsProvider(settings,computeService));
    pingService.zenPings(ImmutableList.of(unicastZenPing));
  }
}
