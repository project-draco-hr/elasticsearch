{
  int length=bytes.length() < GUESS_HEADER_LENGTH ? bytes.length() : GUESS_HEADER_LENGTH;
  if (length > 2 && bytes.get(0) == SmileConstants.HEADER_BYTE_1 && bytes.get(1) == SmileConstants.HEADER_BYTE_2 && bytes.get(2) == SmileConstants.HEADER_BYTE_3) {
    return XContentType.SMILE;
  }
  for (int i=0; i < length; i++) {
    if (bytes.get(i) == '{') {
      return XContentType.JSON;
    }
  }
  return null;
}
