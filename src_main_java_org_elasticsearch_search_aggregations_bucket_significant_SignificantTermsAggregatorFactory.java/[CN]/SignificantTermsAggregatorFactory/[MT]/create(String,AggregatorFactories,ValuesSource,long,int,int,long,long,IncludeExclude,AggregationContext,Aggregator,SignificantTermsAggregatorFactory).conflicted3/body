{
  if (includeExclude != null) {
    throw new ElasticsearchIllegalArgumentException("The `" + this + "` execution mode cannot filter terms.");
  }
  ValuesSource.Bytes.WithOrdinals valueSourceWithOrdinals=(ValuesSource.Bytes.WithOrdinals)valuesSource;
  IndexSearcher indexSearcher=aggregationContext.searchContext().searcher();
  long maxOrd=valueSourceWithOrdinals.globalMaxOrd(indexSearcher);
  return new GlobalOrdinalsSignificantTermsAggregator(name,factories,(ValuesSource.Bytes.WithOrdinals.FieldData)valuesSource,estimatedBucketCount,maxOrd,requiredSize,shardSize,minDocCount,shardMinDocCount,aggregationContext,parent,termsAggregatorFactory);
}
