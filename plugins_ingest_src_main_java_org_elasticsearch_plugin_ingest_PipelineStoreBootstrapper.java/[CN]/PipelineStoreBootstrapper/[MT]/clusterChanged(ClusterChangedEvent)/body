{
  if (event.state().blocks().hasGlobalBlock(GatewayService.STATE_NOT_RECOVERED_BLOCK)) {
    return;
  }
  if (pipelineStore.isStarted()) {
    if (validClusterState(event.state()) == false) {
      stopPipelineStore("cluster state invalid [" + event.state() + "]");
    }
  }
 else {
    if (validClusterState(event.state())) {
      startPipelineStore();
    }
  }
}
