{
  this.snapshot=Objects.requireNonNull(snapshot);
  this.state=Objects.requireNonNull(state);
  this.indices=Objects.requireNonNull(indices);
  if (shards == null) {
    this.shards=ImmutableOpenMap.of();
  }
 else {
    this.shards=shards;
  }
}
