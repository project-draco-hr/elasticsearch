{
  String mapping=XContentFactory.jsonBuilder().startObject().startObject("type").startObject("_timestamp").field("enabled","yes").field("store","no").field("index","no").field("path","timestamp").field("format","year").field("doc_values",true).endObject().endObject().endObject().string();
  DocumentMapper docMapper=createIndex("test").mapperService().documentMapperParser().parse(mapping);
  assertThat(docMapper.timestampFieldMapper().enabled(),equalTo(true));
  assertThat(docMapper.timestampFieldMapper().fieldType().stored(),equalTo(false));
  assertEquals(IndexOptions.NONE,docMapper.timestampFieldMapper().fieldType().indexOptions());
  assertThat(docMapper.timestampFieldMapper().path(),equalTo("timestamp"));
  assertThat(docMapper.timestampFieldMapper().fieldType().dateTimeFormatter().format(),equalTo("year"));
  assertThat(docMapper.timestampFieldMapper().fieldType().hasDocValues(),equalTo(true));
}
