{
  String[] index_options={"no","analyzed","not_analyzed"};
  String mapping=XContentFactory.jsonBuilder().startObject().startObject("type").startObject("_timestamp").field("enabled",true).field("index",index_options[randomInt(2)]).field("store",true).field("path","foo").field("default","1970-01-01").startObject("fielddata").field("format","doc_values").endObject().endObject().startObject("properties").endObject().endObject().endObject().string();
  DocumentMapperParser parser=createIndex("test",BWC_SETTINGS).mapperService().documentMapperParser();
  DocumentMapper docMapper=parser.parse(mapping);
  boolean tokenized=docMapper.timestampFieldMapper().fieldType().tokenized();
  docMapper=parser.parse(docMapper.mappingSource().string());
  assertThat(tokenized,equalTo(docMapper.timestampFieldMapper().fieldType().tokenized()));
}
