{
  String[] possiblePathValues={"some_path","anotherPath",null};
  MapperService mapperService=createIndex("test",BWC_SETTINGS).mapperService();
  XContentBuilder mapping1=XContentFactory.jsonBuilder().startObject().startObject("type").startObject("_timestamp");
  String path1=possiblePathValues[randomInt(2)];
  if (path1 != null) {
    mapping1.field("path",path1);
  }
  mapping1.endObject().endObject().endObject();
  XContentBuilder mapping2=XContentFactory.jsonBuilder().startObject().startObject("type").startObject("_timestamp");
  String path2=possiblePathValues[randomInt(2)];
  if (path2 != null) {
    mapping2.field("path",path2);
  }
  mapping2.endObject().endObject().endObject();
  assertConflict(mapperService,"type",mapping1.string(),mapping2.string(),(path1 == path2 ? null : "Cannot update path in _timestamp value"));
}
