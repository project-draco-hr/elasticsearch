{
  super(name,estimatedBucketsCount,aggregationContext,parent,metaData);
  this.valuesSource=valuesSource;
  this.wrapLongitude=wrapLongitude;
  if (valuesSource != null) {
    final long initialSize=estimatedBucketsCount < 2 ? 1 : estimatedBucketsCount;
    tops=bigArrays.newDoubleArray(initialSize,false);
    tops.fill(0,tops.size(),Double.NEGATIVE_INFINITY);
    bottoms=bigArrays.newDoubleArray(initialSize,false);
    bottoms.fill(0,bottoms.size(),Double.POSITIVE_INFINITY);
    posLefts=bigArrays.newDoubleArray(initialSize,false);
    posLefts.fill(0,posLefts.size(),Double.POSITIVE_INFINITY);
    posRights=bigArrays.newDoubleArray(initialSize,false);
    posRights.fill(0,posRights.size(),Double.NEGATIVE_INFINITY);
    negLefts=bigArrays.newDoubleArray(initialSize,false);
    negLefts.fill(0,negLefts.size(),Double.POSITIVE_INFINITY);
    negRights=bigArrays.newDoubleArray(initialSize,false);
    negRights.fill(0,negRights.size(),Double.NEGATIVE_INFINITY);
  }
}
