{
  Settings settings=ImmutableSettings.settingsBuilder().put("path.conf",getResource("/indices/analyze/conf_dir")).put("indices.analysis.hunspell.dictionary.lazy",true).put("indices.analysis.hunspell.dictionary.ignore_case",true).put("indices.analysis.hunspell.dictionary.en_US.strict_affix_parsing",false).put("indices.analysis.hunspell.dictionary.en_US.ignore_case",false).build();
  cluster().startNode(settings);
  Dictionary dictionary=cluster().getInstance(HunspellService.class).getDictionary("en_US");
  assertThat(dictionary,notNullValue());
  assertIgnoreCase(false,dictionary);
  dictionary=cluster().getInstance(HunspellService.class).getDictionary("en_US_custom");
  assertThat(dictionary,notNullValue());
  assertIgnoreCase(true,dictionary);
}
