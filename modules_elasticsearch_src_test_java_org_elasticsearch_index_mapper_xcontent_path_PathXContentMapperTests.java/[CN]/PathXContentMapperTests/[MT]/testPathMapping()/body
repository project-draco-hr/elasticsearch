{
  String mapping=copyToStringFromClasspath("/org/elasticsearch/index/mapper/xcontent/path/test-mapping.json");
  XContentDocumentMapper docMapper=(XContentDocumentMapper)new XContentDocumentMapperParser(new AnalysisService(new Index("test"))).parse(mapping);
  assertThat(docMapper.mappers().indexName("first1"),notNullValue());
  assertThat(docMapper.mappers().indexName("name1.first1"),nullValue());
  assertThat(docMapper.mappers().indexName("last1"),notNullValue());
  assertThat(docMapper.mappers().indexName("name1.last1"),nullValue());
  assertThat(docMapper.mappers().indexName("first2"),nullValue());
  assertThat(docMapper.mappers().indexName("name2.first2"),notNullValue());
  assertThat(docMapper.mappers().indexName("last2"),nullValue());
  assertThat(docMapper.mappers().indexName("name2.last2"),notNullValue());
}
