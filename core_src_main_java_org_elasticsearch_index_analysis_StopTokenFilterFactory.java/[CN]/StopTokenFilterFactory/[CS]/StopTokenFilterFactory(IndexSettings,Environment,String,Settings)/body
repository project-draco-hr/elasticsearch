{
  super(indexSettings,name,settings);
  this.ignoreCase=settings.getAsBoolean("ignore_case",false);
  this.removeTrailing=settings.getAsBoolean("remove_trailing",true);
  this.stopWords=Analysis.parseStopWords(env,settings,StopAnalyzer.ENGLISH_STOP_WORDS_SET,ignoreCase);
  if (version.onOrAfter(Version.LUCENE_4_4) && settings.get("enable_position_increments") != null) {
    throw new IllegalArgumentException("enable_position_increments is not supported anymore as of Lucene 4.4 as it can create broken token streams." + " Please fix your analysis chain or use an older compatibility version (<= 4.3).");
  }
  this.enablePositionIncrements=settings.getAsBoolean("enable_position_increments",true);
}
