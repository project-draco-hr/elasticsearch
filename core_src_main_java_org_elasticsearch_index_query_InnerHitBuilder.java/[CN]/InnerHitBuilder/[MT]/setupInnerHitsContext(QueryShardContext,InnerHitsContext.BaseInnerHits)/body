{
  innerHitsContext.from(from);
  innerHitsContext.size(size);
  innerHitsContext.explain(explain);
  innerHitsContext.version(version);
  innerHitsContext.trackScores(trackScores);
  if (storedFieldNames != null) {
    if (storedFieldNames.isEmpty()) {
      innerHitsContext.emptyFieldNames();
    }
 else {
      for (      String fieldName : storedFieldNames) {
        innerHitsContext.fieldNames().add(fieldName);
      }
    }
  }
  if (docValueFields != null) {
    DocValueFieldsContext docValueFieldsContext=innerHitsContext.getFetchSubPhaseContext(DocValueFieldsFetchSubPhase.CONTEXT_FACTORY);
    for (    String field : docValueFields) {
      docValueFieldsContext.add(new DocValueFieldsContext.DocValueField(field));
    }
    docValueFieldsContext.setHitExecutionNeeded(true);
  }
  if (scriptFields != null) {
    for (    ScriptField field : scriptFields) {
      SearchScript searchScript=innerHitsContext.scriptService().search(innerHitsContext.lookup(),field.script(),ScriptContext.Standard.SEARCH,Collections.emptyMap());
      innerHitsContext.scriptFields().add(new org.elasticsearch.search.fetch.script.ScriptFieldsContext.ScriptField(field.fieldName(),searchScript,field.ignoreFailure()));
    }
  }
  if (fetchSourceContext != null) {
    innerHitsContext.fetchSourceContext(fetchSourceContext);
  }
  if (sorts != null) {
    Optional<SortAndFormats> optionalSort=SortBuilder.buildSort(sorts,context);
    if (optionalSort.isPresent()) {
      innerHitsContext.sort(optionalSort.get());
    }
  }
  if (highlightBuilder != null) {
    innerHitsContext.highlight(highlightBuilder.build(context));
  }
  ParsedQuery parsedQuery=new ParsedQuery(query.toQuery(context),context.copyNamedQueries());
  innerHitsContext.parsedQuery(parsedQuery);
}
