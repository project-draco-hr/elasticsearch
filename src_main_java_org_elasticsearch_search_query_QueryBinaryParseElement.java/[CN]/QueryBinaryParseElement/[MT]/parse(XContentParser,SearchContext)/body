{
  byte[] querySource=parser.binaryValue();
  XContentParser qSourceParser=XContentFactory.xContent(querySource).createParser(querySource);
  try {
    context.parsedQuery(context.queryParserService().parse(qSourceParser));
  }
  finally {
    qSourceParser.close();
  }
}
