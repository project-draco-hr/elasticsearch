{
  new SettingsModule(Settings.EMPTY).registerSetting(Setting.simpleString("foo.bar",Property.NodeScope));
  new SettingsModule(Settings.EMPTY).registerSetting(Setting.simpleString("foo.bar",Property.IndexScope));
  try {
    new SettingsModule(Settings.EMPTY).registerSetting(Setting.simpleString("foo.bar"));
    fail("No scope should fail");
  }
 catch (  IllegalArgumentException e) {
    assertThat(e.getMessage(),containsString("No scope found for setting"));
  }
  try {
    new SettingsModule(Settings.EMPTY).registerSetting(Setting.simpleString("foo.bar",Property.IndexScope,Property.NodeScope));
    fail("Multiple scopes should fail");
  }
 catch (  IllegalArgumentException e) {
    assertThat(e.getMessage(),containsString("More than one scope has been added to the setting"));
  }
}
