{
  new SettingsModule(Settings.EMPTY).registerSetting(Setting.simpleString("foo.bar",Property.NodeScope));
  new SettingsModule(Settings.EMPTY).registerSetting(Setting.simpleString("foo.bar",Property.IndexScope));
  try {
    new SettingsModule(Settings.EMPTY).registerSetting(Setting.simpleString("foo.bar"));
    fail("No scope should fail");
  }
 catch (  IllegalArgumentException e) {
    assertThat(e.getMessage(),containsString("No scope found for setting"));
  }
  SettingsModule module=new SettingsModule(Settings.EMPTY);
  module.registerSetting(Setting.simpleString("foo.bar",Property.IndexScope,Property.NodeScope));
  try {
    module.registerSetting(Setting.simpleString("foo.bar",Property.NodeScope));
    fail("already registered");
  }
 catch (  IllegalArgumentException e) {
    assertThat(e.getMessage(),containsString("Cannot register setting [foo.bar] twice"));
  }
  try {
    module.registerSetting(Setting.simpleString("foo.bar",Property.IndexScope));
    fail("already registered");
  }
 catch (  IllegalArgumentException e) {
    assertThat(e.getMessage(),containsString("Cannot register setting [foo.bar] twice"));
  }
}
