{
  List<IndexTemplateMetaData> results=Lists.newArrayList();
  if (Regex.isSimpleMatchPattern(request.name())) {
    for (    Map.Entry<String,IndexTemplateMetaData> entry : state.metaData().templates().entrySet()) {
      if (Regex.simpleMatch(request.name(),entry.getKey())) {
        results.add(entry.getValue());
      }
    }
  }
 else   if (state.metaData().templates().containsKey(request.name())) {
    results.add(state.metaData().templates().get(request.name()));
  }
  listener.onResponse(new GetIndexTemplatesResponse(results));
}
