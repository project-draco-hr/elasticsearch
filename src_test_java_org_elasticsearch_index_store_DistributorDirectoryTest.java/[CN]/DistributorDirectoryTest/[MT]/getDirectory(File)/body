{
  Directory[] directories=new Directory[1 + random().nextInt(5)];
  for (int i=0; i < directories.length; i++) {
    directories[i]=newDirectory();
    if (directories[i] instanceof MockDirectoryWrapper) {
      ((MockDirectoryWrapper)directories[i]).setEnableVirusScanner(false);
    }
  }
  return new DistributorDirectory(directories);
}
