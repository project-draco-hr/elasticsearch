{
  createIndex("index");
  client().admin().indices().preparePutTemplate("template_1").setTemplate("te*").addAlias(new Alias("index")).get();
  try {
    createIndex("test");
    fail("index creation should have failed due to alias with existing index name in mathching index template");
  }
 catch (  InvalidAliasNameException e) {
    assertThat(e.getMessage(),equalTo("Invalid alias name [index], an index exists with the same name as the alias"));
  }
}
