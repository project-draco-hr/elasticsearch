{
  PutIndexTemplateRequestBuilder putIndexTemplateRequestBuilder=client().admin().indices().preparePutTemplate("template_1").setTemplate("te*").addAlias(new Alias("invalid_alias").filter("abcde"));
  try {
    putIndexTemplateRequestBuilder.get();
  }
 catch (  IllegalArgumentException e) {
    assertThat(e.getMessage(),equalTo("failed to parse filter for alias [invalid_alias]"));
  }
  GetIndexTemplatesResponse response=client().admin().indices().prepareGetTemplates("template_1").get();
  assertThat(response.getIndexTemplates().size(),equalTo(0));
}
