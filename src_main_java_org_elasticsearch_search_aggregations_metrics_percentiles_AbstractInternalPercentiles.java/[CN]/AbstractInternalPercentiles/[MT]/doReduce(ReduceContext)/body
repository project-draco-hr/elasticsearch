{
  List<InternalAggregation> aggregations=reduceContext.aggregations();
  TDigestState merged=null;
  for (  InternalAggregation aggregation : aggregations) {
    final AbstractInternalPercentiles percentiles=(AbstractInternalPercentiles)aggregation;
    if (merged == null) {
      merged=new TDigestState(percentiles.state.compression());
    }
    merged.add(percentiles.state);
  }
  return createReduced(getName(),keys,merged,keyed,getMetaData());
}
