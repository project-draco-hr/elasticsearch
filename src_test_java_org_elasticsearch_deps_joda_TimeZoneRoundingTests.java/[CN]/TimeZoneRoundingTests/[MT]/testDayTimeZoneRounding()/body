{
  TimeZoneRounding tzRounding=TimeZoneRounding.builder(chronology().dayOfMonth()).preZone(DateTimeZone.forOffsetHours(-2)).build();
  assertThat(tzRounding.calc(0),equalTo(0l - TimeValue.timeValueHours(24).millis()));
  tzRounding=TimeZoneRounding.builder(chronology().dayOfMonth()).preZone(DateTimeZone.forOffsetHours(-2)).postZone(DateTimeZone.forOffsetHours(-2)).build();
  assertThat(tzRounding.calc(0),equalTo(0l - TimeValue.timeValueHours(26).millis()));
  tzRounding=TimeZoneRounding.builder(chronology().dayOfMonth()).preZone(DateTimeZone.forOffsetHours(-2)).build();
  assertThat(tzRounding.calc(utc("2009-02-03T01:01:01")),equalTo(utc("2009-02-02T00:00:00")));
  tzRounding=TimeZoneRounding.builder(chronology().dayOfMonth()).preZone(DateTimeZone.forOffsetHours(-2)).postZone(DateTimeZone.forOffsetHours(-2)).build();
  assertThat(tzRounding.calc(utc("2009-02-03T01:01:01")),equalTo(time("2009-02-02T00:00:00",DateTimeZone.forOffsetHours(+2))));
}
