{
  Version version=VersionUtils.randomVersionBetween(getRandom(),VersionUtils.getFirstVersion(),VersionUtils.getPreviousVersion(Version.V_3_0_0));
  Settings settings=Settings.builder().put(IndexMetaData.SETTING_VERSION_CREATED,version).build();
  AnalysisService analysisService=new AnalysisService(IndexSettingsModule.newIndexSettings(new Index("index"),settings),Collections.singletonMap("default_index",analyzerProvider("default_index")),Collections.emptyMap(),Collections.emptyMap(),Collections.emptyMap());
  assertThat(analysisService.defaultIndexAnalyzer().analyzer(),instanceOf(EnglishAnalyzer.class));
  assertThat(analysisService.defaultSearchAnalyzer().analyzer(),instanceOf(StandardAnalyzer.class));
  assertThat(analysisService.defaultSearchQuoteAnalyzer().analyzer(),instanceOf(StandardAnalyzer.class));
}
