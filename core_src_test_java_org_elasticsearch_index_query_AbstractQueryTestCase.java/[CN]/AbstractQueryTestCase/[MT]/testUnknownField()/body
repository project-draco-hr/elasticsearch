{
  String marker="#marker#";
  QB testQuery;
  do {
    testQuery=createTestQueryBuilder();
  }
 while (testQuery.toString().contains(marker));
  testQuery.queryName(marker);
  String queryAsString=testQuery.toString().replace("\"" + marker + "\"","\"" + marker + "\", \"bogusField\" : \"someValue\"");
  try {
    parseQuery(queryAsString);
    fail("ParsingException expected.");
  }
 catch (  ParsingException e) {
    assertThat(e.getMessage(),containsString("bogusField"));
  }
}
