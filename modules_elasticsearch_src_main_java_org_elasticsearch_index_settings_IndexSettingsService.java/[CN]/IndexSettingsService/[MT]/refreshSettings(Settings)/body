{
  if (this.settings.getByPrefix("index.").getAsMap().equals(settings.getByPrefix("index.").getAsMap())) {
    return;
  }
  this.settings=ImmutableSettings.settingsBuilder().put(this.settings).put(settings).build();
  for (  Listener listener : listeners) {
    try {
      listener.onRefreshSettings(settings);
    }
 catch (    Exception e) {
      logger.warn("failed to refresh settings for [{}]",e,listener);
    }
  }
}
