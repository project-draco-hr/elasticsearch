{
  version=in.readLong();
  if (in.readBoolean()) {
    currentNodeId=in.readString();
  }
  if (in.readBoolean()) {
    relocatingNodeId=in.readString();
  }
  primary=in.readBoolean();
  state=ShardRoutingState.fromValue(in.readByte());
  restoreSource=RestoreSource.readOptionalRestoreSource(in);
}
