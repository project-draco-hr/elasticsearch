{
  if (context.indexCreatedVersion().onOrAfter(Version.V_5_0_0)) {
    throw new IllegalStateException("Cannot use legacy numeric types after 5.0");
  }
  setupFieldType(context);
  fieldType.setNullValue(nullValue);
  LegacyDateFieldMapper fieldMapper=new LegacyDateFieldMapper(name,fieldType,defaultFieldType,ignoreMalformed(context),coerce(context),context.indexSettings(),multiFieldsBuilder.build(this,context),copyTo);
  return (LegacyDateFieldMapper)fieldMapper.includeInAll(includeInAll);
}
