{
  run(addMapping(prepareCreate("test"),"type1",new Object[]{"field","type","string","term_vector","with_positions_offsets_payloads"}));
  ensureYellow();
  client().prepareIndex("test","type1","666").setSource("field","foo bar").execute().actionGet();
  refresh();
  for (int i=0; i < 20; i++) {
    ActionFuture<TermVectorResponse> termVector=client().termVector(new TermVectorRequest("test","type1","" + i));
    TermVectorResponse actionGet=termVector.actionGet();
    assertThat(actionGet,Matchers.notNullValue());
    assertThat(actionGet.documentExists(),Matchers.equalTo(false));
  }
}
