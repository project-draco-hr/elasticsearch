{
  final Tuple<IndexService,Injector> indexServiceInjectorTuple=this.indices.get(index);
  if (IndexMetaData.isOnSharedFilesystem(indexSettings) == false) {
    if (indexServiceInjectorTuple == null && nodeEnv.hasNodeFile()) {
      return true;
    }
  }
 else {
    logger.trace("{} skipping index directory deletion due to shadow replicas",index);
  }
  return false;
}
