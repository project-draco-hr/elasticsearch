{
  BytesStreamOutput out=new BytesStreamOutput();
  QueryParsingException ex=new QueryParsingException(new Index("foo"),1,2,"foobar",null);
  out.writeThrowable(ex);
  StreamInput in=StreamInput.wrap(out.bytes());
  QueryParsingException e=in.readThrowable();
  assertEquals(ex.getIndex(),e.getIndex());
  assertEquals(ex.getMessage(),e.getMessage());
  assertEquals(ex.getLineNumber(),e.getLineNumber());
  assertEquals(ex.getColumnNumber(),e.getColumnNumber());
}
