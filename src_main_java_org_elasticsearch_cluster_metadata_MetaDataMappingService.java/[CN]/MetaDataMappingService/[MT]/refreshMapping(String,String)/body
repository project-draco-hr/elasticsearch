{
  refreshOrUpdateQueue.add(new RefreshTask(index,types));
  clusterService.submitStateUpdateTask("refresh-mapping [" + index + "]["+ Arrays.toString(types)+ "]",Priority.HIGH,new ClusterStateUpdateTask(){
    @Override public void onFailure(    String source,    Throwable t){
      logger.warn("failure during [{}]",t,source);
    }
    @Override public ClusterState execute(    ClusterState currentState) throws Exception {
      return executeRefreshOrUpdate(currentState);
    }
  }
);
}
