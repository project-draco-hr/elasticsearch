{
  SearchResponse searchResponse=client().prepareSearch("test").setQuery(filteredQuery(matchAllQuery(),geoPolygonQuery("location").addPoint(40.7,-74.0).addPoint(40.7,-74.1).addPoint(40.8,-74.1).addPoint(40.8,-74.0).addPoint(40.7,-74.0))).execute().actionGet();
  assertHitCount(searchResponse,4);
  assertThat(searchResponse.getHits().hits().length,equalTo(4));
  for (  SearchHit hit : searchResponse.getHits()) {
    assertThat(hit.id(),anyOf(equalTo("1"),equalTo("3"),equalTo("4"),equalTo("5")));
  }
}
