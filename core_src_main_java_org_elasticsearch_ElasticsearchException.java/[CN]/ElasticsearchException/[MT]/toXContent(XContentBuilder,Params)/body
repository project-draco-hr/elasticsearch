{
  Throwable ex=ExceptionsHelper.unwrapCause(this);
  if (ex != this) {
    toXContent(builder,params,this);
  }
 else {
    builder.field("type",getExceptionName());
    builder.field("reason",getMessage());
    innerToXContent(builder,params);
  }
  return builder;
}
