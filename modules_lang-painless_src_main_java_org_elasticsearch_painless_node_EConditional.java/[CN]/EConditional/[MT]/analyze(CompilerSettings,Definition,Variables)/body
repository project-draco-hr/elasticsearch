{
  condition.expected=definition.booleanType;
  condition.analyze(settings,definition,variables);
  condition=condition.cast(settings,definition,variables);
  if (condition.constant != null) {
    throw new IllegalArgumentException(error("Extraneous conditional statement."));
  }
  left.expected=expected;
  left.explicit=explicit;
  right.expected=expected;
  right.explicit=explicit;
  actual=expected;
  left.analyze(settings,definition,variables);
  right.analyze(settings,definition,variables);
  if (expected == null) {
    final Type promote=AnalyzerCaster.promoteConditional(definition,left.actual,right.actual,left.constant,right.constant);
    left.expected=promote;
    right.expected=promote;
    actual=promote;
  }
  left=left.cast(settings,definition,variables);
  right=right.cast(settings,definition,variables);
}
