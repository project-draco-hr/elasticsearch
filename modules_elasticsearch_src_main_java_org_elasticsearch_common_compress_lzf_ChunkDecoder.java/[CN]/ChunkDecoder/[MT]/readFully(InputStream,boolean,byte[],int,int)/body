{
  int left=len;
  while (left > 0) {
    int count=is.read(outputBuffer,offset,left);
    if (count < 0) {
      throw new IOException("EOF in " + len + " byte ("+ (compressed ? "" : "un")+ "compressed) block: could only read "+ (len - left)+ " bytes");
    }
    offset+=count;
    left-=count;
  }
}
