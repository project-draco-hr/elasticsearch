{
  DateMathParser parser=new DateMathParser(Joda.forPattern("dateOptionalTime"),TimeUnit.MILLISECONDS);
  assertThat(parser.parse("1970-01-01",0),equalTo(0l));
  assertThat(parser.parse("1970-01-01||+1m",0),equalTo(TimeUnit.MINUTES.toMillis(1)));
  assertThat(parser.parse("1970-01-01||+1m+1s",0),equalTo(TimeUnit.MINUTES.toMillis(1) + TimeUnit.SECONDS.toMillis(1)));
}
