{
  String optimizeShardAction=OptimizeAction.NAME + "[s]";
  interceptTransportActions(optimizeShardAction);
  OptimizeRequest optimizeRequest=new OptimizeRequest(randomIndicesOrAliases());
  internalCluster().clientNodeClient().admin().indices().optimize(optimizeRequest).actionGet();
  clearInterceptedActions();
  assertSameIndices(optimizeRequest,optimizeShardAction);
}
