{
  super(facetName,fieldName,lat,lon,unit,geoDistance,entries,context);
  this.valueFieldName=valueFieldName;
  FieldMapper mapper=context.mapperService().smartNameFieldMapper(valueFieldName);
  if (mapper == null) {
    throw new FacetPhaseExecutionException(facetName,"No mapping found for field [" + valueFieldName + "]");
  }
  this.indexValueFieldName=valueFieldName;
  this.valueFieldDataType=mapper.fieldDataType();
}
