{
  if (array.compareAndSet(i,null,value) == false) {
    throw new IllegalStateException("index [" + i + "] has already been set");
  }
  if (nonNullList != null) {
    nonNullList=null;
  }
}
