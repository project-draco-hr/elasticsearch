{
  if (mapper instanceof DateFieldMapper) {
    return format != null ? ValueFormat.DateTime.format(format) : ValueFormat.DateTime.mapper((DateFieldMapper)mapper);
  }
  if (mapper instanceof IpFieldMapper) {
    return ValueFormat.IPv4;
  }
  if (mapper instanceof BooleanFieldMapper) {
    return ValueFormat.BOOLEAN;
  }
  if (mapper instanceof NumberFieldMapper) {
    return format != null ? ValueFormat.Number.format(format) : ValueFormat.RAW;
  }
  return null;
}
