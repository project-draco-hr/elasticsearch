{
  boolean result=sync.setException(checkNotNull(throwable));
  if (result) {
    done();
  }
  if (throwable instanceof Error) {
    throw (Error)throwable;
  }
  return result;
}
