{
  BytesRef value=null;
  if (getCurrentTypes().length > 0) {
    if (queryBuilder.fieldName().equals(BOOLEAN_FIELD_NAME) || queryBuilder.fieldName().equals(INT_FIELD_NAME) || queryBuilder.fieldName().equals(DOUBLE_FIELD_NAME)) {
      MappedFieldType mapper=context.fieldMapper(queryBuilder.fieldName());
      value=mapper.indexedValueForSearch(queryBuilder.value);
    }
  }
  if (value == null) {
    value=BytesRefs.toBytesRef(queryBuilder.value);
  }
  return createLuceneTermQuery(new Term(queryBuilder.fieldName(),value));
}
