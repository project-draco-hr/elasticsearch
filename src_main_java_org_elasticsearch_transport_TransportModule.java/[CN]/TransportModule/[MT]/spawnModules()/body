{
  Class<? extends Module> defaultTransportModule;
  if (DiscoveryNode.localNode(settings)) {
    defaultTransportModule=LocalTransportModule.class;
  }
 else {
    defaultTransportModule=NettyTransportModule.class;
  }
  return ImmutableList.of(Modules.createModule(settings.getAsClass("transport.type",defaultTransportModule,"org.elasticsearch.transport.","TransportModule"),settings));
}
