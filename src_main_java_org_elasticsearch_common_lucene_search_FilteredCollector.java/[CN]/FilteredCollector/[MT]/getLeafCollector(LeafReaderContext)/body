{
  final DocIdSet set=filter.getDocIdSet(context,null);
  final LeafCollector in=collector.getLeafCollector(context);
  final Bits bits=DocIdSets.asSequentialAccessBits(context.reader().maxDoc(),set);
  return new FilterLeafCollector(in){
    public void collect(    int doc) throws IOException {
      if (bits.get(doc)) {
        in.collect(doc);
      }
    }
  }
;
}
