{
  Map<String,Property> properties=propertiesCache.get(type);
  if (properties == null) {
    properties=new HashMap<String,Property>();
    propertiesCache.put(type,properties);
    for (    PropertyDescriptor property : Introspector.getBeanInfo(type).getPropertyDescriptors()) {
      String methodName=property.getName();
      if (property.getWriteMethod() != null) {
        properties.put(methodName,new MethodProperty(property));
      }
    }
    for (    Field field : type.getFields()) {
      int modifiers=field.getModifiers();
      if (Modifier.isStatic(modifiers) || Modifier.isTransient(modifiers)) {
        continue;
      }
      properties.put(field.getName(),new FieldProperty(field));
    }
  }
  Property property=properties.get(name);
  if (property == null) {
    throw new YAMLException("Unable to find property '" + name + "' on class: "+ type.getName());
  }
 else {
    return property;
  }
}
