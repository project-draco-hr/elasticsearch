{
  if (aliasesChanged(event)) {
    for (    IndexMetaData indexMetaData : event.state().metaData()) {
      String index=indexMetaData.index();
      IndexService indexService=indicesService.indexService(index);
      if (indexService == null) {
        continue;
      }
      IndexAliasesService indexAliasesService=indexService.aliasesService();
      processAliases(index,indexMetaData.aliases().values(),indexAliasesService);
      for (      IndexAlias indexAlias : indexAliasesService) {
        if (!indexMetaData.aliases().containsKey(indexAlias.alias())) {
          indexAliasesService.remove(indexAlias.alias());
        }
      }
    }
  }
}
