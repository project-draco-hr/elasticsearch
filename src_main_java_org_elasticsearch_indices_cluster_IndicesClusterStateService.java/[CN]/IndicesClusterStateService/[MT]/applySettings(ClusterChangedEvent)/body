{
  if (!event.metaDataChanged()) {
    return;
  }
  for (  IndexMetaData indexMetaData : event.state().metaData()) {
    if (!indicesService.hasIndex(indexMetaData.index())) {
      continue;
    }
    if (!event.indexMetaDataChanged(indexMetaData)) {
      continue;
    }
    String index=indexMetaData.index();
    IndexService indexService=indicesService.indexService(index);
    if (indexService == null) {
      continue;
    }
    IndexSettingsService indexSettingsService=indexService.injector().getInstance(IndexSettingsService.class);
    indexSettingsService.refreshSettings(indexMetaData.settings());
  }
}
