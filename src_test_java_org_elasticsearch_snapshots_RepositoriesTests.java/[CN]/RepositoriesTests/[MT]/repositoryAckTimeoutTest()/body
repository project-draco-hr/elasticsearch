{
  logger.info("-->  creating repository test-repo-1 with 0s timeout - shouldn't ack");
  PutRepositoryResponse putRepositoryResponse=run(client().admin().cluster().preparePutRepository("test-repo-1").setType("fs").setSettings(ImmutableSettings.settingsBuilder().put("location",newTempDir(LifecycleScope.SUITE)).put("compress",randomBoolean()).put("chunk_size",randomIntBetween(5,100))).setTimeout("0s"));
  assertThat(putRepositoryResponse.isAcknowledged(),equalTo(false));
  logger.info("-->  creating repository test-repo-2 with standard timeout - should ack");
  putRepositoryResponse=run(client().admin().cluster().preparePutRepository("test-repo-2").setType("fs").setSettings(ImmutableSettings.settingsBuilder().put("location",newTempDir(LifecycleScope.SUITE)).put("compress",randomBoolean()).put("chunk_size",randomIntBetween(5,100))));
  assertThat(putRepositoryResponse.isAcknowledged(),equalTo(true));
  logger.info("-->  deleting repository test-repo-2 with 0s timeout - shouldn't ack");
  DeleteRepositoryResponse deleteRepositoryResponse=run(client().admin().cluster().prepareDeleteRepository("test-repo-2").setTimeout("0s"));
  assertThat(deleteRepositoryResponse.isAcknowledged(),equalTo(false));
  logger.info("-->  deleting repository test-repo-1 with standard timeout - should ack");
  deleteRepositoryResponse=run(client().admin().cluster().prepareDeleteRepository("test-repo-1"));
  assertThat(deleteRepositoryResponse.isAcknowledged(),equalTo(true));
}
