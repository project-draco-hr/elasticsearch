{
synchronized (concurrentRecoveryMutex) {
    if ((onGoingGatewayRecoveries + onGoingPeerRecoveries + 1) > concurrentRecoveries) {
      return false;
    }
    onGoingPeerRecoveries++;
    logger.trace("Recovery (peer) allowed for [{}], on_going (gateway [{}], peer [{}]), allowed [{}], reason [{}]",shardId,onGoingGatewayRecoveries,onGoingPeerRecoveries,concurrentRecoveries,reason);
    return true;
  }
}
