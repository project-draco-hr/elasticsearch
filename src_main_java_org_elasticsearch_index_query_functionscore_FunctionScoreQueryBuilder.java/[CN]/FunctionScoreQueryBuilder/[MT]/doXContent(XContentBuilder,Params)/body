{
  builder.startObject(FunctionScoreQueryParser.NAME);
  if (queryBuilder != null) {
    builder.field("query");
    queryBuilder.toXContent(builder,params);
  }
  if (filterBuilder != null) {
    builder.field("filter");
    filterBuilder.toXContent(builder,params);
  }
  builder.startArray("functions");
  for (int i=0; i < filters.size(); i++) {
    builder.startObject();
    if (filters.get(i) != null) {
      builder.field("filter");
      filters.get(i).toXContent(builder,params);
    }
    scoreFunctions.get(i).toXContent(builder,params);
    builder.endObject();
  }
  builder.endArray();
  if (scoreMode != null) {
    builder.field("score_mode",scoreMode);
  }
  if (boostMode != null) {
    builder.field("boost_mode",boostMode);
  }
  if (maxBoost != null) {
    builder.field("max_boost",maxBoost);
  }
  if (boost != null) {
    builder.field("boost",boost);
  }
  if (minScore != null) {
    builder.field("min_score",minScore);
  }
  builder.endObject();
}
