{
  if (postFilter == null) {
    candidates.add(candidate);
  }
 else {
    final BytesRef result=byteSpare;
    SuggestUtils.analyze(postFilter,candidate.term,field,new SuggestUtils.TokenConsumer(){
      @Override public void nextToken() throws IOException {
        this.fillBytesRef(result);
        if (posIncAttr.getPositionIncrement() > 0 && result.bytesEquals(candidate.term)) {
          BytesRef term=BytesRef.deepCopyOf(result);
          long freq=frequency(term);
          candidates.add(new Candidate(BytesRef.deepCopyOf(term),freq,candidate.stringDistance,score(candidate.frequency,candidate.stringDistance,dictSize)));
        }
 else {
          candidates.add(new Candidate(BytesRef.deepCopyOf(result),candidate.frequency,nonErrorLikelihood,score(candidate.frequency,candidate.stringDistance,dictSize)));
        }
      }
    }
,spare);
  }
}
