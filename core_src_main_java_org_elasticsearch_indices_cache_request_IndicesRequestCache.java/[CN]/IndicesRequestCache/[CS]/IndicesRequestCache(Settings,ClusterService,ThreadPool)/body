{
  super(settings);
  this.clusterService=clusterService;
  this.threadPool=threadPool;
  this.cleanInterval=settings.getAsTime(INDICES_CACHE_REQUEST_CLEAN_INTERVAL.getKey(),TimeValue.timeValueSeconds(60));
  this.size=INDICES_CACHE_QUERY_SIZE.get(settings);
  this.expire=INDICES_CACHE_QUERY_EXPIRE.exists(settings) ? INDICES_CACHE_QUERY_EXPIRE.get(settings) : null;
  buildCache();
  this.reaper=new Reaper();
  threadPool.schedule(cleanInterval,ThreadPool.Names.SAME,reaper);
}
