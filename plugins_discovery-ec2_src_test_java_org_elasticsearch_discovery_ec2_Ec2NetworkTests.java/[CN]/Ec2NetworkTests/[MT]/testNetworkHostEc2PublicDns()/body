{
  Settings nodeSettings=Settings.builder().put("network.host","_ec2:publicDns_").build();
  NetworkService networkService=new NetworkService(nodeSettings);
  networkService.addCustomNameResolver(new Ec2NameResolver(nodeSettings));
  try {
    networkService.resolveBindHostAddresses(null);
  }
 catch (  IOException e) {
    assertThat(e.getMessage(),containsString("public-hostname"));
  }
}
