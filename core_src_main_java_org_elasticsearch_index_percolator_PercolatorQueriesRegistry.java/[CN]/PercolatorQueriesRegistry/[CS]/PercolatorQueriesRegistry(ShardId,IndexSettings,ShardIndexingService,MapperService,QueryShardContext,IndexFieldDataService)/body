{
  super(shardId,indexSettings);
  this.mapperService=mapperService;
  this.indexingService=indexingService;
  this.queryShardContext=queryShardContext;
  this.indexFieldDataService=indexFieldDataService;
  this.mapUnmappedFieldsAsString=this.indexSettings.getAsBoolean(MAP_UNMAPPED_FIELDS_AS_STRING,false);
  mapperService.addTypeListener(percolateTypeListener);
}
