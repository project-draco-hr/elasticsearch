{
  super(shardId,indexSettings);
  this.queryParserService=queryParserService;
  this.mapperService=mapperService;
  this.indicesLifecycle=indicesLifecycle;
  this.indexingService=indexingService;
  this.indexFieldDataService=indexFieldDataService;
  this.shardPercolateService=shardPercolateService;
  this.mapUnmappedFieldsAsString=indexSettings.getAsBoolean(MAP_UNMAPPED_FIELDS_AS_STRING,false);
  indicesLifecycle.addListener(shardLifecycleListener);
  mapperService.addTypeListener(percolateTypeListener);
}
