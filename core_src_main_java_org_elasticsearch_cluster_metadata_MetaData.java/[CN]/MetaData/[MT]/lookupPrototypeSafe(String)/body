{
  T proto=(T)customPrototypes.get(type);
  if (proto == null) {
    throw new IllegalArgumentException("No custom metadata prototype registered for type [" + type + "]");
  }
  return proto;
}
