{
  String[] deleteByQueryShardActions=new String[]{DeleteByQueryAction.NAME + "[s]",DeleteByQueryAction.NAME + "[s][r]"};
  interceptTransportActions(deleteByQueryShardActions);
  DeleteByQueryRequest deleteByQueryRequest=new DeleteByQueryRequest(randomIndicesOrAliases()).source(new QuerySourceBuilder().setQuery(QueryBuilders.matchAllQuery()));
  internalCluster().clientNodeClient().deleteByQuery(deleteByQueryRequest).actionGet();
  clearInterceptedActions();
  assertSameIndices(deleteByQueryRequest,deleteByQueryShardActions);
}
