{
  assertAcked(prepareCreate("test").addMapping("type1",type1TermVectorMapping()));
  ensureGreen();
  String pattern="t   ";
  String value=new String(new char[1024 * 256 / pattern.length()]).replace("\0",pattern);
  client().prepareIndex("test","type1").setSource("field1",value).get();
  refresh();
  logger.info("--> highlighting and searching on field1");
  SearchSourceBuilder source=searchSource().query(termQuery("field1","t")).highlighter(highlight().highlighterType("fvh").field("field1",20,1).order("score").preTags("<xxx>").postTags("</xxx>"));
  SearchResponse searchResponse=client().search(searchRequest("test").source(source)).actionGet();
  assertHighlight(searchResponse,0,"field1",0,1,containsString("<xxx>t</xxx>"));
  logger.info("--> done");
}
