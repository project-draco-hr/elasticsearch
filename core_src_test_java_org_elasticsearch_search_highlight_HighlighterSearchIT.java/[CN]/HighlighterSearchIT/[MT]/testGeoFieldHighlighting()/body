{
  XContentBuilder mappings=jsonBuilder();
  mappings.startObject();
  mappings.startObject("type").startObject("properties").startObject("geo_point").field("type","geo_point").endObject().endObject().endObject();
  mappings.endObject();
  assertAcked(prepareCreate("test").addMapping("type",mappings));
  ensureYellow();
  client().prepareIndex("test","type","1").setSource(jsonBuilder().startObject().field("geo_point","60.12,100.34").endObject()).get();
  refresh();
  SearchResponse search=client().prepareSearch().setSource(new SearchSourceBuilder().query(QueryBuilders.geoBoundingBoxQuery("geo_point").setCorners(61.10078883158897,-170.15625,-64.92354174306496,118.47656249999999)).highlighter(new HighlightBuilder().field("*"))).get();
  assertNoFailures(search);
  assertThat(search.getHits().totalHits(),equalTo(1L));
}
