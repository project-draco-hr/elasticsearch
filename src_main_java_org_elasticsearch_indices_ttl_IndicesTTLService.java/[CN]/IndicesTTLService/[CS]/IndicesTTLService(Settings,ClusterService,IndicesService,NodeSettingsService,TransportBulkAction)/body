{
  super(settings);
  this.clusterService=clusterService;
  this.indicesService=indicesService;
  TimeValue interval=componentSettings.getAsTime("interval",TimeValue.timeValueSeconds(60));
  this.bulkAction=bulkAction;
  this.bulkSize=componentSettings.getAsInt("bulk_size",10000);
  this.purgerThread=new PurgerThread(EsExecutors.threadName(settings,"[ttl_expire]"),interval);
  nodeSettingsService.addListener(new ApplySettings());
}
