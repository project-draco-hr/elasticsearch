{
  super(settings);
  this.clusterService=clusterService;
  this.indicesService=indicesService;
  TimeValue interval=this.settings.getAsTime("indices.ttl.interval",TimeValue.timeValueSeconds(60));
  this.bulkAction=bulkAction;
  this.bulkSize=this.settings.getAsInt("indices.ttl.bulk_size",10000);
  this.purgerThread=new PurgerThread(EsExecutors.threadName(settings,"[ttl_expire]"),interval);
  nodeSettingsService.addListener(new ApplySettings());
}
