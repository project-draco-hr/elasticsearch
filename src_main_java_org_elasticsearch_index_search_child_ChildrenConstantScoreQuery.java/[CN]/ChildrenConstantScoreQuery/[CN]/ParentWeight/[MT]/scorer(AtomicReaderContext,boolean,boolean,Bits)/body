{
  if (remaining == 0) {
    return null;
  }
  if (shortCircuitFilter != null) {
    DocIdSet docIdSet=shortCircuitFilter.getDocIdSet(context,acceptDocs);
    if (!DocIdSets.isEmpty(docIdSet)) {
      DocIdSetIterator iterator=docIdSet.iterator();
      if (iterator != null) {
        return ConstantScorer.create(iterator,this,queryWeight);
      }
    }
    return null;
  }
  DocIdSet parentDocIdSet=this.parentFilter.getDocIdSet(context,acceptDocs);
  if (!DocIdSets.isEmpty(parentDocIdSet)) {
    IdReaderTypeCache idReaderTypeCache=searchContext.idCache().reader(context.reader()).type(parentType);
    parentDocIdSet=BitsFilteredDocIdSet.wrap(parentDocIdSet,context.reader().getLiveDocs());
    if (idReaderTypeCache != null) {
      DocIdSetIterator innerIterator=parentDocIdSet.iterator();
      if (innerIterator != null) {
        ParentDocIdIterator parentDocIdIterator=new ParentDocIdIterator(innerIterator,collectedUids.v(),idReaderTypeCache);
        return ConstantScorer.create(parentDocIdIterator,this,queryWeight);
      }
    }
  }
  return null;
}
