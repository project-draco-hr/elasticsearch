{
  if (ADDRESS_REGISTRY.containsKey(address.uniqueAddressTypeId())) {
    throw new IllegalStateException("Address [" + address.uniqueAddressTypeId() + "] already bound");
  }
  ADDRESS_REGISTRY=newMapBuilder(ADDRESS_REGISTRY).put(address.uniqueAddressTypeId(),address).immutableMap();
}
