{
  final StoreFileMetaData metadata;
  if (fileInfo != null && (metadata=snapshot.get(fileInfo.name())) != null) {
    if (metadata.hash().length > 0 && fileInfo.metadata().hash().length == 0) {
      byte[] bytes=blobContainer.readBlobFully(fileInfo.physicalName());
      final BytesRef spare=new BytesRef(bytes);
      Store.MetadataSnapshot.hashFile(fileInfo.metadata().hash(),spare);
    }
  }
}
