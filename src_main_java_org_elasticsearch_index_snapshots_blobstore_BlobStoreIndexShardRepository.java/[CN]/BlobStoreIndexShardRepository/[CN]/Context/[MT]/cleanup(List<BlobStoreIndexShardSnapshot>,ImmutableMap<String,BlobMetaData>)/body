{
  BlobStoreIndexShardSnapshots newSnapshots=new BlobStoreIndexShardSnapshots(snapshots);
  for (  String blobName : blobs.keySet()) {
    if (!blobName.startsWith("__")) {
      continue;
    }
    if (newSnapshots.findNameFile(FileInfo.canonicalName(blobName)) == null) {
      try {
        blobContainer.deleteBlob(blobName);
      }
 catch (      IOException e) {
        logger.debug("[{}] [{}] error deleting blob [{}] during cleanup",e,snapshotId,shardId,blobName);
      }
    }
  }
}
