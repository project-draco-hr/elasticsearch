{
  if (currentBufferIndex == buffers.size()) {
    currentBuffer=dir.acquireBuffer();
    buffers.add(currentBuffer);
  }
 else {
    currentBuffer=buffers.get(currentBufferIndex);
  }
  bufferPosition=0;
  bufferStart=(long)dir.bufferSizeInBytes() * (long)currentBufferIndex;
  bufferLength=currentBuffer.length;
}
