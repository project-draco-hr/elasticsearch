{
  if (dynamicDateTimeFormatters != Defaults.DYNAMIC_DATE_TIME_FORMATTERS) {
    if (dynamicDateTimeFormatters.length > 0) {
      builder.startArray("dynamic_date_formats");
      for (      FormatDateTimeFormatter dateTimeFormatter : dynamicDateTimeFormatters) {
        builder.value(dateTimeFormatter.format());
      }
      builder.endArray();
    }
  }
  if (dynamicTemplates != null && dynamicTemplates.length > 0) {
    builder.startArray("dynamic_templates");
    for (    DynamicTemplate dynamicTemplate : dynamicTemplates) {
      builder.startObject();
      builder.field(dynamicTemplate.name());
      builder.map(dynamicTemplate.conf());
      builder.endObject();
    }
    builder.endArray();
  }
  if (dateDetection != Defaults.DATE_DETECTION) {
    builder.field("date_detection",dateDetection);
  }
  if (numericDetection != Defaults.NUMERIC_DETECTION) {
    builder.field("numeric_detection",numericDetection);
  }
}
