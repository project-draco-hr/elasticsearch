{
  threadPool.executor(ThreadPool.Names.MANAGEMENT).execute(new Runnable(){
    @Override public void run(){
      try {
        indexShard.flush(new Engine.Flush());
      }
 catch (      EngineClosedException e) {
      }
catch (      FlushNotAllowedEngineException e) {
      }
catch (      Exception e) {
        logger.warn("failed to flush shard on translog threshold",e);
      }
      lastFlushTime=System.currentTimeMillis();
      if (indexShard.state() != IndexShardState.CLOSED) {
        future=threadPool.schedule(interval,ThreadPool.Names.SAME,TranslogBasedFlush.this);
      }
    }
  }
);
}
