{
  super(shardId,indexSettings);
  this.threadPool=threadPool;
  this.indexShard=indexShard;
  this.translog=translog;
  this.flushThreshold=componentSettings.getAsInt("flush_threshold",5000);
  this.interval=componentSettings.getAsTime("interval",timeValueMillis(1000));
  this.future=threadPool.scheduleWithFixedDelay(new TranslogBasedFlush(),interval);
}
