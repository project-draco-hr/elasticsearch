{
  List<XBooleanFilter> booleanFilters=new ArrayList<XBooleanFilter>();
  booleanFilters.add(createBooleanFilter(newFilterClause(1,'a',SHOULD,true),newFilterClause(1,'b',SHOULD,true)));
  booleanFilters.add(createBooleanFilter(newFilterClause(1,'a',SHOULD,false),newFilterClause(1,'b',SHOULD,false)));
  booleanFilters.add(createBooleanFilter(newFilterClause(1,'a',SHOULD,true),newFilterClause(1,'b',SHOULD,false)));
  for (  XBooleanFilter booleanFilter : booleanFilters) {
    FixedBitSet result=new FixedBitSet(reader.maxDoc());
    result.or(booleanFilter.getDocIdSet(reader.getContext(),reader.getLiveDocs()).iterator());
    assertThat(result.cardinality(),equalTo(3));
    assertThat(result.get(0),equalTo(true));
    assertThat(result.get(1),equalTo(true));
    assertThat(result.get(2),equalTo(true));
  }
}
