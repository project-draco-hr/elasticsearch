{
  Settings settings=settingsBuilder().put("test.class","bar").put("test.class.package","org.elasticsearch.test.unit.common.settings.bar").build();
  assertThat(settings.getAsClass("no.settings",FooTestClass.class,"org.elasticsearch.test.unit.common.settings.","TestClass").getName(),equalTo(FooTestClass.class.getName()));
  assertThat(settings.getAsClass("test.class",FooTestClass.class,"org.elasticsearch.test.unit.common.settings.","TestClass").getName(),equalTo(BarTestClass.class.getName()));
  try {
    settings.getAsClass("test.class",FooTestClass.class,"com.example.elasticsearch.test.unit..common.settings.","TestClass");
    fail("Class with wrong package name shouldn't be loaded");
  }
 catch (  NoClassSettingsException ex) {
  }
  assertThat(settings.getAsClass("test.class.package",FooTestClass.class,"com.example.elasticsearch.test.unit.common.settings.","TestClass").getName(),equalTo(BarTestClass.class.getName()));
}
