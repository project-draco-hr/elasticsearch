{
  Settings settings=settingsBuilder().put("test.class","bar").put("test.class.package","org.elasticsearch.test.unit.common.settings.bar").build();
  assertThat(settings.getAsClass("no.settings",FooTest.class,"org.elasticsearch.test.unit.common.settings.","Test").getName(),equalTo(FooTest.class.getName()));
  assertThat(settings.getAsClass("test.class",FooTest.class,"org.elasticsearch.test.unit.common.settings.","Test").getName(),equalTo(BarTest.class.getName()));
  try {
    settings.getAsClass("test.class",FooTest.class,"com.example.elasticsearch.test.unit..common.settings.","Test");
    assertThat("Class with wrong package name shouldn't be loaded",false);
  }
 catch (  NoClassSettingsException ex) {
  }
  assertThat(settings.getAsClass("test.class.package",FooTest.class,"com.example.elasticsearch.test.unit.common.settings.","Test").getName(),equalTo(BarTest.class.getName()));
}
