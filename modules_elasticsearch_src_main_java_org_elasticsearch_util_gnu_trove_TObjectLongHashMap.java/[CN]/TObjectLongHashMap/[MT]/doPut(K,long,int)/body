{
  long previous=(long)0;
  boolean isNewMapping=true;
  if (index < 0) {
    index=-index - 1;
    previous=_values[index];
    isNewMapping=false;
  }
  K oldKey=(K)_set[index];
  _set[index]=key;
  _values[index]=value;
  if (isNewMapping) {
    postInsertHook(oldKey == FREE);
  }
  return previous;
}
