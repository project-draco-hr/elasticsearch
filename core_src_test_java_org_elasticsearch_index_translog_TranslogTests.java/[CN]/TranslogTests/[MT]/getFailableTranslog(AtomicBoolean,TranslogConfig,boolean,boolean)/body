{
  return new Translog(config){
    @Override TranslogWriter.ChannelFactory getChannelFactory(){
      final TranslogWriter.ChannelFactory factory=super.getChannelFactory();
      return new TranslogWriter.ChannelFactory(){
        @Override public FileChannel open(        Path file) throws IOException {
          FileChannel channel=factory.open(file);
          return new ThrowingFileChannel(fail,paritalWrites,throwUnknownException,channel);
        }
      }
;
    }
  }
;
}
