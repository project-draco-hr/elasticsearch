{
  if (enabledState.enabled) {
    long timestamp=context.sourceToParse().timestamp();
    if (fieldType().indexOptions() == IndexOptions.NONE && !fieldType().stored() && !fieldType().hasDocValues()) {
      context.ignoredValue(fieldType().names().indexName(),String.valueOf(timestamp));
    }
    if (fieldType().indexOptions() != IndexOptions.NONE || fieldType().stored()) {
      fields.add(new LongFieldMapper.CustomLongNumericField(timestamp,fieldType()));
    }
    if (fieldType().hasDocValues()) {
      fields.add(new NumericDocValuesField(fieldType().names().indexName(),timestamp));
    }
  }
}
