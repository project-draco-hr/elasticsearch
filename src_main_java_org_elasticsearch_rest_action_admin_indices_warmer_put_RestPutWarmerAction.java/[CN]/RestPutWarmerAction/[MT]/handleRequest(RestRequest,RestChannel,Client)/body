{
  PutWarmerRequest putWarmerRequest=new PutWarmerRequest(request.param("name"));
  putWarmerRequest.listenerThreaded(false);
  SearchRequest searchRequest=new SearchRequest(Strings.splitStringByCommaToArray(request.param("index"))).types(Strings.splitStringByCommaToArray(request.param("type"))).queryCache(request.paramAsBoolean("query_cache",null)).source(request.content());
  searchRequest.indicesOptions(IndicesOptions.fromRequest(request,searchRequest.indicesOptions()));
  putWarmerRequest.searchRequest(searchRequest);
  putWarmerRequest.timeout(request.paramAsTime("timeout",putWarmerRequest.timeout()));
  putWarmerRequest.masterNodeTimeout(request.paramAsTime("master_timeout",putWarmerRequest.masterNodeTimeout()));
  client.admin().indices().putWarmer(putWarmerRequest,new AcknowledgedRestListener<PutWarmerResponse>(channel));
}
