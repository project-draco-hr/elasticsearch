{
  GetIndexTemplatesRequest getIndexTemplatesRequest=new GetIndexTemplatesRequest(request.param("name"));
  getIndexTemplatesRequest.local(request.paramAsBoolean("local",getIndexTemplatesRequest.local()));
  client.admin().indices().getTemplates(getIndexTemplatesRequest,new ActionListener<GetIndexTemplatesResponse>(){
    @Override public void onResponse(    GetIndexTemplatesResponse getIndexTemplatesResponse){
      try {
        boolean templateExists=getIndexTemplatesResponse.getIndexTemplates().size() > 0;
        if (templateExists) {
          channel.sendResponse(new StringRestResponse(OK));
        }
 else {
          channel.sendResponse(new StringRestResponse(NOT_FOUND));
        }
      }
 catch (      Throwable e) {
        onFailure(e);
      }
    }
    @Override public void onFailure(    Throwable e){
      try {
        channel.sendResponse(new StringRestResponse(ExceptionsHelper.status(e)));
      }
 catch (      Exception e1) {
        logger.error("Failed to send failure response",e1);
      }
    }
  }
);
}
