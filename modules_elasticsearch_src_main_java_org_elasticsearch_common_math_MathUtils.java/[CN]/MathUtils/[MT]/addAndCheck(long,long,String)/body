{
  long ret;
  if (a > b) {
    ret=addAndCheck(b,a,msg);
  }
 else {
    if (a < 0) {
      if (b < 0) {
        if (Long.MIN_VALUE - b <= a) {
          ret=a + b;
        }
 else {
          throw new ArithmeticException(msg);
        }
      }
 else {
        ret=a + b;
      }
    }
 else {
      if (a <= Long.MAX_VALUE - b) {
        ret=a + b;
      }
 else {
        throw new ArithmeticException(msg);
      }
    }
  }
  return ret;
}
