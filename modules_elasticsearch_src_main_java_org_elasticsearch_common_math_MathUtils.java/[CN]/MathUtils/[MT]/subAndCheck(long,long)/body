{
  long ret;
  String msg="overflow: subtract";
  if (b == Long.MIN_VALUE) {
    if (a < 0) {
      ret=a - b;
    }
 else {
      throw new ArithmeticException(msg);
    }
  }
 else {
    ret=addAndCheck(a,-b,msg);
  }
  return ret;
}
