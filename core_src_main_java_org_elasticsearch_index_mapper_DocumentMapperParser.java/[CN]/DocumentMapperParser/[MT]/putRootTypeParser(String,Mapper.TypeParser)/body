{
synchronized (typeParsersMutex) {
    Map<String,Mapper.TypeParser> rootTypeParsers=new HashMap<>(this.rootTypeParsers);
    rootTypeParsers.put(type,typeParser);
    this.rootTypeParsers=rootTypeParsers;
    SortedMap<String,Mapper.TypeParser> additionalRootMappers=new TreeMap<>(this.additionalRootMappers);
    additionalRootMappers.put(type,typeParser);
    this.additionalRootMappers=unmodifiableSortedMap(additionalRootMappers);
  }
}
