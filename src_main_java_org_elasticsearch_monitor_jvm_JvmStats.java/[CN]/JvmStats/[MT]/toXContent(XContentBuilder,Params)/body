{
  builder.startObject(Fields.JVM);
  builder.field(Fields.TIMESTAMP,timestamp);
  builder.field(Fields.UPTIME,uptime().format());
  builder.field(Fields.UPTIME_IN_MILLIS,uptime().millis());
  if (mem != null) {
    builder.startObject(Fields.MEM);
    builder.field(Fields.HEAP_USED,mem.heapUsed().toString());
    builder.field(Fields.HEAP_USED_IN_BYTES,mem.heapUsed().bytes());
    builder.field(Fields.HEAP_COMMITTED,mem.heapCommitted().toString());
    builder.field(Fields.HEAP_COMMITTED_IN_BYTES,mem.heapCommitted().bytes());
    builder.field(Fields.NON_HEAP_USED,mem.nonHeapUsed().toString());
    builder.field(Fields.NON_HEAP_USED_IN_BYTES,mem.nonHeapUsed);
    builder.field(Fields.NON_HEAP_COMMITTED,mem.nonHeapCommitted().toString());
    builder.field(Fields.NON_HEAP_COMMITTED_IN_BYTES,mem.nonHeapCommitted);
    builder.startObject(Fields.POOLS);
    for (    MemoryPool pool : mem) {
      builder.startObject(pool.name());
      builder.field(Fields.USED,pool.used().toString());
      builder.field(Fields.USED_IN_BYTES,pool.used);
      builder.field(Fields.MAX,pool.max().toString());
      builder.field(Fields.MAX_IN_BYTES,pool.max);
      builder.field(Fields.PEAK_USED,pool.peakUsed().toString());
      builder.field(Fields.PEAK_USED_IN_BYTES,pool.peakUsed);
      builder.field(Fields.PEAK_MAX,pool.peakMax().toString());
      builder.field(Fields.PEAK_MAX_IN_BYTES,pool.peakMax);
      builder.endObject();
    }
    builder.endObject();
    builder.endObject();
  }
  if (threads != null) {
    builder.startObject(Fields.THREADS);
    builder.field(Fields.COUNT,threads.count());
    builder.field(Fields.PEAK_COUNT,threads.peakCount());
    builder.endObject();
  }
  if (gc != null) {
    builder.startObject(Fields.GC);
    builder.field(Fields.COLLECTION_COUNT,gc.collectionCount());
    builder.field(Fields.COLLECTION_TIME,gc.collectionTime().format());
    builder.field(Fields.COLLECTION_TIME_IN_MILLIS,gc.collectionTime().millis());
    builder.startObject(Fields.COLLECTORS);
    for (    GarbageCollector collector : gc) {
      builder.startObject(collector.name());
      builder.field(Fields.COLLECTION_COUNT,collector.collectionCount());
      builder.field(Fields.COLLECTION_TIME,collector.collectionTime().format());
      builder.field(Fields.COLLECTION_TIME_IN_MILLIS,collector.collectionTime().millis());
      builder.endObject();
    }
    builder.endObject();
    builder.endObject();
  }
  builder.endObject();
  return builder;
}
