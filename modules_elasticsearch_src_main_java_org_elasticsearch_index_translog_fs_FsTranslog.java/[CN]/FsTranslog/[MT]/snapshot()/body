{
synchronized (mutex) {
    try {
      raf.increaseRefCount();
      return new FsSnapshot(shardId,this.id,raf,raf.raf().getFilePointer());
    }
 catch (    IOException e) {
      throw new TranslogException(shardId,"Failed to snapshot",e);
    }
  }
}
