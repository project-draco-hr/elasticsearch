{
  NamedWriteable<? extends T> existingNamedWriteable=registry.get(namedWriteable.getWriteableName());
  if (existingNamedWriteable != null) {
    throw new IllegalArgumentException("named writeable of type [" + namedWriteable.getClass().getName() + "] with name ["+ namedWriteable.getWriteableName()+ "] "+ "is already registered by type ["+ existingNamedWriteable.getClass().getName()+ "] within category ["+ categoryClass.getName()+ "]");
  }
  registry.put(namedWriteable.getWriteableName(),namedWriteable);
}
