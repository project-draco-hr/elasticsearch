{
  engine.close();
  Translog translog=createTranslog();
  long id=translog.currentFileGeneration();
  IOUtils.rm(translog.location().resolve(Translog.getFilename(id)));
  translog.close();
  try {
    engine=createEngine(store,primaryTranslogDir);
    fail("engine shouldn't start without a valid translog id");
  }
 catch (  EngineCreationFailureException ex) {
  }
  IndexSettingsService indexSettingsService=new IndexSettingsService(shardId.index(),ImmutableSettings.builder().put(defaultSettings).put(EngineConfig.INDEX_FORCE_NEW_TRANSLOG,true).build());
  engine=createEngine(indexSettingsService,store,primaryTranslogDir,createMergeScheduler(indexSettingsService));
}
