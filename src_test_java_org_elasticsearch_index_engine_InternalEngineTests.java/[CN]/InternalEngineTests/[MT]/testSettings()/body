{
  InternalEngine engine=(InternalEngine)this.engine;
  CodecService codecService=new CodecService(shardId.index());
  LiveIndexWriterConfig currentIndexWriterConfig=engine.getCurrentIndexWriterConfig();
  assertEquals(engine.config().getCodec().getName(),codecService.codec(codecName).getName());
  assertEquals(currentIndexWriterConfig.getCodec().getName(),codecService.codec(codecName).getName());
  assertEquals(engine.config().getIndexConcurrency(),indexConcurrency);
  assertEquals(currentIndexWriterConfig.getMaxThreadStates(),indexConcurrency);
  IndexDynamicSettingsModule settings=new IndexDynamicSettingsModule();
  assertTrue(settings.containsSetting(EngineConfig.INDEX_FAIL_ON_CORRUPTION_SETTING));
  assertTrue(settings.containsSetting(EngineConfig.INDEX_COMPOUND_ON_FLUSH));
  assertTrue(settings.containsSetting(EngineConfig.INDEX_GC_DELETES_SETTING));
  assertTrue(settings.containsSetting(EngineConfig.INDEX_FAIL_ON_MERGE_FAILURE_SETTING));
}
