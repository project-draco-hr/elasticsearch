{
  Boolean highlight=highlightFilters.get();
  if (highlight == null || highlight.equals(Boolean.FALSE)) {
    return;
  }
  if (sourceFilter instanceof TermFilter) {
    flatten(new TermQuery(((TermFilter)sourceFilter).getTerm()),flatQueries);
  }
 else   if (sourceFilter instanceof PublicTermsFilter) {
    PublicTermsFilter termsFilter=(PublicTermsFilter)sourceFilter;
    for (    Term term : termsFilter.getTerms()) {
      flatten(new TermQuery(term),flatQueries);
    }
  }
 else   if (sourceFilter instanceof MultiTermQueryWrapperFilter) {
    if (multiTermQueryWrapperFilterQueryField != null) {
      try {
        flatten((Query)multiTermQueryWrapperFilterQueryField.get(sourceFilter),flatQueries);
      }
 catch (      IllegalAccessException e) {
      }
    }
  }
 else   if (sourceFilter instanceof PublicBooleanFilter) {
    PublicBooleanFilter booleanFilter=(PublicBooleanFilter)sourceFilter;
    for (    Filter filter : booleanFilter.getMustFilters()) {
      flatten(filter,flatQueries);
    }
    for (    Filter filter : booleanFilter.getNotFilters()) {
      flatten(filter,flatQueries);
    }
  }
}
