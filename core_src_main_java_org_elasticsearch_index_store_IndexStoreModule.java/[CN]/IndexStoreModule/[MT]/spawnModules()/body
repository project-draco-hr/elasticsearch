{
  final String storeType=settings.get(STORE_TYPE,Type.DEFAULT.name());
  for (  Type type : Type.values()) {
    if (type.match(storeType)) {
      return ImmutableList.of(new DefaultStoreModule());
    }
  }
  final Class<? extends Module> indexStoreModule=settings.getAsClass(STORE_TYPE,null,"org.elasticsearch.index.store.","IndexStoreModule");
  return ImmutableList.of(Modules.createModule(indexStoreModule,settings));
}
