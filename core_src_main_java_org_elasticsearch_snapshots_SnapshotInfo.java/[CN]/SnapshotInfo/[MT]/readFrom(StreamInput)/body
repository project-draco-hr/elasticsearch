{
  name=in.readString();
  int size=in.readVInt();
  ImmutableList.Builder<String> indicesListBuilder=ImmutableList.builder();
  for (int i=0; i < size; i++) {
    indicesListBuilder.add(in.readString());
  }
  indices=indicesListBuilder.build();
  state=SnapshotState.fromValue(in.readByte());
  reason=in.readOptionalString();
  startTime=in.readVLong();
  endTime=in.readVLong();
  totalShards=in.readVInt();
  successfulShards=in.readVInt();
  size=in.readVInt();
  if (size > 0) {
    ImmutableList.Builder<SnapshotShardFailure> failureBuilder=ImmutableList.builder();
    for (int i=0; i < size; i++) {
      failureBuilder.add(SnapshotShardFailure.readSnapshotShardFailure(in));
    }
    shardFailures=failureBuilder.build();
  }
 else {
    shardFailures=ImmutableList.of();
  }
  version=Version.readVersion(in);
}
