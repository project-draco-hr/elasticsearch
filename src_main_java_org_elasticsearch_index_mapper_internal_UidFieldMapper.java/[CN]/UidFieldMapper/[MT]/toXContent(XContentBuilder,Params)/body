{
  if (customFieldDataSettings == null && (postingsFormat == null || postingsFormat.name().equals(defaultPostingFormat())) && (docValuesFormat == null || docValuesFormat.name().equals(defaultDocValuesFormat()))) {
    return builder;
  }
  builder.startObject(CONTENT_TYPE);
  if (postingsFormat != null) {
    if (!postingsFormat.name().equals(defaultPostingFormat())) {
      builder.field("postings_format",postingsFormat.name());
    }
  }
  if (docValuesFormat != null) {
    if (!docValuesFormat.equals(defaultDocValuesFormat())) {
      builder.field(DOC_VALUES_FORMAT,docValuesFormat.name());
    }
  }
  if (customFieldDataSettings != null) {
    builder.field("fielddata",(Map)customFieldDataSettings.getAsMap());
  }
  builder.endObject();
  return builder;
}
