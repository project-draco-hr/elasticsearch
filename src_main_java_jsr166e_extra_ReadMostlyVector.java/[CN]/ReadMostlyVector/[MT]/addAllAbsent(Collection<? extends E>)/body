{
  int added=0;
  Object[] cs=c.toArray();
  int clen=cs.length;
  if (clen != 0) {
    long stamp=lock.writeLock();
    try {
      for (int i=0; i < clen; ++i) {
        @SuppressWarnings("unchecked") E e=(E)cs[i];
        if (findFirstIndex(array,e,0,count) < 0) {
          rawAdd(e);
          ++added;
        }
      }
    }
  finally {
      lock.unlockWrite(stamp);
    }
  }
  return added;
}
