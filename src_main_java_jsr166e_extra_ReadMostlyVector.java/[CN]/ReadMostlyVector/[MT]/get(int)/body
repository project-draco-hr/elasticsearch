{
  final SequenceLock lock=this.lock;
  for (; ; ) {
    long seq=lock.awaitAvailability();
    int n=count;
    Object[] items=array;
    @SuppressWarnings("unchecked") E e=(index < items.length) ? (E)items[index] : null;
    if (lock.getSequence() == seq) {
      if (index >= n)       throw new ArrayIndexOutOfBoundsException(index);
      return e;
    }
  }
}
