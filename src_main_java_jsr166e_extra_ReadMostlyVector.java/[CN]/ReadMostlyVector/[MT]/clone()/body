{
  final SequenceLock lock=this.lock;
  Object[] a=null;
  boolean retry=false;
  long seq=lock.awaitAvailability();
  Object[] items=array;
  int n=count;
  if (n <= items.length)   a=Arrays.copyOf(items,n);
 else   retry=true;
  if (retry || lock.getSequence() != seq) {
    lock.lock();
    try {
      n=count;
      a=Arrays.copyOf(array,n);
    }
  finally {
      lock.unlock();
    }
  }
  return new ReadMostlyVector<E>(a,n,capacityIncrement);
}
