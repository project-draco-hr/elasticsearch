{
  try {
    for (    final TransportConnectionListener connectionListener : connectionListeners) {
      threadPool.generic().execute(new Runnable(){
        @Override public void run(){
          connectionListener.onNodeDisconnected(node);
        }
      }
);
    }
    for (    Map.Entry<Long,RequestHolder> entry : clientHandlers.entrySet()) {
      RequestHolder holder=entry.getValue();
      if (holder.node().equals(node)) {
        final RequestHolder holderToNotify=clientHandlers.remove(entry.getKey());
        if (holderToNotify != null) {
          threadPool.generic().execute(new Runnable(){
            @Override public void run(){
              holderToNotify.handler().handleException(new NodeDisconnectedException(node,holderToNotify.action()));
            }
          }
);
        }
      }
    }
  }
 catch (  EsRejectedExecutionException ex) {
    logger.debug("Rejected execution on NodeDisconnected",ex);
  }
}
