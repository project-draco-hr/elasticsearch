{
  final TransportResponseHandler handler=adapter.onResponseReceived(requestId);
  if (handler != null) {
    if (!(error instanceof RemoteTransportException)) {
      error=new RemoteTransportException(error.getMessage(),error);
    }
    final RemoteTransportException rtx=(RemoteTransportException)error;
    final String executor=handler.executor();
    if (ThreadPool.Names.SAME.equals(executor)) {
      processException(handler,rtx);
    }
 else {
      threadPool.executor(handler.executor()).execute(new Runnable(){
        @SuppressWarnings({"unchecked"}) @Override public void run(){
          processException(handler,rtx);
        }
      }
);
    }
  }
}
