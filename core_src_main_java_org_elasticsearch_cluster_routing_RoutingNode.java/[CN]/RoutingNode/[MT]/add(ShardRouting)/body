{
  for (  ShardRouting shardRouting : shards) {
    if (shardRouting.isSameShard(shard)) {
      throw new IllegalStateException("Trying to add a shard [" + shard.shardId().getIndex().getName() + "]["+ shard.shardId().id()+ "] to a node ["+ nodeId+ "] where it already exists");
    }
  }
  shards.add(shard);
}
