{
  if (settings.get() == null) {
    Builder builder=ImmutableSettings.builder();
    builder.put("cluster.routing.schedule","100ms");
    builder.put("gateway.type","fs");
    if (between(0,5) == 0) {
      builder.put("gateway.fs.buffer_size",between(1,100) + "kb");
    }
    if (between(0,5) == 0) {
      builder.put("gateway.fs.chunk_size",between(1,100) + "kb");
    }
    storeType=rarely() ? "ram" : "fs";
    builder.put("index.store.type",storeType);
    settings.set(builder.build());
  }
  return settings.get();
}
