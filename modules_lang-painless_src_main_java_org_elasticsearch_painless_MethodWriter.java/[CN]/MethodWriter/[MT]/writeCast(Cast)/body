{
  if (cast instanceof Transform) {
    final Transform transform=(Transform)cast;
    if (transform.upcast != null) {
      checkCast(transform.upcast.type);
    }
    if (java.lang.reflect.Modifier.isStatic(transform.method.reflect.getModifiers())) {
      invokeStatic(transform.method.owner.type,transform.method.method);
    }
 else     if (java.lang.reflect.Modifier.isInterface(transform.method.owner.clazz.getModifiers())) {
      invokeInterface(transform.method.owner.type,transform.method.method);
    }
 else {
      invokeVirtual(transform.method.owner.type,transform.method.method);
    }
    if (transform.downcast != null) {
      checkCast(transform.downcast.type);
    }
  }
 else   if (cast != null) {
    final Type from=cast.from;
    final Type to=cast.to;
    if (from.equals(to)) {
      return;
    }
    if (from.sort.numeric && from.sort.primitive && to.sort.numeric&& to.sort.primitive) {
      cast(from.type,to.type);
    }
 else {
      if (!to.clazz.isAssignableFrom(from.clazz)) {
        checkCast(to.type);
      }
    }
  }
}
