{
  final ExtNodeMetadata varenmd=adapter.getExtNodeMetadata(ctx);
  final ParserRuleContext parent=varenmd.parent;
  final ExternalMetadata parentemd=adapter.getExternalMetadata(parent);
  final String name=ctx.ID().getText();
  final ExtdotContext dotctx=ctx.extdot();
  final ExtbraceContext bracectx=ctx.extbrace();
  if (parentemd.current != null) {
    throw new IllegalStateException(error(ctx) + "Unexpected variable [" + name+ "] load.");
  }
  varenmd.last=parentemd.scope == 0 && dotctx == null && bracectx == null;
  final Variable variable=getVariable(name);
  if (variable == null) {
    throw new IllegalArgumentException(error(ctx) + "Unknown variable [" + name+ "].");
  }
  varenmd.target=variable.slot;
  varenmd.type=variable.type;
  analyzeLoadStoreExternal(ctx);
  parentemd.current=varenmd.type;
  if (dotctx != null) {
    adapter.createExtNodeMetadata(parent,dotctx);
    visit(dotctx);
  }
 else   if (bracectx != null) {
    adapter.createExtNodeMetadata(parent,bracectx);
    visit(bracectx);
  }
  return null;
}
