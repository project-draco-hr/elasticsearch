{
  File file=new File(dir,"settings.yml");
  if (file.exists()) {
    try {
      return ImmutableSettings.settingsBuilder().loadFromUrl(file.toURI().toURL()).put(defaults).build();
    }
 catch (    MalformedURLException e) {
      throw new ElasticsearchException(String.format(Locale.ROOT,"Could not load hunspell dictionary settings from [%s]",file.getAbsolutePath()),e);
    }
  }
  file=new File(dir,"settings.json");
  if (file.exists()) {
    try {
      return ImmutableSettings.settingsBuilder().loadFromUrl(file.toURI().toURL()).put(defaults).build();
    }
 catch (    MalformedURLException e) {
      throw new ElasticsearchException(String.format(Locale.ROOT,"Could not load hunspell dictionary settings from [%s]",file.getAbsolutePath()),e);
    }
  }
  return defaults;
}
