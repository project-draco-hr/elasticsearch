{
  super(settings);
  this.knownDictionaries=knownDictionaries;
  this.hunspellDir=resolveHunspellDirectory(settings,env);
  this.defaultIgnoreCase=settings.getAsBoolean("indices.analysis.hunspell.dictionary.ignore_case",false);
  dictionaries=CacheBuilder.newBuilder().build(new CacheLoader<String,Dictionary>(){
    @Override public Dictionary load(    String locale) throws Exception {
      Dictionary dictionary=knownDictionaries.get(locale);
      if (dictionary == null) {
        dictionary=loadDictionary(locale,settings,env);
      }
      return dictionary;
    }
  }
);
  scanAndLoadDictionaries();
}
