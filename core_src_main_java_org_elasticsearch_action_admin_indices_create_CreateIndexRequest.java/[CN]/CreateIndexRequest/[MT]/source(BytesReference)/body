{
  XContentType xContentType=XContentFactory.xContentType(source);
  if (xContentType != null) {
    try (XContentParser parser=XContentFactory.xContent(xContentType).createParser(source)){
      source(parser.map());
    }
 catch (    IOException e) {
      throw new ElasticsearchParseException("failed to parse source for create index",e);
    }
  }
 else {
    settings(new String(source.toBytes(),StandardCharsets.UTF_8));
  }
  return this;
}
