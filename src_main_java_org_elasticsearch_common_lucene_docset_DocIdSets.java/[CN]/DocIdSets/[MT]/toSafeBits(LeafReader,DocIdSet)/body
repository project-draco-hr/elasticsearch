{
  if (set == null) {
    return new Bits.MatchNoBits(reader.maxDoc());
  }
  Bits bits=set.bits();
  if (bits != null) {
    return bits;
  }
  DocIdSetIterator iterator=set.iterator();
  if (iterator == null) {
    return new Bits.MatchNoBits(reader.maxDoc());
  }
  return toBitSet(iterator,reader.maxDoc());
}
