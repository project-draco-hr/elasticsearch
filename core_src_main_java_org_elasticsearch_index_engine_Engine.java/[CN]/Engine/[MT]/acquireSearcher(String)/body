{
  boolean success=false;
  store.incRef();
  try {
    final SearcherManager manager=getSearcherManager();
    final IndexSearcher searcher=manager.acquire();
    try {
      final Searcher retVal=newSearcher(source,searcher,manager);
      success=true;
      return retVal;
    }
  finally {
      if (!success) {
        manager.release(searcher);
      }
    }
  }
 catch (  EngineClosedException ex) {
    throw ex;
  }
catch (  Exception ex) {
    ensureOpen();
    logger.error(new ParameterizedMessage("failed to acquire searcher, source {}",source),ex);
    throw new EngineException(shardId,"failed to acquire searcher, source " + source,ex);
  }
 finally {
    if (!success) {
      store.decRef();
    }
  }
}
