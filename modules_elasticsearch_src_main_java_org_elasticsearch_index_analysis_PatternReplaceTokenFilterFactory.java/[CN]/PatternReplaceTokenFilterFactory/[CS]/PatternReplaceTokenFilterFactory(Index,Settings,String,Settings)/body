{
  super(index,indexSettings,name,settings);
  String sPattern=settings.get("pattern","");
  if (sPattern == null) {
    throw new ElasticSearchIllegalArgumentException("pattern is missing for [" + name + "] token filter of type 'pattern_replace'");
  }
  this.pattern=Regex.compile(sPattern,settings.get("flags"));
  String sReplacement=settings.get("replacement","");
  if (sReplacement == null) {
    throw new ElasticSearchIllegalArgumentException("replacement is missing for [" + name + "] token filter of type 'pattern_replace'");
  }
  this.replacement=sReplacement;
  this.all=settings.getAsBoolean("all",true);
}
