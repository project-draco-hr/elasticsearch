{
  try {
    Iterator<Entry<String,IndexOutput>> iterator=openIndexOutputs.entrySet().iterator();
    while (iterator.hasNext()) {
      Map.Entry<String,IndexOutput> entry=iterator.next();
      logger.trace("closing IndexOutput file [{}]",entry.getValue());
      try {
        entry.getValue().close();
      }
 catch (      Exception e) {
        logger.debug("error while closing recovery output [{}]",e,entry.getValue());
      }
      iterator.remove();
    }
    for (    String file : tempFileNames.keySet()) {
      logger.trace("cleaning temporary file [{}]",file);
      store.deleteQuiet(file);
    }
  }
  finally {
    store.decRef();
    indexShard.recoveryStats().decCurrentAsTarget();
  }
}
