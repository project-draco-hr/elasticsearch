{
  builder.startObject();
  if (field != null) {
    builder.field("field",field);
  }
  bucketCountThresholds.toXContent(builder);
  if (executionHint != null) {
    builder.field(AbstractTermsParametersParser.EXECUTION_HINT_FIELD_NAME.getPreferredName(),executionHint);
  }
  if (includePattern != null) {
    if (includeFlags == 0) {
      builder.field("include",includePattern);
    }
 else {
      builder.startObject("include").field("pattern",includePattern).field("flags",includeFlags).endObject();
    }
  }
  if (includeTerms != null) {
    builder.array("include",includeTerms);
  }
  if (excludePattern != null) {
    if (excludeFlags == 0) {
      builder.field("exclude",excludePattern);
    }
 else {
      builder.startObject("exclude").field("pattern",excludePattern).field("flags",excludeFlags).endObject();
    }
  }
  if (excludeTerms != null) {
    builder.array("exclude",excludeTerms);
  }
  if (filterBuilder != null) {
    builder.field(SignificantTermsParametersParser.BACKGROUND_FILTER.getPreferredName());
    filterBuilder.toXContent(builder,params);
  }
  if (significanceHeuristicBuilder != null) {
    significanceHeuristicBuilder.toXContent(builder);
  }
  return builder.endObject();
}
