{
  UpdateSettingsClusterStateUpdateRequest clusterStateUpdateRequest=new UpdateSettingsClusterStateUpdateRequest().indices(request.indices()).settings(request.settings()).ackTimeout(request.timeout()).masterNodeTimeout(request.masterNodeTimeout());
  updateSettingsService.updateSettings(clusterStateUpdateRequest,new ClusterStateUpdateListener(){
    @Override public void onResponse(    ClusterStateUpdateResponse response){
      listener.onResponse(new UpdateSettingsResponse(response.isAcknowledged()));
    }
    @Override public void onFailure(    Throwable t){
      logger.debug("failed to update settings on indices [{}]",t,request.indices());
      listener.onFailure(t);
    }
  }
);
}
