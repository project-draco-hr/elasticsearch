{
  String mapping=XContentFactory.jsonBuilder().startObject().startObject("type").startObject("properties").endObject().endObject().endObject().string();
  DocumentMapper defaultMapper=MapperTests.newParser().parse(mapping);
  ParsedDocument doc=defaultMapper.parse("type","1",XContentFactory.jsonBuilder().startObject().field("date_field1","2011/01/22").field("date_field2","2011/01/22 00:00:00").endObject().bytes());
  FieldMapper fieldMapper=defaultMapper.mappers().smartNameFieldMapper("date_field1");
  assertThat(fieldMapper,instanceOf(DateFieldMapper.class));
  fieldMapper=defaultMapper.mappers().smartNameFieldMapper("date_field2");
  assertThat(fieldMapper,instanceOf(DateFieldMapper.class));
}
