{
  DeleteByQueryRequest delete=new DeleteByQueryRequest(Strings.splitStringByCommaToArray(request.param("index")));
  delete.indicesOptions(IndicesOptions.fromRequest(request,delete.indicesOptions()));
  delete.routing(request.param("routing"));
  if (request.hasParam("timeout")) {
    delete.timeout(request.paramAsTime("timeout",null));
  }
  if (RestActions.hasBodyContent(request)) {
    delete.query(RestActions.getQueryContent(RestActions.getRestContent(request),indicesQueriesRegistry,parseFieldMatcher));
  }
 else {
    QueryBuilder<?> queryBuilder=RestActions.urlParamsToQueryBuilder(request);
    if (queryBuilder != null) {
      delete.query(queryBuilder);
    }
  }
  delete.types(Strings.splitStringByCommaToArray(request.param("type")));
  client.execute(INSTANCE,delete,new RestToXContentListener<>(channel));
}
