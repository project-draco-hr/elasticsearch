{
  if (!isCloudReady(settings)) {
    logger.trace("cloud settings are disabled");
    return false;
  }
  if (!AzureDiscovery.AZURE.equalsIgnoreCase(settings.get("discovery.type"))) {
    logger.trace("discovery.type not set to {}",AzureDiscovery.AZURE);
    return false;
  }
  if ((isPropertyMissing(settings,Management.SUBSCRIPTION_ID) || isPropertyMissing(settings,Management.SERVICE_NAME) || isPropertyMissing(settings,Management.KEYSTORE_PATH)|| isPropertyMissing(settings,Management.KEYSTORE_PASSWORD)) && (isPropertyMissing(settings,Management.SUBSCRIPTION_ID_DEPRECATED) || isPropertyMissing(settings,Management.SERVICE_NAME_DEPRECATED) || isPropertyMissing(settings,Management.KEYSTORE_DEPRECATED)|| isPropertyMissing(settings,Management.PASSWORD_DEPRECATED))) {
    logger.debug("one or more azure discovery settings are missing. " + "Check elasticsearch.yml file. Should have [{}], [{}], [{}] and [{}].",Management.SUBSCRIPTION_ID,Management.SERVICE_NAME,Management.KEYSTORE_PATH,Management.KEYSTORE_PASSWORD);
    return false;
  }
  logger.trace("all required properties for azure discovery are set!");
  return true;
}
