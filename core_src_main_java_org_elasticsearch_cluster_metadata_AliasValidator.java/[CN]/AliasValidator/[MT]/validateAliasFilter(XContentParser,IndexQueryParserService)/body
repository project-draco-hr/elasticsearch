{
  QueryShardContext context=indexQueryParserService.getShardContext();
  try {
    context.reset(parser);
    context.parseContext().parseInnerQueryBuilder().toFilter(context);
  }
  finally {
    context.reset(null);
    parser.close();
  }
}
