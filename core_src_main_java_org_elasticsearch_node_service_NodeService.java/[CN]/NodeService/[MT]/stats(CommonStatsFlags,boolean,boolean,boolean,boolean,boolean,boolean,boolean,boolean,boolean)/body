{
  return new NodeStats(discovery.localNode(),System.currentTimeMillis(),indices.anySet() ? indicesService.stats(true,indices) : null,os ? monitorService.osService().stats() : null,process ? monitorService.processService().stats() : null,jvm ? monitorService.jvmService().stats() : null,threadPool ? this.threadPool.stats() : null,network ? monitorService.networkService().stats() : null,fs ? monitorService.fsService().stats() : null,transport ? transportService.stats() : null,http ? (httpServer == null ? null : httpServer.stats()) : null,circuitBreaker ? circuitBreakerService.stats() : null);
}
