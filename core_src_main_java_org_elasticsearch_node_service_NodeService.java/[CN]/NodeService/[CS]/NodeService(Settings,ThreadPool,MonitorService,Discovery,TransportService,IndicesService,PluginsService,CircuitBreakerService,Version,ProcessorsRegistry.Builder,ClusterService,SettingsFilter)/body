{
  super(settings);
  this.threadPool=threadPool;
  this.monitorService=monitorService;
  this.transportService=transportService;
  this.indicesService=indicesService;
  this.discovery=discovery;
  this.version=version;
  this.pluginService=pluginService;
  this.circuitBreakerService=circuitBreakerService;
  this.clusterService=clusterService;
  this.ingestService=new IngestService(settings,threadPool,processorsRegistryBuilder);
  this.settingsFilter=settingsFilter;
  clusterService.add(ingestService.getPipelineStore());
  clusterService.add(ingestService.getPipelineExecutionService());
}
