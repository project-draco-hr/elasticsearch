{
  closed=true;
  transportService.removeHandler(startTransportAction);
  transportService.removeHandler(fileChunkTransportAction);
  transportService.removeHandler(cleanFilesTransportAction);
  transportService.removeHandler(prepareForTranslogOperationsTransportAction);
  transportService.removeHandler(translogOperationsTransportAction);
  transportService.removeHandler(finalizeRecoveryTransportAction);
  cleanOpenIndex();
  if (sendStartRecoveryThread != null) {
    sendStartRecoveryThread.interrupt();
  }
  if (receiveSnapshotRecoveryThread != null) {
    receiveSnapshotRecoveryThread.interrupt();
  }
  if (sendSnapshotRecoveryThread != null) {
    sendSnapshotRecoveryThread.interrupt();
  }
  for (  Future future : sendFileChunksRecoveryFutures) {
    future.cancel(true);
  }
}
