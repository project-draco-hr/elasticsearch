MemorySnapshot snapshot
boolean phase3
