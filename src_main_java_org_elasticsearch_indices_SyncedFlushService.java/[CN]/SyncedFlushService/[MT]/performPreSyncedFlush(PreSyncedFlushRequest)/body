{
  IndexShard indexShard=indicesService.indexServiceSafe(request.shardId().getIndex()).shardSafe(request.shardId().id());
  FlushRequest flushRequest=new FlushRequest().force(false).waitIfOngoing(true);
  logger.trace("{} performing pre sync flush",request.shardId());
  byte[] id=indexShard.flush(flushRequest);
  logger.trace("{} pre sync flush done. commit id {}",request.shardId(),id);
  return new PreSyncedFlushResponse(id);
}
