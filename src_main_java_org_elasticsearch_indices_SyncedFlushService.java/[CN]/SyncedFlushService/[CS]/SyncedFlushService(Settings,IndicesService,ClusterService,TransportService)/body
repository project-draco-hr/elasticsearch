{
  super(settings);
  this.indicesService=indicesService;
  this.clusterService=clusterService;
  this.transportService=transportService;
  transportService.registerHandler(PRE_SYNCED_FLUSH_ACTION_NAME,new PreSyncedFlushTransportHandler());
  transportService.registerHandler(SYNCED_FLUSH_ACTION_NAME,new SyncedFlushTransportHandler());
  transportService.registerHandler(IN_FLIGHT_OPS_ACTION_NAME,new InFlightOpCountTransportHandler());
  preSyncTimeout=settings.getAsTime(SETTING_PRE_SYNC_TIMEOUT,TimeValue.timeValueMinutes(5));
  syncTimeout=settings.getAsTime(SETTING_SYNC_TIMEOUT,TimeValue.timeValueMinutes(5));
  inflightOpsTimeout=settings.getAsTime(SETTING_IN_FLIGHT_OPS_TIMEOUT,TimeValue.timeValueMinutes(5));
}
