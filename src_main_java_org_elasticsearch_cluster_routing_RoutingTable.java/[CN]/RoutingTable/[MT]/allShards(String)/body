{
  List<ShardRouting> shards=Lists.newArrayList();
  IndexRoutingTable indexRoutingTable=index(index);
  if (indexRoutingTable == null) {
    throw new IndexMissingException(new Index(index));
  }
  for (  IndexShardRoutingTable indexShardRoutingTable : indexRoutingTable) {
    for (    ShardRouting shardRouting : indexShardRoutingTable) {
      shards.add(shardRouting);
    }
  }
  return shards;
}
