{
  final int numIds=ids.size();
  BytesRef[] uids=new BytesRef[types.size() * ids.size()];
  BytesRefBuilder typeBytes=new BytesRefBuilder();
  BytesRefBuilder idBytes=new BytesRefBuilder();
  int index=0;
  for (  String type : types) {
    typeBytes.copyChars(type);
    for (int i=0; i < numIds; i++, index++) {
      uids[index]=Uid.createUidAsBytes(typeBytes.get(),BytesRefs.toBytesRef(ids.get(i),idBytes));
    }
  }
  return uids;
}
