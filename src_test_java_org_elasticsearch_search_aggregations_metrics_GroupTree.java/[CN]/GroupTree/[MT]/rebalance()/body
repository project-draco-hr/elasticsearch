{
  int l=left.depth();
  int r=right.depth();
  if (l > r + 1) {
    if (left.left.depth() > left.right.depth()) {
      rotate(left.left.left,left.left.right,left.right,right);
    }
 else {
      rotate(left.left,left.right.left,left.right.right,right);
    }
  }
 else   if (r > l + 1) {
    if (right.left.depth() > right.right.depth()) {
      rotate(left,right.left.left,right.left.right,right.right);
    }
 else {
      rotate(left,right.left,right.right.left,right.right.right);
    }
  }
 else {
    depth=Math.max(left.depth(),right.depth()) + 1;
  }
}
