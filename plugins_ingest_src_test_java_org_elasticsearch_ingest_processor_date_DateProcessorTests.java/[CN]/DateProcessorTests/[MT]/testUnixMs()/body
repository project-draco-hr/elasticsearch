{
  DateProcessor dateProcessor=new DateProcessor(DateTimeZone.UTC,randomLocale(random()),"date_as_string",Collections.singletonList(DateParserFactory.UNIX_MS),"date_as_date");
  Map<String,Object> document=new HashMap<>();
  document.put("date_as_string","1000500");
  IngestDocument ingestDocument=new IngestDocument("index","type","id",document);
  dateProcessor.execute(ingestDocument);
  assertThat(ingestDocument.getPropertyValue("date_as_date",String.class),equalTo("1970-01-01T00:16:40.500Z"));
}
