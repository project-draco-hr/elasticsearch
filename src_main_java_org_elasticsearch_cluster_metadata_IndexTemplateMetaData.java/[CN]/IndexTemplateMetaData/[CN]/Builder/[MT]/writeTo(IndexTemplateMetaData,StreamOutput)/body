{
  out.writeString(indexTemplateMetaData.name());
  out.writeInt(indexTemplateMetaData.order());
  out.writeString(indexTemplateMetaData.template());
  ImmutableSettings.writeSettingsToStream(indexTemplateMetaData.settings(),out);
  out.writeVInt(indexTemplateMetaData.mappings().size());
  for (  ObjectObjectCursor<String,CompressedString> cursor : indexTemplateMetaData.mappings()) {
    out.writeString(cursor.key);
    cursor.value.writeTo(out);
  }
  if (out.getVersion().onOrAfter(Version.V_1_1_0)) {
    out.writeVInt(indexTemplateMetaData.aliases().size());
    for (    ObjectCursor<AliasMetaData> cursor : indexTemplateMetaData.aliases().values()) {
      AliasMetaData.Builder.writeTo(cursor.value,out);
    }
  }
  out.writeVInt(indexTemplateMetaData.customs().size());
  for (  ObjectObjectCursor<String,IndexMetaData.Custom> cursor : indexTemplateMetaData.customs()) {
    out.writeString(cursor.key);
    IndexMetaData.lookupFactorySafe(cursor.key).writeTo(cursor.value,out);
  }
}
