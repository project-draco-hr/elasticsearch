{
  final String existingValue;
  if ((existingValue=newHeaders.putIfAbsent(key,value)) != null) {
    throw new IllegalArgumentException("value for key [" + key + "] already present");
  }
}
