{
  final Map<String,String> headers;
  if (defaultHeaders.isEmpty()) {
    headers=this.headers;
  }
 else {
    headers=new HashMap<>(defaultHeaders);
    headers.putAll(this.headers);
  }
  int keys=headers.size();
  out.writeVInt(keys);
  for (  Map.Entry<String,String> entry : headers.entrySet()) {
    out.writeString(entry.getKey());
    out.writeString(entry.getValue());
  }
}
