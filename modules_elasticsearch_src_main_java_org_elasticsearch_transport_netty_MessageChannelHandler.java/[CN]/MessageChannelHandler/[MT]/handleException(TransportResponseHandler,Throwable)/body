{
  if (!(error instanceof RemoteTransportException)) {
    error=new RemoteTransportException(error.getMessage(),error);
  }
  final RemoteTransportException rtx=(RemoteTransportException)error;
  if (handler.executor() == ThreadPool.Names.SAME) {
    handler.handleException(rtx);
  }
 else {
    threadPool.executor(handler.executor()).execute(new Runnable(){
      @Override public void run(){
        try {
          handler.handleException(rtx);
        }
 catch (        Exception e) {
          logger.error("Failed to handle exception response",e);
        }
      }
    }
);
  }
}
