{
  for (  String feature : features) {
    if ("benchmark".equals(feature) && ElasticsearchIntegrationTest.cluster().numBenchNodes() > 0) {
      continue;
    }
    if ("requires_replica".equals(feature) && ElasticsearchIntegrationTest.cluster().numDataNodes() >= 2) {
      continue;
    }
    if (!SUPPORTED.contains(feature)) {
      return false;
    }
  }
  return true;
}
