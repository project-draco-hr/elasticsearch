{
  String source="{\n" + "            \"query\" : {\n" + "            \"match\" : {\n"+ "                \"field\" : {\n"+ "                    \"query\" : \"value\""+ "                }\n"+ "            }\n"+ "        }\n"+ "        }";
  CountRequestBuilder countRequestBuilder=client.prepareCount().setSource(new BytesArray(source));
  String preToString=countRequestBuilder.request().source().toUtf8();
  assertThat(countRequestBuilder.toString(),equalTo(source));
  String postToString=countRequestBuilder.request().source().toUtf8();
  assertThat(preToString,equalTo(postToString));
}
