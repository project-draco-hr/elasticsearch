{
  GeoIpProcessor.Builder builder=new GeoIpProcessor.Builder(geoIpConfigDir,new DatabaseReaderService());
  builder.fromMap(Collections.emptyMap());
  GeoIpProcessor processor=(GeoIpProcessor)builder.build();
  assertThat(processor.dbReader.getMetadata().getDatabaseType(),equalTo("GeoLite2-City"));
}
