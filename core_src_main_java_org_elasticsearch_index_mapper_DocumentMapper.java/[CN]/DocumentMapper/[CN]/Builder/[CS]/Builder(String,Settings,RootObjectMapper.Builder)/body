{
  this.index=index;
  this.indexSettings=indexSettings;
  this.builderContext=new Mapper.BuilderContext(indexSettings,new ContentPath(1));
  this.rootObjectMapper=builder.build(builderContext);
  this.rootMappers.put(UidFieldMapper.class,new UidFieldMapper(indexSettings));
  this.rootMappers.put(IdFieldMapper.class,new IdFieldMapper(indexSettings));
  this.rootMappers.put(RoutingFieldMapper.class,new RoutingFieldMapper(indexSettings));
  this.rootMappers.put(SizeFieldMapper.class,new SizeFieldMapper(indexSettings));
  this.rootMappers.put(IndexFieldMapper.class,new IndexFieldMapper(indexSettings));
  this.rootMappers.put(SourceFieldMapper.class,new SourceFieldMapper(indexSettings));
  this.rootMappers.put(TypeFieldMapper.class,new TypeFieldMapper(indexSettings));
  this.rootMappers.put(AllFieldMapper.class,new AllFieldMapper(indexSettings));
  this.rootMappers.put(TimestampFieldMapper.class,new TimestampFieldMapper(indexSettings));
  this.rootMappers.put(TTLFieldMapper.class,new TTLFieldMapper(indexSettings));
  this.rootMappers.put(VersionFieldMapper.class,new VersionFieldMapper(indexSettings));
  this.rootMappers.put(ParentFieldMapper.class,new ParentFieldMapper(indexSettings));
  this.rootMappers.put(FieldNamesFieldMapper.class,new FieldNamesFieldMapper(indexSettings));
}
