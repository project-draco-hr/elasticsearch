{
  Task task=super.register(type,action,request);
  if (task != null) {
    for (    MockTaskManagerListener listener : listeners) {
      try {
        listener.onTaskRegistered(task);
      }
 catch (      Exception e) {
        logger.warn(new ParameterizedMessage("failed to notify task manager listener about unregistering the task with id {}",task.getId()),e);
      }
    }
  }
  return task;
}
