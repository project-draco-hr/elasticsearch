{
  Task task=super.register(type,action,request);
  if (task != null) {
    for (    MockTaskManagerListener listener : listeners) {
      try {
        listener.onTaskRegistered(task);
      }
 catch (      Throwable t) {
        logger.warn("failed to notify task manager listener about unregistering the task with id {}",t,task.getId());
      }
    }
  }
  return task;
}
