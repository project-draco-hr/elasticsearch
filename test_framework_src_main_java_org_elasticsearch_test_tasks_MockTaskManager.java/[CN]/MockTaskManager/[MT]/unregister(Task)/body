{
  Task removedTask=super.unregister(task);
  if (removedTask != null) {
    for (    MockTaskManagerListener listener : listeners) {
      try {
        listener.onTaskUnregistered(task);
      }
 catch (      Exception e) {
        logger.warn("failed to notify task manager listener about unregistering the task with id {}",e,task.getId());
      }
    }
  }
 else {
    logger.warn("trying to remove the same with id {} twice",task.getId());
  }
  return removedTask;
}
