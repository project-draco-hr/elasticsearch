{
  if (syncNeeded()) {
    try (ReleasableLock lock=writeLock.acquire()){
      ensureOpen();
      lastSyncedOffset=writtenOffset;
      checkpoint(lastSyncedOffset,operationCounter,channelReference);
    }
   }
}
