{
  if (count > 0) {
    try {
      ensureOpen();
      super.flush();
    }
 catch (    Throwable ex) {
      closeWithTragicEvent(ex);
      throw ex;
    }
  }
}
