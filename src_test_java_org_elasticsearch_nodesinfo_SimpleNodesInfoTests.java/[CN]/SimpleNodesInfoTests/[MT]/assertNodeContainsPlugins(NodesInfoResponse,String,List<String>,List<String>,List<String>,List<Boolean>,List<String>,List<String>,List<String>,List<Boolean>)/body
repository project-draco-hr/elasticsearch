{
  assertThat(response.getNodesMap().get(nodeId),notNullValue());
  PluginsInfo plugins=response.getNodesMap().get(nodeId).getPlugins();
  assertThat(plugins,notNullValue());
  List<String> pluginNames=FluentIterable.from(plugins.getInfos()).filter(jvmPluginPredicate).transform(nameFunction).toList();
  for (  String expectedJvmPluginName : expectedJvmPluginNames) {
    assertThat(pluginNames,hasItem(expectedJvmPluginName));
  }
  List<String> pluginDescriptions=FluentIterable.from(plugins.getInfos()).filter(jvmPluginPredicate).transform(descriptionFunction).toList();
  for (  String expectedJvmPluginDescription : expectedJvmPluginDescriptions) {
    assertThat(pluginDescriptions,hasItem(expectedJvmPluginDescription));
  }
  List<String> jvmPluginVersions=FluentIterable.from(plugins.getInfos()).filter(jvmPluginPredicate).transform(versionFunction).toList();
  for (  String pluginVersion : expectedJvmVersions) {
    assertThat(jvmPluginVersions,hasItem(pluginVersion));
  }
  List<Boolean> jvmPluginIsolations=FluentIterable.from(plugins.getInfos()).filter(jvmPluginPredicate).transform(isolationFunction).toList();
  for (  Boolean pluginIsolation : expectedJvmIsolations) {
    assertThat(jvmPluginIsolations,hasItem(pluginIsolation));
  }
  FluentIterable<String> jvmUrls=FluentIterable.from(plugins.getInfos()).filter(and(jvmPluginPredicate,Predicates.not(sitePluginPredicate))).filter(isNull()).transform(urlFunction);
  assertThat(Iterables.size(jvmUrls),is(0));
  List<String> sitePluginNames=FluentIterable.from(plugins.getInfos()).filter(sitePluginPredicate).transform(nameFunction).toList();
  for (  String expectedSitePluginName : expectedSitePluginNames) {
    assertThat(sitePluginNames,hasItem(expectedSitePluginName));
  }
  List<String> sitePluginDescriptions=FluentIterable.from(plugins.getInfos()).filter(sitePluginPredicate).transform(descriptionFunction).toList();
  for (  String sitePluginDescription : expectedSitePluginDescriptions) {
    assertThat(sitePluginDescriptions,hasItem(sitePluginDescription));
  }
  List<String> sitePluginUrls=FluentIterable.from(plugins.getInfos()).filter(sitePluginPredicate).transform(urlFunction).toList();
  assertThat(sitePluginUrls,not(contains(nullValue())));
  List<String> sitePluginVersions=FluentIterable.from(plugins.getInfos()).filter(sitePluginPredicate).transform(versionFunction).toList();
  for (  String pluginVersion : expectedSiteVersions) {
    assertThat(sitePluginVersions,hasItem(pluginVersion));
  }
  List<Boolean> sitePluginIsolations=FluentIterable.from(plugins.getInfos()).filter(sitePluginPredicate).transform(isolationFunction).toList();
  for (  Boolean pluginIsolation : expectedSiteIsolations) {
    assertThat(sitePluginIsolations,hasItem(pluginIsolation));
  }
}
