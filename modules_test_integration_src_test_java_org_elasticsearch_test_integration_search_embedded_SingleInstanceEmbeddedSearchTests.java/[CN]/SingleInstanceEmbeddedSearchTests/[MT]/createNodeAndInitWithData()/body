{
  startNode("server1");
  client("server1").admin().indices().prepareCreate("test").setSettings(settingsBuilder().put("number_of_shards",1).put("number_of_replicas",0)).execute().actionGet();
  client("server1").admin().cluster().prepareHealth().setWaitForGreenStatus().execute().actionGet();
  index(client("server1"),"1","test1",1);
  index(client("server1"),"2","test2",2);
  index(client("server1"),"3","test3",2);
  index(client("server1"),"4","test4",2);
  index(client("server1"),"5","test5",2);
  client("server1").admin().indices().refresh(refreshRequest("test")).actionGet();
  searchService=((InternalNode)node("server1")).injector().getInstance(SearchService.class);
  searchPhaseController=((InternalNode)node("server1")).injector().getInstance(SearchPhaseController.class);
}
