{
  MergeContext mergeContext=new MergeContext(this,mergeFlags);
  rootObjectMapper.merge(mergeWith.rootObjectMapper,mergeContext);
  for (  Map.Entry<Class<? extends RootMapper>,RootMapper> entry : rootMappers.entrySet()) {
    if (entry.getValue().includeInObject()) {
      continue;
    }
    RootMapper mergeWithRootMapper=mergeWith.rootMappers.get(entry.getKey());
    if (mergeWithRootMapper != null) {
      entry.getValue().merge(mergeWithRootMapper,mergeContext);
    }
  }
  if (!mergeFlags.simulate()) {
    if (!mergeContext.newFieldMappers().mappers.isEmpty()) {
      addFieldMappers(mergeContext.newFieldMappers().mappers);
    }
    if (!mergeContext.newObjectMappers().mappers.isEmpty()) {
      addObjectMappers(mergeContext.newObjectMappers().mappers);
    }
    meta=mergeWith.meta();
    refreshSource();
  }
  return new MergeResult(mergeContext.buildConflicts());
}
