{
synchronized (mutex) {
    objectMappers=MapBuilder.newMapBuilder(objectMappers).put(objectMapper.fullPath(),objectMapper).immutableMap();
    if (objectMapper.nested().isNested()) {
      hasNestedObjects=true;
    }
  }
  for (  ObjectMapperListener objectMapperListener : objectMapperListeners) {
    objectMapperListener.objectMapper(objectMapper);
  }
}
