{
  if (elementsToAdd instanceof Collection) {
    @SuppressWarnings("unchecked") Collection<? extends T> c=(Collection<? extends T>)elementsToAdd;
    return addTo.addAll(c);
  }
  return Iterators.addAll(addTo,elementsToAdd.iterator());
}
