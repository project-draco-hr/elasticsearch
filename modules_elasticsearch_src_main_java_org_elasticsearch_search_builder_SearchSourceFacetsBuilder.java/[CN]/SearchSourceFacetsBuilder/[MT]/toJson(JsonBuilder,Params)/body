{
  if (queryExecution == null && queryFacets == null) {
    return;
  }
  builder.field("facets");
  builder.startObject();
  if (queryExecution != null) {
    builder.field("queryExecution",queryExecution);
  }
  if (queryFacets != null) {
    for (    FacetQuery facetQuery : queryFacets) {
      builder.startObject(facetQuery.name());
      builder.field("query");
      facetQuery.queryBuilder().toJson(builder,params);
      if (facetQuery.global() != null) {
        builder.field("global",facetQuery.global());
      }
      builder.endObject();
    }
  }
  builder.endObject();
}
