{
  long elements=SizeValue.parseSizeValue("100m").singles();
  BloomFilter filter=BloomFilterFactory.getFilter(elements,15);
  System.out.println("Filter size: " + new ByteSizeValue(filter.sizeInBytes()));
  for (long i=0; i < elements; i++) {
    byte[] utf8s=UUID.randomBase64UUID().getBytes("UTF8");
    filter.add(utf8s,0,utf8s.length);
  }
  long falsePositives=0;
  for (long i=0; i < elements; i++) {
    byte[] utf8s=UUID.randomBase64UUID().getBytes("UTF8");
    if (filter.isPresent(utf8s,0,utf8s.length)) {
      falsePositives++;
    }
  }
  System.out.println("false positives: " + falsePositives);
  byte[] utf8s=UUID.randomBase64UUID().getBytes("UTF8");
  long time=System.currentTimeMillis();
  for (long i=0; i < elements; i++) {
    if (filter.isPresent(utf8s,0,utf8s.length)) {
    }
  }
  long timeSize=System.currentTimeMillis() - time;
  System.out.println("Indexed in " + new TimeValue(timeSize) + ", TPS: "+ (elements / timeSize)+ " per millisecond");
}
