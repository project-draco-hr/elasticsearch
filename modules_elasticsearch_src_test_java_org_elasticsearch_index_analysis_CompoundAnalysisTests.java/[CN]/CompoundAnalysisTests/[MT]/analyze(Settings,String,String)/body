{
  Index index=new Index("test");
  Injector injector=new ModulesBuilder().add(new IndexSettingsModule(index,settings),new IndexNameModule(index),new AnalysisModule(settings)).createInjector();
  AnalysisService analysisService=injector.getInstance(AnalysisService.class);
  Analyzer analyzer=analysisService.analyzer(analyzerName).analyzer();
  AllEntries allEntries=new AllEntries();
  allEntries.addText("field1",text,1.0f);
  allEntries.reset();
  TokenStream stream=AllTokenStream.allTokenStream("_all",allEntries,analyzer);
  TermAttribute termAtt=stream.addAttribute(TermAttribute.class);
  List<String> terms=new ArrayList<String>();
  while (stream.incrementToken()) {
    String tokText=termAtt.term();
    terms.add(tokText);
  }
  return terms;
}
