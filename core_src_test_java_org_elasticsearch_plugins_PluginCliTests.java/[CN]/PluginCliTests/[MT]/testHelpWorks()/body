{
  MockTerminal terminal=new MockTerminal();
  assertThat(new PluginCli(terminal).execute(args("--help")),is(OK_AND_EXIT));
  assertTerminalOutputContainsHelpFile(terminal,"/org/elasticsearch/plugins/plugin.help");
  terminal.resetOutput();
  assertThat(new PluginCli(terminal).execute(args("install -h")),is(OK_AND_EXIT));
  assertTerminalOutputContainsHelpFile(terminal,"/org/elasticsearch/plugins/plugin-install.help");
  for (  String plugin : InstallPluginCommand.OFFICIAL_PLUGINS) {
    assertThat(terminal.getOutput(),containsString(plugin));
  }
  terminal.resetOutput();
  assertThat(new PluginCli(terminal).execute(args("remove --help")),is(OK_AND_EXIT));
  assertTerminalOutputContainsHelpFile(terminal,"/org/elasticsearch/plugins/plugin-remove.help");
  terminal.resetOutput();
  assertThat(new PluginCli(terminal).execute(args("list -h")),is(OK_AND_EXIT));
  assertTerminalOutputContainsHelpFile(terminal,"/org/elasticsearch/plugins/plugin-list.help");
}
