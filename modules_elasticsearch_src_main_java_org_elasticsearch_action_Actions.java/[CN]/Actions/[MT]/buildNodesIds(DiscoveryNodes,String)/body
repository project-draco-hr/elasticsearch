{
  if (isAllNodes(nodesIds)) {
    int index=0;
    nodesIds=new String[nodes.size()];
    for (    DiscoveryNode node : nodes) {
      nodesIds[index++]=node.id();
    }
    return nodesIds;
  }
 else {
    String[] resolvedNodesIds=new String[nodesIds.length];
    for (int i=0; i < nodesIds.length; i++) {
      if (nodesIds[i].equals("_local")) {
        resolvedNodesIds[i]=nodes.localNodeId();
      }
 else       if (nodesIds[i].equals("_master")) {
        resolvedNodesIds[i]=nodes.masterNodeId();
      }
 else {
        resolvedNodesIds[i]=nodesIds[i];
      }
    }
    return resolvedNodesIds;
  }
}
