{
  if (reserved.usesScore()) {
    Variable scorer=locals.getVariable(null,ExecuteReserved.SCORER);
    Variable score=locals.getVariable(null,ExecuteReserved.SCORE);
    writer.visitVarInsn(Opcodes.ALOAD,scorer.slot);
    writer.invokeVirtual(WriterConstants.SCORER_TYPE,WriterConstants.SCORER_SCORE);
    writer.visitInsn(Opcodes.F2D);
    writer.visitVarInsn(Opcodes.DSTORE,score.slot);
  }
  if (reserved.usesCtx()) {
    Variable input=locals.getVariable(null,ExecuteReserved.PARAMS);
    Variable ctx=locals.getVariable(null,ExecuteReserved.CTX);
    writer.visitVarInsn(Opcodes.ALOAD,input.slot);
    writer.push(ExecuteReserved.CTX);
    writer.invokeInterface(MAP_TYPE,MAP_GET);
    writer.visitVarInsn(Opcodes.ASTORE,ctx.slot);
  }
  if (reserved.getMaxLoopCounter() > 0) {
    Variable loop=locals.getVariable(null,ExecuteReserved.LOOP);
    writer.push(reserved.getMaxLoopCounter());
    writer.visitVarInsn(Opcodes.ISTORE,loop.slot);
  }
  for (  AStatement statement : statements) {
    statement.write(writer);
  }
  if (!methodEscape) {
    writer.visitInsn(Opcodes.ACONST_NULL);
    writer.returnValue();
  }
}
