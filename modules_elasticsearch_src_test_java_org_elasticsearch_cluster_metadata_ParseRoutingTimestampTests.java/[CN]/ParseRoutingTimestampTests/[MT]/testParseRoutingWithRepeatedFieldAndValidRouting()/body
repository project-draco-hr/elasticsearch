{
  MappingMetaData md=new MappingMetaData("type1",new CompressedString(""),new MappingMetaData.Routing(true,"field1.field2"),new MappingMetaData.Timestamp(true,"field1","dateOptionalTime"));
  byte[] bytes=jsonBuilder().startObject().field("aaa","wr").array("arr1","1","2","3").field("field1","foo").startObject("field1").field("field2","bar").endObject().field("test","value").field("zzz","wr").endObject().copiedBytes();
  Tuple<String,String> parsed=md.parseRoutingAndTimestamp(XContentFactory.xContent(bytes).createParser(bytes),true,true);
  assertThat(parsed.v1(),equalTo("bar"));
  assertThat(parsed.v2(),equalTo("foo"));
}
