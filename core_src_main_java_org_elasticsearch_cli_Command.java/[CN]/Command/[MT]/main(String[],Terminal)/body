{
  final OptionSet options;
  try {
    options=parser.parse(args);
  }
 catch (  OptionException e) {
    printHelp(terminal);
    terminal.println(Terminal.Verbosity.SILENT,"ERROR: " + e.getMessage());
    return ExitCodes.USAGE;
  }
  if (options.has(helpOption)) {
    printHelp(terminal);
    return ExitCodes.OK;
  }
  if (options.has(silentOption)) {
    if (options.has(verboseOption)) {
      printHelp(terminal);
      terminal.println(Terminal.Verbosity.SILENT,"ERROR: Cannot specify -s and -v together");
      return ExitCodes.USAGE;
    }
    terminal.setVerbosity(Terminal.Verbosity.SILENT);
  }
 else   if (options.has(verboseOption)) {
    terminal.setVerbosity(Terminal.Verbosity.VERBOSE);
  }
 else {
    terminal.setVerbosity(Terminal.Verbosity.NORMAL);
  }
  try {
    return execute(terminal,options);
  }
 catch (  UserError e) {
    terminal.println(Terminal.Verbosity.SILENT,"ERROR: " + e.getMessage());
    return e.exitCode;
  }
}
