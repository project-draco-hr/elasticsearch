{
  InternalSearchResponse internalResponse=new InternalSearchResponse(null,null,null,null,true,null);
  new DummyAbstractAsyncBulkByScrollAction().onScrollResponse(timeValueNanos(System.nanoTime()),0,new SearchResponse(internalResponse,scrollId(),5,4,randomLong(),new ShardSearchFailure[0]));
  BulkIndexByScrollResponse response=listener.get();
  assertThat(response.getIndexingFailures(),emptyCollectionOf(Failure.class));
  assertThat(response.getSearchFailures(),emptyCollectionOf(ShardSearchFailure.class));
  assertTrue(response.isTimedOut());
  assertNull(response.getReasonCancelled());
  assertThat(client.scrollsCleared,contains(scrollId));
}
