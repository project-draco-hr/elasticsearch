{
  DummyAbstractAsyncBulkByScrollAction action=new DummyAbstractAsyncBulkByScrollAction();
  testRequest.setRequestsPerSecond(0);
  assertThat((double)action.perfectlyThrottledBatchTime(randomInt()),closeTo(0f,0f));
  int total=between(0,1000000);
  testTask.rethrottle(1);
  assertThat((double)action.perfectlyThrottledBatchTime(total),closeTo(TimeUnit.SECONDS.toNanos(total),TimeUnit.SECONDS.toNanos(1)));
}
