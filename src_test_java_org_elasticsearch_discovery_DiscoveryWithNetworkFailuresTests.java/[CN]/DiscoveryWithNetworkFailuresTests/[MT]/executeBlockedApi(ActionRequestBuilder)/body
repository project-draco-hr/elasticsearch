{
  try {
    logger.info("verifying request[{}] on isolated [{}] and fail",builder.getClass().getSimpleName());
    builder.get();
    fail();
  }
 catch (  ClusterBlockException exception) {
    assertThat(exception.status(),equalTo(RestStatus.SERVICE_UNAVAILABLE));
    assertThat(exception.blocks().size(),equalTo(1));
    ClusterBlock clusterBlock=exception.blocks().iterator().next();
    assertThat(clusterBlock.id(),equalTo(DiscoverySettings.NO_MASTER_BLOCK_ID));
  }
}
