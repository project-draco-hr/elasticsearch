{
  String value=settings.get("stopwords");
  if (value != null) {
    if ("_none_".equals(value)) {
      return CharArraySet.EMPTY_SET;
    }
 else {
      return new CharArraySet(version,Strings.commaDelimitedListToSet(value),settings.getAsBoolean("stopwords_case",false));
    }
  }
  String[] stopWords=settings.getAsArray("stopwords",null);
  if (stopWords != null) {
    CharArraySet setStopWords=new CharArraySet(version,stopWords.length,settings.getAsBoolean("stopwords_case",false));
    for (    String stopWord : stopWords) {
      if (namedStopWords.containsKey(stopWord)) {
        setStopWords.addAll(namedStopWords.get(stopWord));
      }
 else {
        setStopWords.add(stopWord);
      }
    }
    return setStopWords;
  }
  List<String> pathLoadedStopWords=getWordList(env,settings,"stopwords");
  if (pathLoadedStopWords != null) {
    CharArraySet setStopWords=new CharArraySet(version,pathLoadedStopWords.size(),settings.getAsBoolean("stopwords_case",false));
    for (    String stopWord : pathLoadedStopWords) {
      if (namedStopWords.containsKey(stopWord)) {
        setStopWords.addAll(namedStopWords.get(stopWord));
      }
 else {
        setStopWords.add(stopWord);
      }
    }
    return setStopWords;
  }
  return defaultStopWords;
}
