{
  client().prepareIndex("test","s","1").setSource("field1","value1","field2","value2").setRefresh(true).get();
  ensureYellow();
  logger.info("regular");
  assertHitCount(client().prepareSearch("test").setQuery(queryStringQuery("value1").field("field1").field("field2")).get(),1);
  assertHitCount(client().prepareSearch("test").setQuery(queryStringQuery("field\\*:value1")).get(),1);
  logger.info("prefix");
  assertHitCount(client().prepareSearch("test").setQuery(queryStringQuery("value*").field("field1").field("field2")).get(),1);
  assertHitCount(client().prepareSearch("test").setQuery(queryStringQuery("field\\*:value*")).get(),1);
  logger.info("wildcard");
  assertHitCount(client().prepareSearch("test").setQuery(queryStringQuery("v?lue*").field("field1").field("field2")).get(),1);
  assertHitCount(client().prepareSearch("test").setQuery(queryStringQuery("field\\*:v?lue*")).get(),1);
  logger.info("fuzzy");
  assertHitCount(client().prepareSearch("test").setQuery(queryStringQuery("value~").field("field1").field("field2")).get(),1);
  assertHitCount(client().prepareSearch("test").setQuery(queryStringQuery("field\\*:value~")).get(),1);
  logger.info("regexp");
  assertHitCount(client().prepareSearch("test").setQuery(queryStringQuery("/value[01]/").field("field1").field("field2")).get(),1);
  assertHitCount(client().prepareSearch("test").setQuery(queryStringQuery("field\\*:/value[01]/")).get(),1);
}
