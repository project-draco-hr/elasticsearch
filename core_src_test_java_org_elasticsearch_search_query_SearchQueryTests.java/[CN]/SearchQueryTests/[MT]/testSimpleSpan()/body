{
  createIndex("test");
  indexRandom(true,client().prepareIndex("test","test","1").setSource("description","foo other anything bar"),client().prepareIndex("test","test","2").setSource("description","foo other anything"),client().prepareIndex("test","test","3").setSource("description","foo other"),client().prepareIndex("test","test","4").setSource("description","foo"));
  SearchResponse searchResponse=client().prepareSearch("test").setQuery(spanOrQuery().clause(spanTermQuery("description","bar"))).get();
  assertHitCount(searchResponse,1l);
  searchResponse=client().prepareSearch("test").setQuery(spanNearQuery(3).clause(spanTermQuery("description","foo")).clause(spanTermQuery("description","other"))).get();
  assertHitCount(searchResponse,3l);
}
