{
  SearchResponse response=client().prepareSearch("idx").addAggregation(geoBounds("geoBounds").field(SINGLE_VALUED_FIELD_NAME).wrapLongitude(false)).execute().actionGet();
  assertSearchResponse(response);
  GeoBounds geoBounds=response.getAggregations().get("geoBounds");
  assertThat(geoBounds,notNullValue());
  assertThat(geoBounds.getName(),equalTo("geoBounds"));
  GeoPoint topLeft=geoBounds.topLeft();
  GeoPoint bottomRight=geoBounds.bottomRight();
  assertThat(topLeft.lat(),equalTo(singleTopLeft.lat()));
  assertThat(topLeft.lon(),equalTo(singleTopLeft.lon()));
  assertThat(bottomRight.lat(),equalTo(singleBottomRight.lat()));
  assertThat(bottomRight.lon(),equalTo(singleBottomRight.lon()));
}
