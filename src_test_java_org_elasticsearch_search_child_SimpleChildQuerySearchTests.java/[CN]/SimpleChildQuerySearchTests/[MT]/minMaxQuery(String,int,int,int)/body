{
  return client().prepareSearch("test").setQuery(QueryBuilders.hasChildQuery("child",QueryBuilders.functionScoreQuery(constantScoreQuery(FilterBuilders.termFilter("foo","two"))).boostMode("replace").scoreMode("sum").add(FilterBuilders.matchAllFilter(),factorFunction(1)).add(FilterBuilders.termFilter("foo","three"),factorFunction(1)).add(FilterBuilders.termFilter("foo","four"),factorFunction(1))).scoreType(scoreType).minChildren(minChildren).maxChildren(maxChildren).setShortCircuitCutoff(cutoff)).addSort("_score",SortOrder.DESC).addSort("id",SortOrder.ASC).get();
}
