{
  if (uidToScore == null) {
    throw new ElasticSearchIllegalStateException("has_parent query hasn't executed properly");
  }
  if (uidToScore.isEmpty()) {
    return Queries.NO_MATCH_QUERY.createWeight(searcher);
  }
  return new ChildWeight(rewrittenParentQuery.createWeight(searcher));
}
