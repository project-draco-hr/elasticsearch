{
  while (true) {
    currentChildDoc=childrenIterator.nextDoc();
    if (currentChildDoc == DocIdSetIterator.NO_MORE_DOCS) {
      return currentChildDoc;
    }
    int ord=(int)ordinals.getOrd(currentChildDoc);
    if (ord == Ordinals.MISSING_ORDINAL) {
      continue;
    }
    if (!seenOrdinals.get(ord)) {
      seenOrdinals.set(ord);
      long parentIdx=parentIds.find(bytesValues.getValueByOrd(ord),bytesValues.currentValueHash());
      if (parentIdx != -1) {
        currentScore=scores.get(parentIdx);
        parentIdsIndex.set(ord,parentIdx);
        return currentChildDoc;
      }
    }
 else {
      long parentIdx=parentIdsIndex.get(ord);
      if (parentIdx != -1) {
        currentScore=scores.get(parentIdx);
        return currentChildDoc;
      }
    }
  }
}
