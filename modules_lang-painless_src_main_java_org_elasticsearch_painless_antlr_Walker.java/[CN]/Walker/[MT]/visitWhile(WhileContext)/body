{
  if (settings.getMaxLoopCounter() > 0) {
    reserved.usesLoop();
  }
  AExpression expression=(AExpression)visitExpression(ctx.expression());
  if (ctx.trailer() != null) {
    SBlock block=(SBlock)visit(ctx.trailer());
    return new SWhile(location(ctx),settings.getMaxLoopCounter(),expression,block);
  }
 else   if (ctx.empty() != null) {
    return new SWhile(location(ctx),settings.getMaxLoopCounter(),expression,null);
  }
 else {
    throw location(ctx).createError(new IllegalStateException(" Illegal tree structure."));
  }
}
