{
  final List<AExpression> arguments=new ArrayList<>();
  if (ctx.arguments() != null) {
    for (    final ExpressionContext expression : ctx.arguments().expression()) {
      arguments.add((AExpression)visit(expression));
    }
    links.add(new LNewObj(location(ctx),ctx.identifier().getText(),arguments));
  }
 else   if (ctx.expression().size() > 0) {
    for (    final ExpressionContext expression : ctx.expression()) {
      arguments.add((AExpression)visit(expression));
    }
    links.add(new LNewArray(location(ctx),ctx.identifier().getText(),arguments));
  }
 else {
    throw new IllegalStateException("Error " + location(ctx) + ": Unexpected state.");
  }
  if (ctx.linkdot() != null) {
    visitLinkdot(ctx.linkdot(),links);
  }
}
