{
  String json="{\n" + "  \"span_term\" : {\n" + "    \"message1\" : {\n"+ "      \"term\" : \"this\"\n"+ "    },\n"+ "    \"message2\" : {\n"+ "      \"term\" : \"this\"\n"+ "    }\n"+ "  }\n"+ "}";
  try {
    parseQuery(json);
    fail("parseQuery should have failed");
  }
 catch (  ParsingException e) {
    assertEquals("[span_term] query doesn't support multiple fields, found [message1] and [message2]",e.getMessage());
  }
}
