{
  List<XBooleanFilter> booleanFilters=new ArrayList<>();
  booleanFilters.add(createBooleanFilter(newFilterClause(1,'b',MUST,true)));
  for (  XBooleanFilter booleanFilter : booleanFilters) {
    FixedBitSet result=new FixedBitSet(reader.maxDoc());
    result.or(booleanFilter.getDocIdSet(reader.getContext(),reader.getLiveDocs()).iterator());
    assertThat(result.cardinality(),equalTo(2));
    assertThat(result.get(0),equalTo(true));
    assertThat(result.get(1),equalTo(true));
    assertThat(result.get(2),equalTo(false));
  }
  booleanFilters.clear();
  booleanFilters.add(createBooleanFilter(newFilterClause(1,'c',MUST_NOT,true)));
  for (  XBooleanFilter booleanFilter : booleanFilters) {
    FixedBitSet result=new FixedBitSet(reader.maxDoc());
    result.or(booleanFilter.getDocIdSet(reader.getContext(),reader.getLiveDocs()).iterator());
    assertThat(result.cardinality(),equalTo(3));
    assertThat(result.get(0),equalTo(true));
    assertThat(result.get(1),equalTo(true));
    assertThat(result.get(2),equalTo(true));
  }
  booleanFilters.clear();
  booleanFilters.add(createBooleanFilter(newFilterClause(2,'c',SHOULD,true)));
  for (  XBooleanFilter booleanFilter : booleanFilters) {
    FixedBitSet result=new FixedBitSet(reader.maxDoc());
    result.or(booleanFilter.getDocIdSet(reader.getContext(),reader.getLiveDocs()).iterator());
    assertThat(result.cardinality(),equalTo(2));
    assertThat(result.get(0),equalTo(true));
    assertThat(result.get(1),equalTo(true));
    assertThat(result.get(2),equalTo(false));
  }
}
