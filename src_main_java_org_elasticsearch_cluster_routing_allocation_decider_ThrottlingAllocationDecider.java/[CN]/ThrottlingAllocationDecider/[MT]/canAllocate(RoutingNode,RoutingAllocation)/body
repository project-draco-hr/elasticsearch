{
  int currentRecoveries=0;
  for (  MutableShardRouting shard : node) {
    if (shard.state() == ShardRoutingState.INITIALIZING || shard.state() == ShardRoutingState.RELOCATING) {
      currentRecoveries++;
    }
  }
  if (currentRecoveries >= concurrentRecoveries) {
    return allocation.decision(Decision.THROTTLE,"too many shards currently recovering [%d], limit: [%d]",currentRecoveries,concurrentRecoveries);
  }
 else {
    return allocation.decision(Decision.YES,"below shard recovery limit of [%d]",concurrentRecoveries);
  }
}
