{
  add2SingleValuedDocumentsAndDeleteOneOfThem();
  IndexFieldData indexFieldData=getForField("value");
  AtomicReaderContext readerContext=refreshReader();
  AtomicFieldData fieldData=indexFieldData.load(readerContext);
  BytesValues values=fieldData.getBytesValues(randomBoolean());
  for (int i=0; i < fieldData.getNumDocs(); ++i) {
    assertThat(values.setDocument(i),greaterThanOrEqualTo(1));
  }
}
