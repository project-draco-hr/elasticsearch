{
  Node<V>[] tab;
  int sc;
  while ((tab=table) == null) {
    if ((sc=sizeCtl) < 0)     Thread.yield();
 else     if (U.compareAndSwapInt(this,SIZECTL,sc,-1)) {
      try {
        if ((tab=table) == null) {
          int n=(sc > 0) ? sc : DEFAULT_CAPACITY;
          @SuppressWarnings("rawtypes") Node[] tb=new Node[n];
          table=tab=(Node<V>[])tb;
          sc=n - (n >>> 2);
        }
      }
  finally {
        sizeCtl=sc;
      }
      break;
    }
  }
  return tab;
}
