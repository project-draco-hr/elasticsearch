{
  Object k, v, r;
  Map.Entry<?,?> e;
  return ((o instanceof Map.Entry) && (k=(e=(Map.Entry<?,?>)o).getKey()) != null && (r=map.get(k)) != null && (v=e.getValue()) != null && (v == r || v.equals(r)));
}
