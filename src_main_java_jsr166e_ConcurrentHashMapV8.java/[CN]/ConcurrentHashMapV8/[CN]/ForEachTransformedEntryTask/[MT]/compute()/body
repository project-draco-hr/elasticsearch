{
  final Fun<Map.Entry<K,V>,? extends U> transformer;
  final Action<U> action;
  if ((transformer=this.transformer) != null && (action=this.action) != null) {
    for (int b; (b=preSplit()) > 0; )     new ForEachTransformedEntryTask<K,V,U>(map,this,b,transformer,action).fork();
    V v;
    U u;
    while ((v=advance()) != null) {
      if ((u=transformer.apply(entryFor((K)nextKey,v))) != null)       action.apply(u);
    }
    propagateCompletion();
  }
}
