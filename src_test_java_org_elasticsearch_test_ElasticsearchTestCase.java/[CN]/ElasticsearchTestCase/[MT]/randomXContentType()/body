{
  if (globalCompatibilityVersion().onOrAfter(Version.V_1_2_0)) {
    return randomFrom(XContentType.values());
  }
 else {
    XContentType type=randomFrom(XContentType.values());
    while (type == XContentType.CBOR) {
      type=randomFrom(XContentType.values());
    }
    return type;
  }
}
