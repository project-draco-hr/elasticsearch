{
  if (positionOffsetGap > 0) {
    indexAnalyzer=new NamedCustomAnalyzer(indexAnalyzer,positionOffsetGap);
    searchAnalyzer=new NamedCustomAnalyzer(searchAnalyzer,positionOffsetGap);
    searchQuotedAnalyzer=new NamedCustomAnalyzer(searchQuotedAnalyzer,positionOffsetGap);
  }
  if (index == Field.Index.NOT_ANALYZED) {
    if (!omitNormsSet) {
      omitNorms=true;
    }
    if (!indexOptionsSet) {
      indexOptions=IndexOptions.DOCS_ONLY;
    }
  }
  StringFieldMapper fieldMapper=new StringFieldMapper(buildNames(context),index,store,termVector,boost,omitNorms,indexOptions,nullValue,indexAnalyzer,searchAnalyzer,searchQuotedAnalyzer,positionOffsetGap,ignoreAbove);
  fieldMapper.includeInAll(includeInAll);
  return fieldMapper;
}
