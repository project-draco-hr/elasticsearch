{
  StringFieldMapper.Builder builder=stringField(name);
  parseField(builder,name,node,parserContext);
  for (  Map.Entry<String,Object> entry : node.entrySet()) {
    String propName=Strings.toUnderscoreCase(entry.getKey());
    Object propNode=entry.getValue();
    if (propName.equals("null_value")) {
      if (propNode == null) {
        throw new MapperParsingException("Property [null_value] cannot be null.");
      }
      builder.nullValue(propNode.toString());
    }
 else     if (propName.equals("search_quote_analyzer")) {
      NamedAnalyzer analyzer=parserContext.analysisService().analyzer(propNode.toString());
      if (analyzer == null) {
        throw new MapperParsingException("Analyzer [" + propNode.toString() + "] not found for field ["+ name+ "]");
      }
      builder.searchQuotedAnalyzer(analyzer);
    }
 else     if (propName.equals("position_offset_gap")) {
      builder.positionOffsetGap(XContentMapValues.nodeIntegerValue(propNode,-1));
      if (builder.indexAnalyzer == null) {
        builder.indexAnalyzer=parserContext.analysisService().defaultIndexAnalyzer();
      }
      if (builder.searchAnalyzer == null) {
        builder.searchAnalyzer=parserContext.analysisService().defaultSearchAnalyzer();
      }
      if (builder.searchQuotedAnalyzer == null) {
        builder.searchQuotedAnalyzer=parserContext.analysisService().defaultSearchQuoteAnalyzer();
      }
    }
 else     if (propName.equals("ignore_above")) {
      builder.ignoreAbove(XContentMapValues.nodeIntegerValue(propNode,-1));
    }
 else {
      parseMultiField(builder,name,parserContext,propName,propNode);
    }
  }
  return builder;
}
