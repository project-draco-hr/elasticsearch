{
  IndexingStats.Stats total=totalStats.stats();
  Map<String,IndexingStats.Stats> typesSt=null;
  if (types != null && types.length > 0) {
    if (types.length == 1 && types[0].equals("_all")) {
      typesSt=new HashMap<String,IndexingStats.Stats>(typesStats.size());
      for (      Map.Entry<String,StatsHolder> entry : typesStats.entrySet()) {
        typesSt.put(entry.getKey(),entry.getValue().stats());
      }
    }
 else {
      typesSt=new HashMap<String,IndexingStats.Stats>(types.length);
      for (      String type : types) {
        StatsHolder statsHolder=typesStats.get(type);
        if (statsHolder != null) {
          typesSt.put(type,statsHolder.stats());
        }
      }
    }
  }
  return new IndexingStats(total,typesSt);
}
