{
  if (request.recoveryType() == RecoveryState.Type.RELOCATION && shard.routingEntry().primary()) {
    IllegalStateException exception=new IllegalStateException("Can't relocate primary - failing");
    shard.failShard("primary_relocation",exception);
    throw exception;
  }
  logger.trace("{} recovery [phase1] to {}: skipping phase 1 for shared filesystem",request.shardId(),request.targetNode());
  prepareTargetForTranslog(translogView);
}
