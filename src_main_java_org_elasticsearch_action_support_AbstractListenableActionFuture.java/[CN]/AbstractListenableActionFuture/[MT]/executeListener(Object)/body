{
  if (listenerThreaded) {
    if (listener instanceof Runnable) {
      threadPool.generic().execute((Runnable)listener);
    }
 else {
      threadPool.generic().execute(new Runnable(){
        @Override public void run(){
          ActionListener<T> lst=(ActionListener<T>)listener;
          try {
            lst.onResponse(actionGet());
          }
 catch (          ElasticsearchException e) {
            lst.onFailure(e);
          }
        }
      }
);
    }
  }
 else {
    if (listener instanceof Runnable) {
      ((Runnable)listener).run();
    }
 else {
      ActionListener<T> lst=(ActionListener<T>)listener;
      try {
        lst.onResponse(actionGet());
      }
 catch (      ElasticsearchException e) {
        lst.onFailure(e);
      }
    }
  }
}
