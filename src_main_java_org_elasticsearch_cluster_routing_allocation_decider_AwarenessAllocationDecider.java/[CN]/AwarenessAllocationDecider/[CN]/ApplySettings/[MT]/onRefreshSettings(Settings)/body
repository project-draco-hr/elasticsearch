{
  String[] awarenessAttributes=settings.getAsArray(CLUSTER_ROUTING_ALLOCATION_AWARENESS_ATTRIBUTES,null);
  if (awarenessAttributes == null && "".equals(settings.get(CLUSTER_ROUTING_ALLOCATION_AWARENESS_ATTRIBUTES,null))) {
    awarenessAttributes=Strings.EMPTY_ARRAY;
  }
  if (awarenessAttributes != null) {
    logger.info("updating [cluster.routing.allocation.awareness.attributes] from [{}] to [{}]",AwarenessAllocationDecider.this.awarenessAttributes,awarenessAttributes);
    AwarenessAllocationDecider.this.awarenessAttributes=awarenessAttributes;
  }
  Map<String,String[]> forcedAwarenessAttributes=new HashMap<>(AwarenessAllocationDecider.this.forcedAwarenessAttributes);
  Map<String,Settings> forceGroups=settings.getGroups(CLUSTER_ROUTING_ALLOCATION_AWARENESS_FORCE_GROUP);
  if (!forceGroups.isEmpty()) {
    for (    Map.Entry<String,Settings> entry : forceGroups.entrySet()) {
      String[] aValues=entry.getValue().getAsArray("values");
      if (aValues.length > 0) {
        forcedAwarenessAttributes.put(entry.getKey(),aValues);
      }
    }
  }
  AwarenessAllocationDecider.this.forcedAwarenessAttributes=forcedAwarenessAttributes;
}
