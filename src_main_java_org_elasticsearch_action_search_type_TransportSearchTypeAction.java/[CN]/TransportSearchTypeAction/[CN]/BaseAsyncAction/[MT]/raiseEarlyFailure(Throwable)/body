{
  for (  AtomicArray.Entry<FirstResult> entry : firstResults.asList()) {
    try {
      DiscoveryNode node=nodes.get(entry.value.shardTarget().nodeId());
      if (node != null) {
        searchService.sendFreeContext(node,entry.value.id(),request);
      }
    }
 catch (    Throwable t1) {
      logger.trace("failed to release context",t1);
    }
  }
  listener.onFailure(t);
}
