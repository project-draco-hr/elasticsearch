{
  String validQuery=createTestQueryBuilder().toString();
  int endPos=validQuery.indexOf("document");
  if (endPos == -1) {
    endPos=validQuery.length();
  }
  assertThat(validQuery,containsString("{"));
  for (int insertionPosition=0; insertionPosition < endPos; insertionPosition++) {
    if (validQuery.charAt(insertionPosition) == '{') {
      String testQuery=validQuery.substring(0,insertionPosition) + "{ \"newField\" : " + validQuery.substring(insertionPosition)+ "}";
      try {
        parseQuery(testQuery);
        fail("some parsing exception expected for query: " + testQuery);
      }
 catch (      ParsingException|Script.ScriptParseException|ElasticsearchParseException e) {
      }
catch (      JsonParseException e) {
      }
    }
  }
}
