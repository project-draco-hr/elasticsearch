{
  if (!queryBuilder.hasClauses()) {
    return new MatchAllDocsQuery();
  }
  BooleanQuery boolQuery=new BooleanQuery(queryBuilder.disableCoord());
  addBooleanClauses(context,boolQuery,queryBuilder.must(),BooleanClause.Occur.MUST);
  addBooleanClauses(context,boolQuery,queryBuilder.mustNot(),BooleanClause.Occur.MUST_NOT);
  addBooleanClauses(context,boolQuery,queryBuilder.should(),BooleanClause.Occur.SHOULD);
  addBooleanClauses(context,boolQuery,queryBuilder.filter(),BooleanClause.Occur.FILTER);
  if (boolQuery.clauses().isEmpty()) {
    return new MatchAllDocsQuery();
  }
  Queries.applyMinimumShouldMatch(boolQuery,queryBuilder.minimumNumberShouldMatch());
  return queryBuilder.adjustPureNegative() ? fixNegativeQueryIfNeeded(boolQuery) : boolQuery;
}
