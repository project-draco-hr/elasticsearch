{
  File tmpDir=newTempDir();
  File invalidSuffix=new File(tmpDir,loggingConfiguration(randomFrom(LogConfigurator.ALLOWED_SUFFIXES)) + randomInvalidSuffix());
  Files.write("yml: bar",invalidSuffix,StandardCharsets.UTF_8);
  Environment environment=new Environment(ImmutableSettings.builder().put("path.conf",invalidSuffix.getAbsolutePath()).build());
  ImmutableSettings.Builder builder=ImmutableSettings.builder();
  LogConfigurator.resolveConfig(environment,builder);
  Settings logSettings=builder.build();
  assertThat(logSettings.get("yml"),Matchers.nullValue());
}
