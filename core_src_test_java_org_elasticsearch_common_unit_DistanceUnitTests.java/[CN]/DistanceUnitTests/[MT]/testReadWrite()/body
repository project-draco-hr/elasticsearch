{
  for (  DistanceUnit unit : DistanceUnit.values()) {
    try (BytesStreamOutput out=new BytesStreamOutput()){
      unit.writeTo(out);
      try (StreamInput in=StreamInput.wrap(out.bytes())){
        assertThat("Roundtrip serialisation failed.",DistanceUnit.readDistanceUnit(in),equalTo(unit));
      }
     }
   }
}
