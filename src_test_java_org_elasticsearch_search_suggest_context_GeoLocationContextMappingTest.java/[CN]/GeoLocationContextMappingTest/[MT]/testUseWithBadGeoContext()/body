{
  double lon=4d;
  String badLat="W";
  XContentBuilder builder=jsonBuilder().startObject().startArray("location").value(4d).value(badLat).endArray().endObject();
  XContentParser parser=XContentHelper.createParser(builder.bytes());
  parser.nextToken();
  parser.nextToken();
  parser.nextToken();
  HashMap<String,Object> config=new HashMap<>();
  config.put("precision",randomIntBetween(1,12));
  GeolocationContextMapping mapping=GeolocationContextMapping.load("foo",config);
  ElasticsearchParseException expected=null;
  try {
    ContextConfig geoconfig=mapping.parseContext(null,parser);
  }
 catch (  ElasticsearchParseException e) {
    expected=e;
  }
  assertNotNull(expected);
}
