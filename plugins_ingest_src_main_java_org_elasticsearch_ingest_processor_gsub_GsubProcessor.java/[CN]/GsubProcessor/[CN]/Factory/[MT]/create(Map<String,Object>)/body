{
  List<Map<String,String>> gsubConfig=ConfigurationUtils.readList(config,"expressions");
  List<GsubExpression> gsubExpressions=new ArrayList<>();
  for (  Map<String,String> stringObjectMap : gsubConfig) {
    String field=stringObjectMap.get("field");
    if (field == null) {
      throw new IllegalArgumentException("no [field] specified for gsub expression");
    }
    String pattern=stringObjectMap.get("pattern");
    if (pattern == null) {
      throw new IllegalArgumentException("no [pattern] specified for gsub expression");
    }
    String replacement=stringObjectMap.get("replacement");
    if (replacement == null) {
      throw new IllegalArgumentException("no [replacement] specified for gsub expression");
    }
    Pattern searchPattern=Pattern.compile(pattern);
    gsubExpressions.add(new GsubExpression(field,searchPattern,replacement));
  }
  return new GsubProcessor(gsubExpressions);
}
