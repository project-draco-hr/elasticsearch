{
  if (Constants.WINDOWS) {
    try {
      boolean result=Kernel32Library.getInstance().addConsoleCtrlHandler(handler);
      if (result) {
        logger.debug("console ctrl handler correctly set");
      }
 else {
        logger.warn("unknown error " + Native.getLastError() + " when adding console ctrl handler:");
      }
    }
 catch (    NoClassDefFoundError e) {
      logger.warn("JNA not found: native methods and handlers will be disabled.");
    }
catch (    UnsatisfiedLinkError e) {
    }
  }
}
