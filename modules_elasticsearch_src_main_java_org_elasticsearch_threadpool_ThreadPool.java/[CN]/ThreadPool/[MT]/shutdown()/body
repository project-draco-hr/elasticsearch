{
  scheduler.shutdown();
  for (  Executor executor : executors.values()) {
    if (executor instanceof ThreadPoolExecutor) {
      ((ThreadPoolExecutor)executor).shutdown();
    }
  }
}
