{
  Builder builder=geoPointField(name);
  final boolean indexCreatedBeforeV2_0=parserContext.indexVersionCreated().before(Version.V_2_0_0);
  parseField(builder,name,node,parserContext);
  for (Iterator<Map.Entry<String,Object>> iterator=node.entrySet().iterator(); iterator.hasNext(); ) {
    Map.Entry<String,Object> entry=iterator.next();
    String propName=Strings.toUnderscoreCase(entry.getKey());
    Object propNode=entry.getValue();
    if (propName.equals("path") && parserContext.indexVersionCreated().before(Version.V_2_0_0_beta1)) {
      builder.multiFieldPathType(parsePathType(name,propNode.toString()));
      iterator.remove();
    }
 else     if (propName.equals("lat_lon")) {
      builder.enableLatLon(XContentMapValues.nodeBooleanValue(propNode));
      iterator.remove();
    }
 else     if (propName.equals("geohash")) {
      builder.enableGeoHash(XContentMapValues.nodeBooleanValue(propNode));
      iterator.remove();
    }
 else     if (propName.equals("geohash_prefix")) {
      builder.geohashPrefix(XContentMapValues.nodeBooleanValue(propNode));
      if (XContentMapValues.nodeBooleanValue(propNode)) {
        builder.enableGeoHash(true);
      }
      iterator.remove();
    }
 else     if (propName.equals("precision_step")) {
      builder.precisionStep(XContentMapValues.nodeIntegerValue(propNode));
      iterator.remove();
    }
 else     if (propName.equals("geohash_precision")) {
      if (propNode instanceof Integer) {
        builder.geoHashPrecision(XContentMapValues.nodeIntegerValue(propNode));
      }
 else {
        builder.geoHashPrecision(GeoUtils.geoHashLevelsForPrecision(propNode.toString()));
      }
      iterator.remove();
    }
 else     if (propName.equals(Names.IGNORE_MALFORMED)) {
      builder.ignoreMalformed(XContentMapValues.nodeBooleanValue(propNode));
      iterator.remove();
    }
 else     if (indexCreatedBeforeV2_0 && propName.equals("validate")) {
      builder.ignoreMalformed(!XContentMapValues.nodeBooleanValue(propNode));
      iterator.remove();
    }
 else     if (indexCreatedBeforeV2_0 && propName.equals("validate_lon")) {
      builder.ignoreMalformed(!XContentMapValues.nodeBooleanValue(propNode));
      iterator.remove();
    }
 else     if (indexCreatedBeforeV2_0 && propName.equals("validate_lat")) {
      builder.ignoreMalformed(!XContentMapValues.nodeBooleanValue(propNode));
      iterator.remove();
    }
 else     if (propName.equals(Names.COERCE)) {
      builder.coerce(XContentMapValues.nodeBooleanValue(propNode));
      iterator.remove();
    }
 else     if (indexCreatedBeforeV2_0 && propName.equals("normalize")) {
      builder.coerce(XContentMapValues.nodeBooleanValue(propNode));
      iterator.remove();
    }
 else     if (indexCreatedBeforeV2_0 && propName.equals("normalize_lat")) {
      builder.coerce(XContentMapValues.nodeBooleanValue(propNode));
      iterator.remove();
    }
 else     if (indexCreatedBeforeV2_0 && propName.equals("normalize_lon")) {
      builder.coerce(XContentMapValues.nodeBooleanValue(propNode));
      iterator.remove();
    }
 else     if (parseMultiField(builder,name,parserContext,propName,propNode)) {
      iterator.remove();
    }
  }
  return builder;
}
