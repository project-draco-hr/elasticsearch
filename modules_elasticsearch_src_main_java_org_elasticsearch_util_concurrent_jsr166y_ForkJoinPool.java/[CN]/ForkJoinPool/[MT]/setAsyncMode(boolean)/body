{
  workerCountReadFence();
  boolean oldMode=locallyFifo;
  if (oldMode != async) {
    locallyFifo=async;
    workerCountWriteFence();
    for (    ForkJoinWorkerThread w : workers) {
      if (w != null)       w.setAsyncMode(async);
    }
  }
  return oldMode;
}
