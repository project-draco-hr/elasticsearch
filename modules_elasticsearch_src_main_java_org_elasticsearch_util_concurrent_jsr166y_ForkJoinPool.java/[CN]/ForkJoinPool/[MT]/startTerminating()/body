{
  ForkJoinTask<?> task;
  while ((task=submissionQueue.poll()) != null) {
    try {
      task.cancel(false);
    }
 catch (    Throwable ignore) {
    }
  }
  for (  ForkJoinWorkerThread w : workers) {
    if (w != null)     w.shutdown();
  }
  for (  ForkJoinWorkerThread w : workers) {
    if (w != null)     w.cancelTasks();
  }
  advanceEventCount();
  releaseWaiters();
  for (  ForkJoinWorkerThread w : workers) {
    if (w != null && !w.isTerminated()) {
      try {
        w.interrupt();
      }
 catch (      SecurityException ignore) {
      }
    }
  }
}
