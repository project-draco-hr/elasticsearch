{
  checkPermission();
  if (parallelism <= 0 || parallelism > maxPoolSize)   throw new IllegalArgumentException();
  workerCountReadFence();
  int pc=this.parallelism;
  if (pc != parallelism) {
    this.parallelism=parallelism;
    workerCountWriteFence();
    for (    ForkJoinWorkerThread w : workers) {
      if (w != null && w.tryUnsuspend()) {
        updateRunningCount(1);
        LockSupport.unpark(w);
      }
    }
    ensureEnoughTotalWorkers();
    advanceEventCount();
    releaseWaiters();
  }
}
