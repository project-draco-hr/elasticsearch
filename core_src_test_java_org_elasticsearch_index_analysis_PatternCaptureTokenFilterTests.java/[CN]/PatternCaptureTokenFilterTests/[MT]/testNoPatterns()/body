{
  try {
    new PatternCaptureGroupTokenFilterFactory(new IndexSettings(new Index("test"),settingsBuilder().put(IndexMetaData.SETTING_VERSION_CREATED,Version.CURRENT).build(),Collections.EMPTY_LIST),"pattern_capture",settingsBuilder().put("pattern","foobar").build());
    fail("Expected IllegalArgumentException");
  }
 catch (  IllegalArgumentException e) {
    assertThat(e.getMessage(),containsString("required setting 'patterns' is missing"));
  }
}
