{
  this.parent=Objects.requireNonNull(parent,"parent");
  this.lock=(parent == State.NONE) ? this : parent.lock();
}
