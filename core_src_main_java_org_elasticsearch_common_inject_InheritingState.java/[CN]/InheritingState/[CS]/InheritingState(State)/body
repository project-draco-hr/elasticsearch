{
  this.parent=checkNotNull(parent,"parent");
  this.lock=(parent == State.NONE) ? this : parent.lock();
}
