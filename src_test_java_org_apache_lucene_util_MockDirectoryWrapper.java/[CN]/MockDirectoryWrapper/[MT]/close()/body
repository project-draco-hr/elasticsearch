{
  delegate.close();
  if (!openFiles.isEmpty()) {
    throw new IllegalStateException("There are still open files!!! " + openFiles);
  }
}
