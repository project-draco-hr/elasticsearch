{
  Modules.processModules(modules);
  Injector injector=Guice.createInjector(modules);
  Injectors.cleanCaches(injector);
  ((InjectorImpl)injector).readOnlyAllSingletons();
  return injector;
}
