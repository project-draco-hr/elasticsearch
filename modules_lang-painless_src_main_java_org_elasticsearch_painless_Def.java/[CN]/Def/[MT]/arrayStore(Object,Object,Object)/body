{
  if (array instanceof Map) {
    ((Map)array).put(index,value);
  }
 else   if (array.getClass().isArray()) {
    try {
      Array.set(array,(int)index,value);
    }
 catch (    final Throwable throwable) {
      throw new IllegalArgumentException("Error storing value [" + value + "] "+ "in array class ["+ array.getClass().getCanonicalName()+ "].",throwable);
    }
  }
 else   if (array instanceof List) {
    ((List)array).set((int)index,value);
  }
 else {
    throw new IllegalArgumentException("Attempting to address a non-array type " + "[" + array.getClass().getCanonicalName() + "] as an array.");
  }
}
