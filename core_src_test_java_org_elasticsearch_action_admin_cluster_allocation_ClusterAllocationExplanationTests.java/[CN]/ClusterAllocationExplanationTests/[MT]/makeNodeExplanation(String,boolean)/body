{
  Index i=new Index(idxName,"uuid");
  ShardRouting shard=ShardRouting.newUnassigned(i,0,null,false,new UnassignedInfo(UnassignedInfo.Reason.INDEX_CREATED,"foo"));
  IndexMetaData indexMetaData=IndexMetaData.builder(idxName).settings(Settings.builder().put(IndexMetaData.SETTING_VERSION_CREATED,Version.CURRENT).put(IndexMetaData.SETTING_INDEX_UUID,"uuid")).numberOfShards(1).numberOfReplicas(0).build();
  DiscoveryNode node=new DiscoveryNode("node-0",DummyTransportAddress.INSTANCE,emptyMap(),emptySet(),Version.CURRENT);
  Decision.Multi d=new Decision.Multi();
  d.add(Decision.single(Decision.Type.NO,"no label","because I said no"));
  d.add(Decision.single(Decision.Type.YES,"yes label","yes please"));
  d.add(Decision.single(Decision.Type.THROTTLE,"throttle label","wait a sec"));
  Float nodeWeight=randomFloat();
  IndicesShardStoresResponse.StoreStatus storeStatus=new IndicesShardStoresResponse.StoreStatus(node,42,"eggplant",IndicesShardStoresResponse.StoreStatus.AllocationStatus.PRIMARY,new ElasticsearchException("stuff's broke, yo"));
  String assignedNodeId="node-0";
  Set<String> activeAllocationIds=new HashSet<>();
  if (isAssigned) {
    activeAllocationIds.add("eggplant");
  }
  return TransportClusterAllocationExplainAction.calculateNodeExplanation(shard,indexMetaData,node,d,nodeWeight,storeStatus,assignedNodeId,activeAllocationIds);
}
