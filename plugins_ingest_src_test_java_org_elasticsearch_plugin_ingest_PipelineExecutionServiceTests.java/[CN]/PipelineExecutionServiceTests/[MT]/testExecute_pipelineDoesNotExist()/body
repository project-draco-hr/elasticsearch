{
  when(store.get("_id")).thenReturn(null);
  IngestDocument ingestDocument=new IngestDocument("_index","_type","_id",Collections.emptyMap());
  PipelineExecutionService.Listener listener=mock(PipelineExecutionService.Listener.class);
  executionService.execute(ingestDocument,"_id",listener);
  verify(listener).failed(any(IllegalArgumentException.class));
  verify(listener,times(0)).executed(ingestDocument);
}
