{
  internalCluster().wipeTemplates();
  createIndexWithStoreType("test",IndexStoreModule.Type.NIOFS,"least_used");
  String storeString=getStoreDirectory("test",0).toString();
  logger.info(storeString);
  Path[] dataPaths=dataPaths();
  assertThat(storeString.toLowerCase(Locale.ROOT),startsWith("store(least_used[niofs(" + dataPaths[0].toAbsolutePath().toString().toLowerCase(Locale.ROOT)));
  if (dataPaths.length > 1) {
    assertThat(storeString.toLowerCase(Locale.ROOT),containsString("), niofs(" + dataPaths[1].toAbsolutePath().toString().toLowerCase(Locale.ROOT)));
  }
  createIndexWithStoreType("test",IndexStoreModule.Type.NIOFS,"random");
  storeString=getStoreDirectory("test",0).toString();
  logger.info(storeString);
  dataPaths=dataPaths();
  assertThat(storeString.toLowerCase(Locale.ROOT),startsWith("store(random[niofs(" + dataPaths[0].toAbsolutePath().toString().toLowerCase(Locale.ROOT)));
  if (dataPaths.length > 1) {
    assertThat(storeString.toLowerCase(Locale.ROOT),containsString("), niofs(" + dataPaths[1].toAbsolutePath().toString().toLowerCase(Locale.ROOT)));
  }
  createIndexWithStoreType("test",IndexStoreModule.Type.MMAPFS,"least_used");
  storeString=getStoreDirectory("test",0).toString();
  logger.info(storeString);
  dataPaths=dataPaths();
  assertThat(storeString.toLowerCase(Locale.ROOT),startsWith("store(least_used[mmapfs(" + dataPaths[0].toAbsolutePath().toString().toLowerCase(Locale.ROOT)));
  if (dataPaths.length > 1) {
    assertThat(storeString.toLowerCase(Locale.ROOT),containsString("), mmapfs(" + dataPaths[1].toAbsolutePath().toString().toLowerCase(Locale.ROOT)));
  }
  createIndexWithStoreType("test",IndexStoreModule.Type.SIMPLEFS,"least_used");
  storeString=getStoreDirectory("test",0).toString();
  logger.info(storeString);
  dataPaths=dataPaths();
  assertThat(storeString.toLowerCase(Locale.ROOT),startsWith("store(least_used[simplefs(" + dataPaths[0].toAbsolutePath().toString().toLowerCase(Locale.ROOT)));
  if (dataPaths.length > 1) {
    assertThat(storeString.toLowerCase(Locale.ROOT),containsString("), simplefs(" + dataPaths[1].toAbsolutePath().toString().toLowerCase(Locale.ROOT)));
  }
  createIndexWithStoreType("test",IndexStoreModule.Type.DEFAULT,"least_used");
  storeString=getStoreDirectory("test",0).toString();
  logger.info(storeString);
  dataPaths=dataPaths();
  assertThat(storeString.toLowerCase(Locale.ROOT),startsWith("store(least_used[default(mmapfs(" + dataPaths[0].toAbsolutePath().toString().toLowerCase(Locale.ROOT)));
  assertThat(storeString.toLowerCase(Locale.ROOT),containsString("),niofs(" + dataPaths[0].toAbsolutePath().toString().toLowerCase(Locale.ROOT)));
  if (dataPaths.length > 1) {
    assertThat(storeString.toLowerCase(Locale.ROOT),containsString("), default(mmapfs(" + dataPaths[1].toAbsolutePath().toString().toLowerCase(Locale.ROOT)));
  }
}
