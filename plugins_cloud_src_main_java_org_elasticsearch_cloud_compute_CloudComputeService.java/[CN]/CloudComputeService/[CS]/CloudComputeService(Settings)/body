{
  super(settings);
  String type=componentSettings.get("type");
  if (type == null) {
    type=settings.get("cloud.type");
  }
  if ("aws".equalsIgnoreCase(type) || "amazon".equalsIgnoreCase(type)) {
    type="ec2";
  }
 else   if ("rackspace".equalsIgnoreCase(type)) {
    type="cloudservers";
  }
  this.type=type;
  String account=componentSettings.get("account",settings.get("cloud.account"));
  String key=componentSettings.get("key",settings.get("cloud.key"));
  if (type != null) {
    computeServiceContext=new ComputeServiceContextFactory().createContext(type,account,key,JCloudsUtils.buildModules(settings));
    logger.info("Connected to [{}] compute service");
  }
 else {
    computeServiceContext=null;
  }
}
