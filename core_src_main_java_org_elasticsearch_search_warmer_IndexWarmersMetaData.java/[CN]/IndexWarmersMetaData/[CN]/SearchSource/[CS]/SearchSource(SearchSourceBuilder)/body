{
  try (XContentBuilder builder=XContentBuilder.builder(XContentType.JSON.xContent())){
    source.toXContent(builder,ToXContent.EMPTY_PARAMS);
    binary=builder.bytes();
  }
 catch (  IOException ex) {
    throw new ElasticsearchException("failed to generate XContent",ex);
  }
}
