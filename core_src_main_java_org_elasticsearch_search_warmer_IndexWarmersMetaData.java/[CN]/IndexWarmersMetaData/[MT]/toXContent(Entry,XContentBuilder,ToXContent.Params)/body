{
  boolean binary=params.paramAsBoolean("binary",false);
  builder.startObject(entry.name(),XContentBuilder.FieldCaseConversion.NONE);
  builder.field("types",entry.types());
  if (entry.requestCache() != null) {
    builder.field("requestCache",entry.requestCache());
  }
  builder.field("source");
  if (binary) {
    builder.value(entry.source());
  }
 else {
    Map<String,Object> mapping;
    try (XContentParser parser=XContentFactory.xContent(entry.source()).createParser(entry.source())){
      mapping=parser.mapOrdered();
    }
     builder.map(mapping);
  }
  builder.endObject();
}
