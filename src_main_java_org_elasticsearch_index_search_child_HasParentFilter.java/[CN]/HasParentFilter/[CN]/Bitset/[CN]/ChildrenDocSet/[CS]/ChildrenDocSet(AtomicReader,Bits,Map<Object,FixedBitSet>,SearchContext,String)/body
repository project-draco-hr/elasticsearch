{
  super(currentReader.maxDoc(),acceptDocs);
  this.currentTypeCache=context.idCache().reader(currentReader).type(parentType);
  this.currentReader=currentReader;
  this.parentDocs=parentDocs;
  this.readersToTypeCache=new Tuple[context.searcher().getIndexReader().leaves().size()];
  for (int i=0; i < readersToTypeCache.length; i++) {
    AtomicReader reader=context.searcher().getIndexReader().leaves().get(i).reader();
    readersToTypeCache[i]=new Tuple<AtomicReader,IdReaderTypeCache>(reader,context.idCache().reader(reader).type(parentType));
  }
}
