{
  if (parents == null) {
    throw new ElasticSearchIllegalStateException("has_parent filter/query hasn't executed properly");
  }
  IdReaderTypeCache idReaderTypeCache=context.idCache().reader(reader).type(parentType);
  return new ChildrenDocSet(reader,parents,idReaderTypeCache);
}
