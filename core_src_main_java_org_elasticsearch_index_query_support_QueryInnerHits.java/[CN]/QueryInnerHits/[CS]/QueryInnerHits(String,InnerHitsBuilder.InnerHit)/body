{
  BytesStreamOutput out=new BytesStreamOutput();
  try (XContentBuilder builder=XContentFactory.cborBuilder(out)){
    builder.startObject();
    if (name != null) {
      builder.field("name",name);
    }
    if (innerHit != null) {
      innerHit.toXContent(builder,ToXContent.EMPTY_PARAMS);
    }
    builder.endObject();
    this.queryInnerHitsSearchSource=builder.bytes();
  }
 catch (  IOException e) {
    throw new ElasticsearchException("failed to build xcontent",e);
  }
}
