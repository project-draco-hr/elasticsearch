{
  Directory dir=new RAMDirectory();
  IndexWriter indexWriter=new IndexWriter(dir,new IndexWriterConfig(Lucene.VERSION,Lucene.STANDARD_ANALYZER));
  Document doc=new Document();
  NumericField field=new NumericField("int1").setIntValue(1);
  doc.add(field);
  field=new NumericField("int1").setIntValue(2);
  doc.add(field);
  indexWriter.addDocument(doc);
  IndexReader reader=IndexReader.open(indexWriter,true);
  int[] ints=FieldCache.DEFAULT.getInts(reader,"int1");
  assertThat(ints.length,equalTo(1));
  assertThat(ints[0],equalTo(2));
}
