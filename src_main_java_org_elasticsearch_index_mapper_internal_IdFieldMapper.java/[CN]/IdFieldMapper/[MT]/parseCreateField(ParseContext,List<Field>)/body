{
  XContentParser parser=context.parser();
  if (parser.currentName() != null && parser.currentName().equals(Defaults.NAME) && parser.currentToken().isValue()) {
    String id=parser.text();
    if (context.id() != null && !context.id().equals(id)) {
      throw new MapperParsingException("Provided id [" + context.id() + "] does not match the content one ["+ id+ "]");
    }
    context.id(id);
  }
  if (fieldType.indexOptions() != IndexOptions.NONE || fieldType.stored()) {
    fields.add(new Field(names.indexName(),context.id(),fieldType));
  }
  if (hasDocValues()) {
    fields.add(new BinaryDocValuesField(names.indexName(),new BytesRef(context.id())));
  }
}
