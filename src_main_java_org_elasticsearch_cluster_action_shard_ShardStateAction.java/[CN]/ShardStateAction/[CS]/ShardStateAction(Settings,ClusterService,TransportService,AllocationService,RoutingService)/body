{
  super(settings);
  this.clusterService=clusterService;
  this.transportService=transportService;
  this.allocationService=allocationService;
  this.routingService=routingService;
  transportService.registerRequestHandler(SHARD_STARTED_ACTION_NAME,ShardRoutingEntry.class,ThreadPool.Names.SAME,new ShardStartedTransportHandler());
  transportService.registerRequestHandler(SHARD_FAILED_ACTION_NAME,ShardRoutingEntry.class,ThreadPool.Names.SAME,new ShardFailedTransportHandler());
}
