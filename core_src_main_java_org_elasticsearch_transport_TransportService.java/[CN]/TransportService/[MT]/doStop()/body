{
  try {
    transport.stop();
  }
  finally {
    for (    Map.Entry<Long,RequestHolder> entry : clientHandlers.entrySet()) {
      final RequestHolder holderToNotify=clientHandlers.remove(entry.getKey());
      if (holderToNotify != null) {
        threadPool.generic().execute(new Runnable(){
          @Override public void run(){
            holderToNotify.handler().handleException(new TransportException("transport stopped, action: " + holderToNotify.action()));
          }
        }
);
      }
    }
  }
}
