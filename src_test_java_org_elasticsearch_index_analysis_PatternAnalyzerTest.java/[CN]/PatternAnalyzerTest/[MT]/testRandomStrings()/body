{
  Analyzer a=new PatternAnalyzer(Pattern.compile(","),true,StopAnalyzer.ENGLISH_STOP_WORDS_SET);
  final UncaughtExceptionHandler savedHandler=Thread.getDefaultUncaughtExceptionHandler();
  Thread.setDefaultUncaughtExceptionHandler(new Thread.UncaughtExceptionHandler(){
    @Override public void uncaughtException(    Thread thread,    Throwable throwable){
      assumeTrue("not failing due to jre bug ",!isJREBug7104012(throwable));
      savedHandler.uncaughtException(thread,throwable);
    }
  }
);
  try {
    Thread.getDefaultUncaughtExceptionHandler();
    checkRandomData(random(),a,10000 * RANDOM_MULTIPLIER);
  }
 catch (  ArrayIndexOutOfBoundsException ex) {
    assumeTrue("not failing due to jre bug ",!isJREBug7104012(ex));
    throw ex;
  }
 finally {
    Thread.setDefaultUncaughtExceptionHandler(savedHandler);
  }
}
