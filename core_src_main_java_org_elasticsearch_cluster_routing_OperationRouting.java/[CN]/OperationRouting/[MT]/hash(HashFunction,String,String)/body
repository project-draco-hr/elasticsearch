{
  if (type == null || "_all".equals(type)) {
    throw new IllegalArgumentException("Can't route an operation with no type and having type part of the routing (for backward comp)");
  }
  return hashFunction.hash(type,id);
}
