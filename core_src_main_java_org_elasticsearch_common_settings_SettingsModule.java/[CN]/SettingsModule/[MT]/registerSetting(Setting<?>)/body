{
  if (setting.isFiltered()) {
    if (settingsFilterPattern.contains(setting.getKey()) == false) {
      registerSettingsFilter(setting.getKey());
    }
  }
switch (setting.getScope()) {
case CLUSTER:
    if (clusterSettings.containsKey(setting.getKey())) {
      throw new IllegalArgumentException("Cannot register setting [" + setting.getKey() + "] twice");
    }
  clusterSettings.put(setting.getKey(),setting);
break;
case INDEX:
if (indexSettings.containsKey(setting.getKey())) {
throw new IllegalArgumentException("Cannot register setting [" + setting.getKey() + "] twice");
}
indexSettings.put(setting.getKey(),setting);
break;
}
}
