{
  final IndexScopedSettings indexScopedSettings=new IndexScopedSettings(settings,new HashSet<>(this.indexSettings.values()));
  final ClusterSettings clusterSettings=new ClusterSettings(settings,new HashSet<>(this.nodeSettings.values()));
  final Predicate<String> acceptOnlyClusterSettings=TRIBE_CLIENT_NODE_SETTINGS_PREDICATE.negate();
  clusterSettings.validate(settings.filter(acceptOnlyClusterSettings));
  validateTribeSettings(settings,clusterSettings);
  bind(Settings.class).toInstance(settings);
  bind(SettingsFilter.class).toInstance(new SettingsFilter(settings,settingsFilterPattern));
  bind(ClusterSettings.class).toInstance(clusterSettings);
  bind(IndexScopedSettings.class).toInstance(indexScopedSettings);
}
