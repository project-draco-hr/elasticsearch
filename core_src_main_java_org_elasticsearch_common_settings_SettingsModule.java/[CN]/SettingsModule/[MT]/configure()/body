{
  final IndexScopeSettings indexScopeSettings=new IndexScopeSettings(settings,new HashSet<>(this.indexSettings.values()));
  indexScopeSettings.validate(settings.filter(IndexScopeSettings.INDEX_SETTINGS_KEY_PREDICATE));
  bind(Settings.class).toInstance(settings);
  bind(SettingsFilter.class).toInstance(settingsFilter);
  final ClusterSettings clusterSettings=new ClusterSettings(settings,new HashSet<>(this.clusterSettings.values()));
  bind(ClusterSettings.class).toInstance(clusterSettings);
  bind(IndexScopeSettings.class).toInstance(indexScopeSettings);
}
