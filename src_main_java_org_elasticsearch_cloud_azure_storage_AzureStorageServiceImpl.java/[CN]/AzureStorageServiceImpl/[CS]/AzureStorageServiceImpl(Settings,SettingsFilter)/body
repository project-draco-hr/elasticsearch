{
  super(settings);
  settingsFilter.addFilter(new AzureSettingsFilter());
  account=componentSettings.get(Fields.ACCOUNT,settings.get("cloud.azure." + Fields.ACCOUNT_DEPRECATED));
  key=componentSettings.get(Fields.KEY,settings.get("cloud.azure." + Fields.KEY_DEPRECATED));
  blob="http://" + account + ".blob.core.windows.net/";
  try {
    if (account != null) {
      logger.trace("creating new Azure storage client using account [{}], key [{}], blob [{}]",account,key,blob);
      String storageConnectionString="DefaultEndpointsProtocol=http;" + "AccountName=" + account + ";"+ "AccountKey="+ key;
      CloudStorageAccount storageAccount=CloudStorageAccount.parse(storageConnectionString);
      client=storageAccount.createCloudBlobClient();
    }
  }
 catch (  Exception e) {
    logger.error("can not start azure storage client: {}",e.getMessage());
  }
}
