{
  if (!fieldMapper.isGenerated()) {
    return docMapper.sourceMapper().enabled() || fieldMapper.fieldType().stored();
  }
 else {
    if (!fieldMapper.fieldType().stored()) {
      return false;
    }
 else {
      if (ignoreErrorsOnGeneratedFields) {
        return false;
      }
 else {
        throw new ElasticsearchException("Cannot access field " + fieldMapper.name() + " from transaction log. You can only get this field after refresh() has been called.");
      }
    }
  }
}
