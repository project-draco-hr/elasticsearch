{
  if (Files.exists(environment.pluginsFile())) {
    try (DirectoryStream<Path> stream=Files.newDirectoryStream(environment.pluginsFile())){
      for (      Path plugin : stream) {
        String prop=getPluginProperty(plugin.getFileName().toString());
        if (prop != null) {
          if (System.getProperty(prop) != null) {
            throw new IllegalStateException("property: " + prop + " is unexpectedly set: "+ System.getProperty(prop));
          }
          System.setProperty(prop,plugin.toUri().toURL().toString() + "*");
        }
      }
    }
   }
  for (  String plugin : SPECIAL_PLUGINS.keySet()) {
    String prop=getPluginProperty(plugin);
    if (System.getProperty(prop) == null) {
      System.setProperty(prop,"file:/dev/null");
    }
  }
}
