{
  boolean fullId=req.paramAsBoolean("full_id",false);
  DiscoveryNodes nodes=state.getState().nodes();
  Table table=getTableWithHeader(req);
  for (  DiscoveryNode node : nodes) {
    NodeInfo info=nodesInfo.getNodesMap().get(node.id());
    for (    ObjectObjectCursor<String,String> att : node.attributes()) {
      buildRow(fullId,table,node,info,att.key,att.value);
    }
    if (info.getServiceAttributes() != null) {
      for (      Map.Entry<String,String> entry : info.getServiceAttributes().entrySet()) {
        buildRow(fullId,table,node,info,entry.getKey(),entry.getValue());
      }
    }
  }
  return table;
}
