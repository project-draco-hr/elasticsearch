{
  final ExternalMetadata startemd=metadata.getExternalMetadata(ctx);
  if (startemd.token == ADD) {
    final ExpressionMetadata storeemd=metadata.getExpressionMetadata(startemd.storeExpr);
    if (startemd.current.sort == Sort.STRING || storeemd.from.sort == Sort.STRING) {
      writeNewStrings();
      strings.add(startemd.storeExpr);
    }
  }
  final ExtprecContext precctx=ctx.extprec();
  final ExtcastContext castctx=ctx.extcast();
  final ExttypeContext typectx=ctx.exttype();
  final ExtvarContext varctx=ctx.extvar();
  final ExtnewContext newctx=ctx.extnew();
  final ExtstringContext stringctx=ctx.extstring();
  if (precctx != null) {
    visit(precctx);
  }
 else   if (castctx != null) {
    visit(castctx);
  }
 else   if (typectx != null) {
    visit(typectx);
  }
 else   if (varctx != null) {
    visit(varctx);
  }
 else   if (newctx != null) {
    visit(newctx);
  }
 else   if (stringctx != null) {
    visit(stringctx);
  }
 else {
    throw new IllegalStateException();
  }
  return null;
}
