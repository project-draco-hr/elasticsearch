{
  if (!enabled) {
    return null;
  }
  if (store == Field.Store.NO) {
    return null;
  }
  if (context.flyweight()) {
    return null;
  }
  byte[] data=context.source();
  if (compress != null && compress && !LZF.isCompressed(data)) {
    if (compressThreshold == -1 || data.length > compressThreshold) {
      data=LZFEncoder.encode(data,data.length);
      context.source(data);
    }
  }
  return new Field(names().indexName(),data);
}
