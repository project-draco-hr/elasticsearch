{
  CustomMemoryIndex memoryIndex=new CustomMemoryIndex();
  memoryIndex.addField("field1","value1",Lucene.KEYWORD_ANALYZER);
  memoryIndex.addField("field1","value2",Lucene.KEYWORD_ANALYZER);
  IndexSearcher searcher=memoryIndex.createSearcher();
  assertThat(searcher.search(new TermQuery(new Term("field1","value1")),10).totalHits,equalTo(1));
  assertThat(searcher.search(new TermQuery(new Term("field1","value2")),10).totalHits,equalTo(1));
}
