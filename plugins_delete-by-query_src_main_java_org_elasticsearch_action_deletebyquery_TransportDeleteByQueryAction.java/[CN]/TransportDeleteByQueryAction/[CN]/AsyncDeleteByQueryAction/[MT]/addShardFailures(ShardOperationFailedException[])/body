{
  if (!CollectionUtils.isEmpty(failures)) {
    ShardOperationFailedException[] duplicates=new ShardOperationFailedException[shardFailures.length + failures.length];
    System.arraycopy(shardFailures,0,duplicates,0,shardFailures.length);
    System.arraycopy(failures,0,duplicates,shardFailures.length,failures.length);
    shardFailures=ExceptionsHelper.groupBy(duplicates);
  }
}
