{
  try {
    logger.trace("execution of scroll request failed: {}",failure.getMessage());
    for (    SearchHit doc : docs) {
      IndexDeleteByQueryResponse indexCounter=results.get(doc.index());
      if (indexCounter == null) {
        indexCounter=new IndexDeleteByQueryResponse(doc.index());
      }
      indexCounter.incrementFound();
      indexCounter.incrementFailed();
      results.put(doc.getIndex(),indexCounter);
    }
    logger.trace("scrolling document terminated due to scroll request failure [{}]",scrollId);
    finishHim(scrollId,hasTimedOut(),failure);
  }
 catch (  Throwable t) {
    logger.error("unable to process bulk failure",t);
    finishHim(scrollId,false,t);
  }
}
