{
  this.request=request;
  this.listener=listener;
  clusterState=clusterService.state();
  String[] nodesIds=clusterState.nodes().resolveNodes(request.nodesIds());
  this.nodesIds=filterNodeIds(clusterState.nodes(),nodesIds);
  this.responses=new AtomicReferenceArray<Object>(this.nodesIds.length);
}
