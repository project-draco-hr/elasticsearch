{
  metaDataMappingService.updateMapping(request.index(),request.type(),request.mappingSource(),new MetaDataMappingService.Listener(){
    @Override public void onResponse(    MetaDataMappingService.Response response){
      listener.onResponse(new MappingUpdatedResponse());
    }
    @Override public void onFailure(    Throwable t){
      logger.warn("failed to dynamically update the mapping in cluster_state from shard",t);
      listener.onFailure(t);
    }
  }
);
}
