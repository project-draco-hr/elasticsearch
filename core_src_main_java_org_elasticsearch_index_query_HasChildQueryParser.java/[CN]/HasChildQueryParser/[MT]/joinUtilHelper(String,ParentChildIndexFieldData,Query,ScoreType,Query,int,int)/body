{
  ScoreMode scoreMode;
switch (scoreType) {
case NONE:
    scoreMode=ScoreMode.None;
  break;
case MIN:
scoreMode=ScoreMode.Min;
break;
case MAX:
scoreMode=ScoreMode.Max;
break;
case SUM:
scoreMode=ScoreMode.Total;
break;
case AVG:
scoreMode=ScoreMode.Avg;
break;
default :
throw new UnsupportedOperationException("score type [" + scoreType + "] not supported");
}
if (maxChildren == 0) {
maxChildren=Integer.MAX_VALUE;
}
return new LateParsingQuery(toQuery,innerQuery,minChildren,maxChildren,parentType,scoreMode,parentChildIndexFieldData);
}
