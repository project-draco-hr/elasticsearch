{
  IndexSearcher indexSearcher=new IndexSearcher(reader);
  indexSearcher.setQueryCache(null);
  String joinField=ParentFieldMapper.joinField(parentType);
  IndexParentChildFieldData indexParentChildFieldData=parentChildIndexFieldData.loadGlobal(indexSearcher.getIndexReader());
  MultiDocValues.OrdinalMap ordinalMap=ParentChildIndexFieldData.getOrdinalMap(indexParentChildFieldData,parentType);
  return JoinUtil.createJoinQuery(joinField,innerQuery,toQuery,indexSearcher,scoreMode,ordinalMap,minChildren,maxChildren);
}
