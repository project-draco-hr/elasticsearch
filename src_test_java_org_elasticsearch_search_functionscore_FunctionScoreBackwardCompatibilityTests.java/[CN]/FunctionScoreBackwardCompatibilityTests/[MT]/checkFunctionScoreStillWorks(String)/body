{
  SearchResponse response=client().search(searchRequest().source(searchSource().query(functionScoreQuery(termFilter("text","value")).add(gaussDecayFunction("loc",new GeoPoint(10,20),"1000km")).add(fieldValueFactorFunction("popularity").modifier(FieldValueFactorFunction.Modifier.LN)).add(scriptFunction("_index['text']['value'].tf()"))))).actionGet();
  assertSearchResponse(response);
  assertOrderedSearchHits(response,ids);
}
