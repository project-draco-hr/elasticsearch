{
  MapMaker mapMaker=new MapMaker().softValues();
  if (maxSize != -1) {
    mapMaker.maximumSize(maxSize);
  }
  if (expire != null && expire.nanos() > 0) {
    mapMaker.expireAfterAccess(expire.nanos(),TimeUnit.NANOSECONDS);
  }
  mapMaker.evictionListener(this);
  return mapMaker.makeMap();
}
