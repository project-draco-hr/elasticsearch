{
  when(store.get("_id")).thenReturn(null);
  IndexRequest indexRequest=new IndexRequest("_index","_type","_id").source(Collections.emptyMap());
  @SuppressWarnings("unchecked") Consumer<Throwable> failureHandler=mock(Consumer.class);
  @SuppressWarnings("unchecked") Consumer<Boolean> completionHandler=mock(Consumer.class);
  try {
    executionService.execute(indexRequest,"_id",failureHandler,completionHandler);
    fail("IllegalArgumentException expected");
  }
 catch (  IllegalArgumentException e) {
    assertThat(e.getMessage(),equalTo("pipeline with id [_id] does not exist"));
  }
  verify(failureHandler,never()).accept(Matchers.any(Throwable.class));
  verify(completionHandler,never()).accept(Matchers.anyBoolean());
}
