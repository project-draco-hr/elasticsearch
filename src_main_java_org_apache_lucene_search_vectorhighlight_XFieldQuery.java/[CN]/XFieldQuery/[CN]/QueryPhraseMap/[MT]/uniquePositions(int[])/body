{
  int uniqueCount=1;
  for (int i=1; i < positions.length; ++i) {
    if (positions[i] != positions[i - 1]) {
      ++uniqueCount;
    }
  }
  if (uniqueCount == positions.length) {
    return positions;
  }
  int[] result=new int[uniqueCount];
  result[0]=positions[0];
  for (int i=1, j=1; i < positions.length; ++i) {
    if (positions[i] != positions[i - 1]) {
      result[j++]=positions[i];
    }
  }
  return result;
}
