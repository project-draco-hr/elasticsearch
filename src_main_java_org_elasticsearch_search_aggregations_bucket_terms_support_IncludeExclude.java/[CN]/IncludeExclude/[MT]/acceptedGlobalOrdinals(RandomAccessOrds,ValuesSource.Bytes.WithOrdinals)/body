{
  TermsEnum globalTermsEnum=valueSource.globalOrdinalsValues().termsEnum();
  LongBitSet acceptedGlobalOrdinals=new LongBitSet(globalOrdinals.getValueCount());
  try {
    for (BytesRef term=globalTermsEnum.next(); term != null; term=globalTermsEnum.next()) {
      if (accept(term)) {
        acceptedGlobalOrdinals.set(globalTermsEnum.ord());
      }
    }
  }
 catch (  IOException e) {
    throw ExceptionsHelper.convertToElastic(e);
  }
  return acceptedGlobalOrdinals;
}
