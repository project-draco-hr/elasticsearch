{
  if (token == XContentParser.Token.VALUE_STRING) {
    if ("include".equals(currentFieldName)) {
      include=parser.text();
    }
 else     if ("exclude".equals(currentFieldName)) {
      exclude=parser.text();
    }
 else {
      return false;
    }
    return true;
  }
  if (token == XContentParser.Token.START_ARRAY) {
    if ("include".equals(currentFieldName)) {
      includeValues=parseArrayToSet(parser);
      return true;
    }
    if ("exclude".equals(currentFieldName)) {
      excludeValues=parseArrayToSet(parser);
      return true;
    }
    return false;
  }
  if (token == XContentParser.Token.START_OBJECT) {
    if ("include".equals(currentFieldName)) {
      while ((token=parser.nextToken()) != XContentParser.Token.END_OBJECT) {
        if (token == XContentParser.Token.FIELD_NAME) {
          currentFieldName=parser.currentName();
        }
 else         if (token == XContentParser.Token.VALUE_STRING) {
          if ("pattern".equals(currentFieldName)) {
            include=parser.text();
          }
 else           if ("flags".equals(currentFieldName)) {
            includeFlags=Regex.flagsFromString(parser.text());
          }
        }
 else         if (token == XContentParser.Token.VALUE_NUMBER) {
          if ("flags".equals(currentFieldName)) {
            includeFlags=parser.intValue();
          }
        }
      }
    }
 else     if ("exclude".equals(currentFieldName)) {
      while ((token=parser.nextToken()) != XContentParser.Token.END_OBJECT) {
        if (token == XContentParser.Token.FIELD_NAME) {
          currentFieldName=parser.currentName();
        }
 else         if (token == XContentParser.Token.VALUE_STRING) {
          if ("pattern".equals(currentFieldName)) {
            exclude=parser.text();
          }
 else           if ("flags".equals(currentFieldName)) {
            excludeFlags=Regex.flagsFromString(parser.text());
          }
        }
 else         if (token == XContentParser.Token.VALUE_NUMBER) {
          if ("flags".equals(currentFieldName)) {
            excludeFlags=parser.intValue();
          }
        }
      }
    }
 else {
      return false;
    }
    return true;
  }
  return false;
}
