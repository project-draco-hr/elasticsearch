{
  JavaScriptScriptEngineService se=new JavaScriptScriptEngineService(Settings.Builder.EMPTY_SETTINGS);
  Object compiled=se.compile("x + y");
  CompiledScript compiledScript=new CompiledScript(ScriptService.ScriptType.INLINE,"testExecutableNoRuntimeParams","js",compiled);
  Map<String,Object> vars=new HashMap<String,Object>();
  for (int i=0; i < 1000; i++) {
    vars.put("x",i);
    vars.put("y",i + 1);
    se.executable(compiledScript,vars).run();
  }
  final long ITER=100000;
  StopWatch stopWatch=new StopWatch().start();
  for (long i=0; i < ITER; i++) {
    se.executable(compiledScript,vars).run();
  }
  System.out.println("Execute Took: " + stopWatch.stop().lastTaskTime());
  stopWatch=new StopWatch().start();
  ExecutableScript executableScript=se.executable(compiledScript,vars);
  for (long i=0; i < ITER; i++) {
    executableScript.run();
  }
  System.out.println("Executable Took: " + stopWatch.stop().lastTaskTime());
  stopWatch=new StopWatch().start();
  executableScript=se.executable(compiledScript,vars);
  for (long i=0; i < ITER; i++) {
    for (    Map.Entry<String,Object> entry : vars.entrySet()) {
      executableScript.setNextVar(entry.getKey(),entry.getValue());
    }
    executableScript.run();
  }
  System.out.println("Executable (vars) Took: " + stopWatch.stop().lastTaskTime());
}
