{
  parser=YamlXContent.yamlXContent.createParser("setup:\n" + "  - skip:\n" + "      version:     \"0.90.3 - 0.90.6\"\n"+ "      reason:      \"test skip entire file\"\n"+ "\n"+ "---\n"+ "\"Get index mapping\":\n"+ "  - do:\n"+ "      indices.get_mapping:\n"+ "        index: test_index\n"+ "\n"+ "  - match: {test_index.test_type.properties.text.type:     string}\n"+ "  - match: {test_index.test_type.properties.text.analyzer: whitespace}\n"+ "\n"+ "---\n"+ "\"Get type mapping - pre 1.0\":\n"+ "\n"+ "  - skip:\n"+ "      version:     \"0.90.9 - 999\"\n"+ "      reason:      \"for newer versions the index name is always returned\"\n"+ "\n"+ "  - do:\n"+ "      indices.get_mapping:\n"+ "        index: test_index\n"+ "        type: test_type\n"+ "\n"+ "  - match: {test_type.properties.text.type:     string}\n"+ "  - match: {test_type.properties.text.analyzer: whitespace}\n");
  RestTestSuiteParser testParser=new RestTestSuiteParser();
  RestTestSuite restTestSuite=testParser.parse(new RestTestSuiteParseContext("api","suite",parser,"0.90.5"));
  assertThat(restTestSuite,notNullValue());
  assertThat(restTestSuite.getName(),equalTo("suite"));
  assertThat(restTestSuite.getSetupSection(),notNullValue());
  assertThat(restTestSuite.getSetupSection().getSkipSection().isEmpty(),equalTo(false));
  assertThat(restTestSuite.getSetupSection().getSkipSection().getVersion(),equalTo("0.90.3 - 0.90.6"));
  assertThat(restTestSuite.getSetupSection().getSkipSection().getReason(),equalTo("test skip entire file"));
  assertThat(restTestSuite.getSetupSection().getDoSections().size(),equalTo(0));
  assertThat(restTestSuite.getTestSections().size(),equalTo(0));
}
