{
  int count=0;
  for (  ShardRouting shard : state.routingTable().shardsWithState(ShardRoutingState.UNASSIGNED)) {
    if (shard.primary() == false) {
      long delay=shard.unassignedInfo().getLastComputedLeftDelayNanos();
      if (delay > 0) {
        count++;
      }
    }
  }
  return count;
}
