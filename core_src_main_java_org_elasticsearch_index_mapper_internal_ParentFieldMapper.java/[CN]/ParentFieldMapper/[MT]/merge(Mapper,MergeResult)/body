{
  super.merge(mergeWith,mergeResult);
  ParentFieldMapper fieldMergeWith=(ParentFieldMapper)mergeWith;
  if (Objects.equals(parentType,fieldMergeWith.parentType) == false) {
    mergeResult.addConflict("The _parent field's type option can't be changed: [" + parentType + "]->["+ fieldMergeWith.parentType+ "]");
  }
  List<String> conflicts=new ArrayList<>();
  fieldType().checkCompatibility(fieldMergeWith.fieldType(),conflicts,true);
  parentJoinFieldType.checkCompatibility(fieldMergeWith.parentJoinFieldType,conflicts,true);
  if (childJoinFieldType != null) {
    childJoinFieldType.checkCompatibility(fieldMergeWith.childJoinFieldType,conflicts,mergeResult.updateAllTypes() == false);
  }
  for (  String conflict : conflicts) {
    mergeResult.addConflict(conflict);
  }
  if (active() && mergeResult.simulate() == false && mergeResult.hasConflicts() == false) {
    childJoinFieldType=fieldMergeWith.childJoinFieldType.clone();
  }
}
