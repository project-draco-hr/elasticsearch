{
  super(shardId);
  this.matches=matches;
  this.hls=hls;
  this.count=count;
  this.scores=scores;
  this.percolatorTypeId=context.percolatorTypeId;
  this.requestedSize=context.size();
  QuerySearchResult result=context.queryResult();
  if (result != null) {
    if (result.facets() != null) {
      this.facets=new InternalFacets(result.facets().facets());
    }
    if (result.aggregations() != null) {
      this.aggregations=(InternalAggregations)result.aggregations();
    }
  }
}
