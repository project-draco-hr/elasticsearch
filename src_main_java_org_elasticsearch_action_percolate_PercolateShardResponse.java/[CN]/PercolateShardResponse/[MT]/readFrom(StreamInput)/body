{
  super.readFrom(in);
  percolatorTypeId=in.readByte();
  requestedSize=in.readVInt();
  count=in.readVLong();
  matches=new BytesRef[in.readVInt()];
  for (int i=0; i < matches.length; i++) {
    matches[i]=in.readBytesRef();
  }
  scores=new float[in.readVInt()];
  for (int i=0; i < scores.length; i++) {
    scores[i]=in.readFloat();
  }
  int size=in.readVInt();
  for (int i=0; i < size; i++) {
    int mSize=in.readVInt();
    Map<String,HighlightField> fields=new HashMap<>();
    for (int j=0; j < mSize; j++) {
      fields.put(in.readString(),HighlightField.readHighlightField(in));
    }
    hls.add(fields);
  }
  aggregations=InternalAggregations.readOptionalAggregations(in);
  if (in.readBoolean()) {
    int reducersSize=in.readVInt();
    List<SiblingReducer> reducers=new ArrayList<>(reducersSize);
    for (int i=0; i < reducersSize; i++) {
      BytesReference type=in.readBytesReference();
      Reducer reducer=ReducerStreams.stream(type).readResult(in);
      reducers.add((SiblingReducer)reducer);
    }
    this.reducers=reducers;
  }
}
