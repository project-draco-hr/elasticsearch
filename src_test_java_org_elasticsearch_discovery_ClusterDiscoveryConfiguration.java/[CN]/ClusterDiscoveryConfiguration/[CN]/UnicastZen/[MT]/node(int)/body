{
  ImmutableSettings.Builder builder=ImmutableSettings.builder().put("discovery.zen.ping.multicast.enabled",false);
  String[] unicastHosts=new String[unicastHostOrdinals.length];
  if (InternalTestCluster.NODE_MODE.equals("local")) {
    builder.put(LocalTransport.TRANSPORT_LOCAL_ADDRESS,"node_" + nodeOrdinal);
    for (int i=0; i < unicastHosts.length; i++) {
      unicastHosts[i]="node_" + unicastHostOrdinals[i];
    }
  }
 else {
    builder.put("transport.tcp.port",basePort + nodeOrdinal);
    builder.put("transport.host","localhost");
    for (int i=0; i < unicastHosts.length; i++) {
      unicastHosts[i]="localhost:" + (basePort + unicastHostOrdinals[i]);
    }
  }
  builder.putArray("discovery.zen.ping.unicast.hosts",unicastHosts);
  return builder.put(super.node(nodeOrdinal)).build();
}
