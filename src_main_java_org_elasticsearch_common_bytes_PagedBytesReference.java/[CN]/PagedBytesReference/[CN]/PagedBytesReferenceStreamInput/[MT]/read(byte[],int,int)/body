{
  if (len == 0) {
    return 0;
  }
  if (pos >= offset + length) {
    return -1;
  }
  len=Math.min(length,len);
  int written=0;
  while (written < len) {
    b[bOffset + written]=bytearray.get(offset + written);
    written++;
  }
  pos+=written;
  return written;
}
