{
  boolean cache=componentSettings.getAsBoolean("memory.enabled",false);
  if (!cache) {
    return null;
  }
  Directory memDir=new ByteBufferDirectory(byteBufferCache);
  String[] primaryExtensions=componentSettings.getAsArray("memory.extensions",new String[]{"","del","gen"});
  return new SwitchDirectory(ImmutableSet.copyOf(primaryExtensions),memDir,fsDirectory,true);
}
