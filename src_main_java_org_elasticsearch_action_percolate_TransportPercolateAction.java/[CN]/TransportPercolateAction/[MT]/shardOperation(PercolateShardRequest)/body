{
  try {
    return percolatorService.percolate(request);
  }
 catch (  Throwable e) {
    logger.trace("[{}][{}] failed to percolate",e,request.index(),request.shardId());
    ShardId shardId=new ShardId(request.index(),request.shardId());
    throw new PercolateException(shardId,"failed to percolate",e);
  }
}
