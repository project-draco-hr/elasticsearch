{
  IndexShard indexShard=indicesService.indexServiceSafe(request.index()).shardSafe(request.shardId());
  indexShard.optimize(new Engine.Optimize(request.waitForMerge(),request.maxNumSegments()));
  return new ShardOptimizeResponse(request.index(),request.shardId());
}
