{
  if (include == null) {
    throw new ElasticsearchIllegalArgumentException("Must specify include when using spanNot query");
  }
  if (exclude == null) {
    throw new ElasticsearchIllegalArgumentException("Must specify exclude when using spanNot query");
  }
  if (dist != NOT_SET && (pre != NOT_SET || post != NOT_SET)) {
    throw new ElasticsearchIllegalArgumentException("spanNot can either use [dist] or [pre] & [post] (or none)");
  }
  if (pre != NOT_SET && post == NOT_SET) {
    post=0;
  }
 else   if (pre == NOT_SET && post != NOT_SET) {
    pre=0;
  }
  builder.startObject(SpanNotQueryParser.NAME);
  builder.field("include");
  include.toXContent(builder,params);
  builder.field("exclude");
  exclude.toXContent(builder,params);
  if (dist != NOT_SET) {
    builder.field("dist",dist);
  }
  if (pre != NOT_SET) {
    builder.field("pre",pre);
  }
  if (post != NOT_SET) {
    builder.field("post",post);
  }
  if (boost != NOT_SET) {
    builder.field("boost",boost);
  }
  if (queryName != null) {
    builder.field("_name",queryName);
  }
  builder.endObject();
}
