{
  MoreLikeThis mlt=new MoreLikeThis(reader,similarity == null ? new DefaultSimilarity() : similarity);
  mlt.setFieldNames(moreLikeFields);
  mlt.setAnalyzer(analyzer);
  mlt.setMinTermFreq(minTermFrequency);
  mlt.setMinDocFreq(minDocFreq);
  mlt.setMaxDocFreq(maxDocFreq);
  mlt.setMaxQueryTerms(maxQueryTerms);
  mlt.setMinWordLen(minWordLen);
  mlt.setMaxWordLen(maxWordLen);
  mlt.setStopWords(stopWords);
  mlt.setBoost(boostTerms);
  mlt.setBoostFactor(boostTermsFactor);
  BooleanQuery bq=(BooleanQuery)mlt.like(new FastStringReader(likeText));
  BooleanClause[] clauses=bq.getClauses();
  bq.setMinimumNumberShouldMatch((int)(clauses.length * percentTermsToMatch));
  bq.setBoost(getBoost());
  return bq;
}
