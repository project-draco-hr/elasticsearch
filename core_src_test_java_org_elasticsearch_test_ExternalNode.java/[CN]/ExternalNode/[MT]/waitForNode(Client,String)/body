{
  return ElasticsearchTestCase.awaitBusy(new Predicate<Object>(){
    @Override public boolean apply(    java.lang.Object input){
      final NodesInfoResponse nodeInfos=client.admin().cluster().prepareNodesInfo().get();
      final NodeInfo[] nodes=nodeInfos.getNodes();
      for (      NodeInfo info : nodes) {
        if (name.equals(info.getNode().getName())) {
          return true;
        }
      }
      return false;
    }
  }
,30,TimeUnit.SECONDS);
}
