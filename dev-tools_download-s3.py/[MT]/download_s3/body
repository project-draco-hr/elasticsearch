def download_s3(conn, path, key, file, bucket):
    print ('Downloading %s from Amazon S3 bucket %s/%s' % (file, bucket, os.path.join(path, key)))

    def percent_cb(complete, total):
        sys.stdout.write('.')
        sys.stdout.flush()
    bucket = conn.get_bucket(bucket)
    k = bucket.get_key(os.path.join(path, key))
    k.get_contents_to_filename(file, cb=percent_cb, num_cb=100)
