{
  int expectedErrors=0;
  QueryBuilder innerQuery;
  if (randomBoolean()) {
    innerQuery=RandomQueryBuilder.createInvalidQuery(random());
    expectedErrors++;
  }
 else {
    innerQuery=RandomQueryBuilder.createQuery(random());
  }
  String[] indices;
  if (randomBoolean()) {
    indices=randomBoolean() ? null : new String[0];
    expectedErrors++;
  }
 else {
    indices=new String[]{"index"};
  }
  QueryBuilder noMatchQuery;
  if (randomBoolean()) {
    noMatchQuery=RandomQueryBuilder.createInvalidQuery(random());
    expectedErrors++;
  }
 else {
    noMatchQuery=RandomQueryBuilder.createQuery(random());
  }
  assertValidate(new IndicesQueryBuilder(innerQuery,indices).noMatchQuery(noMatchQuery),expectedErrors);
}
