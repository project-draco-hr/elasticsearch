{
  super(index,indexSettings,name,settings);
  final String[] arrayKeepWords=settings.getAsArray(KEEP_WORDS_KEY,null);
  final String keepWordsPath=settings.get(KEEP_WORDS_PATH_KEY,null);
  if ((arrayKeepWords == null && keepWordsPath == null) || (arrayKeepWords != null && keepWordsPath != null)) {
    throw new ElasticsearchIllegalArgumentException("keep requires either `" + KEEP_WORDS_KEY + "` or `"+ KEEP_WORDS_PATH_KEY+ "` to be configured");
  }
  if (version.onOrAfter(Version.LUCENE_4_4) && settings.get(ENABLE_POS_INC_KEY) != null) {
    throw new ElasticsearchIllegalArgumentException(ENABLE_POS_INC_KEY + " is not supported anymore. Please fix your analysis chain or use" + " an older compatibility version (<=4.3) but beware that it might cause highlighting bugs.");
  }
  enablePositionIncrements=version.onOrAfter(Version.LUCENE_4_4) ? true : settings.getAsBoolean(ENABLE_POS_INC_KEY,true);
  this.keepWords=Analysis.getWordSet(env,settings,KEEP_WORDS_KEY);
}
