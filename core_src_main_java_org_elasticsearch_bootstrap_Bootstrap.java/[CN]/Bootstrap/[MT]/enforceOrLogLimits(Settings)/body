{
  final boolean enforceLimits=enforceLimits(settings);
  final ESLogger logger=Loggers.getLogger(Bootstrap.class);
  final long maxFileDescriptorCount=ProcessProbe.getInstance().getMaxFileDescriptorCount();
  if (maxFileDescriptorCount != -1) {
    final int fileDescriptorCountThreshold=(1 << 16);
    if (maxFileDescriptorCount < fileDescriptorCountThreshold) {
      if (enforceLimits) {
        throw new IllegalStateException("max file descriptors [" + maxFileDescriptorCount + "] for elasticsearch process likely too low, increase it to at least ["+ fileDescriptorCountThreshold+ "]");
      }
      logger.warn("max file descriptors [{}] for elasticsearch process likely too low, consider increasing to at least [{}]",maxFileDescriptorCount,fileDescriptorCountThreshold);
    }
  }
}
