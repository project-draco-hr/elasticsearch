{
  GeoPoint[] result=points.toArray(new GeoPoint[points.size() + (closed ? 1 : 0)]);
  if (closed) {
    result[result.length - 1]=result[0];
  }
  return result;
}
