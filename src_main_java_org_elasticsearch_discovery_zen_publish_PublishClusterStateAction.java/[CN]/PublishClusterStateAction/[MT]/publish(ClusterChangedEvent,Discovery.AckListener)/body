{
  Set<DiscoveryNode> nodesToPublishTo=new HashSet<>(clusterChangedEvent.state().nodes().size());
  DiscoveryNode localNode=nodesProvider.nodes().localNode();
  for (  final DiscoveryNode node : clusterChangedEvent.state().nodes()) {
    if (node.equals(localNode)) {
      continue;
    }
    nodesToPublishTo.add(node);
  }
  publish(clusterChangedEvent,nodesToPublishTo,new AckClusterStatePublishResponseHandler(nodesToPublishTo,ackListener));
}
