{
  super(settings);
  this.transportService=transportService;
  this.nodesProvider=nodesProvider;
  this.listener=listener;
  this.publishTimeout=settings.getAsTime("discovery.zen.publish_timeout",Discovery.DEFAULT_PUBLISH_TIMEOUT);
  transportService.registerHandler(PublishClusterStateRequestHandler.ACTION,new PublishClusterStateRequestHandler());
}
