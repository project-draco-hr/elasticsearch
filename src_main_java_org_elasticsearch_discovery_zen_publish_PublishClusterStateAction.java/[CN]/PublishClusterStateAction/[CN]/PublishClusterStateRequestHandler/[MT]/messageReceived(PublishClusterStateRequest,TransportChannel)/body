{
  StreamInput in=CachedStreamInput.cachedHandlesLzf(new BytesStreamInput(request.clusterStateInBytes.bytes(),request.clusterStateInBytes.offset(),request.clusterStateInBytes.length(),false));
  ClusterState clusterState=ClusterState.Builder.readFrom(in,nodesProvider.nodes().localNode());
  listener.onNewClusterState(clusterState);
  channel.sendResponse(VoidStreamable.INSTANCE);
}
