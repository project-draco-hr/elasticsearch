{
  if (includeDefaults || enabledState != Defaults.ENABLED) {
    builder.field("enabled",enabledState.enabled);
  }
  if (includeDefaults || autoBoost != false) {
    builder.field("auto_boost",autoBoost);
  }
  if (includeDefaults || fieldType.stored() != Defaults.FIELD_TYPE.stored()) {
    builder.field("store",fieldType.stored());
  }
  if (includeDefaults || fieldType.storeTermVectors() != Defaults.FIELD_TYPE.storeTermVectors()) {
    builder.field("store_term_vectors",fieldType.storeTermVectors());
  }
  if (includeDefaults || fieldType.storeTermVectorOffsets() != Defaults.FIELD_TYPE.storeTermVectorOffsets()) {
    builder.field("store_term_vector_offsets",fieldType.storeTermVectorOffsets());
  }
  if (includeDefaults || fieldType.storeTermVectorPositions() != Defaults.FIELD_TYPE.storeTermVectorPositions()) {
    builder.field("store_term_vector_positions",fieldType.storeTermVectorPositions());
  }
  if (includeDefaults || fieldType.storeTermVectorPayloads() != Defaults.FIELD_TYPE.storeTermVectorPayloads()) {
    builder.field("store_term_vector_payloads",fieldType.storeTermVectorPayloads());
  }
  if (includeDefaults || fieldType.omitNorms() != Defaults.FIELD_TYPE.omitNorms()) {
    builder.field("omit_norms",fieldType.omitNorms());
  }
  if (indexAnalyzer == null && searchAnalyzer == null) {
    if (includeDefaults) {
      builder.field("analyzer","default");
    }
  }
 else   if (indexAnalyzer == null) {
    if (includeDefaults || !searchAnalyzer.name().startsWith("_")) {
      builder.field("search_analyzer",searchAnalyzer.name());
    }
  }
 else   if (searchAnalyzer == null) {
    if (includeDefaults || !indexAnalyzer.name().startsWith("_")) {
      builder.field("index_analyzer",indexAnalyzer.name());
    }
  }
 else   if (indexAnalyzer.name().equals(searchAnalyzer.name())) {
    if (includeDefaults || !indexAnalyzer.name().startsWith("_")) {
      builder.field("analyzer",indexAnalyzer.name());
    }
  }
 else {
    if (includeDefaults || !indexAnalyzer.name().startsWith("_")) {
      builder.field("index_analyzer",indexAnalyzer.name());
    }
    if (includeDefaults || !searchAnalyzer.name().startsWith("_")) {
      builder.field("search_analyzer",searchAnalyzer.name());
    }
  }
  if (similarity() != null) {
    builder.field("similarity",similarity().name());
  }
 else   if (includeDefaults) {
    builder.field("similarity",SimilarityLookupService.DEFAULT_SIMILARITY);
  }
  if (customFieldDataSettings != null) {
    builder.field("fielddata",(Map)customFieldDataSettings.getAsMap());
  }
 else   if (includeDefaults) {
    builder.field("fielddata",(Map)fieldDataType.getSettings().getAsMap());
  }
}
