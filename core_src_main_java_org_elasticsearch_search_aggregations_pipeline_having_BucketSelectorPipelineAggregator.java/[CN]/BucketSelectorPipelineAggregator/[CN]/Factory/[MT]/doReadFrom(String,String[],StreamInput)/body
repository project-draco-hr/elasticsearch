{
  Map<String,String> bucketsPathsMap=new HashMap<String,String>();
  int mapSize=in.readVInt();
  for (int i=0; i < mapSize; i++) {
    bucketsPathsMap.put(in.readString(),in.readString());
  }
  Script script=Script.readScript(in);
  Factory factory=new Factory(name,bucketsPathsMap,script);
  factory.gapPolicy=GapPolicy.readFrom(in);
  return factory;
}
