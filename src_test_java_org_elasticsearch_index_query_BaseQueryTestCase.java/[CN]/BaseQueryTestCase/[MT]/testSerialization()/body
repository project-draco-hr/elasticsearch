{
  for (int i=0; i < RANDOM_REPS; i++) {
    testQuery=createTestQueryBuilder();
    BytesStreamOutput output=new BytesStreamOutput();
    testQuery.writeTo(output);
    BytesStreamInput in=new BytesStreamInput(output.bytes());
    QB deserializedQuery=createEmptyQueryBuilder();
    deserializedQuery.readFrom(in);
    assertEquals(deserializedQuery,testQuery);
    assertNotSame(deserializedQuery,testQuery);
  }
}
