{
  out.writeUTF(id);
  out.writeUTF(type);
  if (source == null) {
    out.writeVInt(0);
  }
 else {
    out.writeVInt(source.length);
    out.writeBytes(source);
  }
  if (explanation == null) {
    out.writeBoolean(false);
  }
 else {
    out.writeBoolean(true);
    writeExplanation(out,explanation);
  }
  if (fields == null) {
    out.writeVInt(0);
  }
 else {
    out.writeVInt(fields.size());
    for (    SearchHitField hitField : fields().values()) {
      hitField.writeTo(out);
    }
  }
  if (highlightFields == null) {
    out.writeVInt(0);
  }
 else {
    out.writeVInt(highlightFields.size());
    for (    HighlightField highlightField : highlightFields.values()) {
      highlightField.writeTo(out);
    }
  }
  if (shardLookupMap == null) {
    if (shard == null) {
      out.writeBoolean(false);
    }
 else {
      out.writeBoolean(true);
      shard.writeTo(out);
    }
  }
 else {
    if (shard == null) {
      out.writeVInt(0);
    }
 else {
      out.writeVInt(shardLookupMap.get(shard));
    }
  }
}
