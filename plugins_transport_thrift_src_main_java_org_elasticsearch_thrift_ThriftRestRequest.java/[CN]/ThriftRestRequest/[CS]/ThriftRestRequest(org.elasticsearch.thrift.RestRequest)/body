{
  this.request=request;
  this.params=request.getParameters() == null ? new HashMap<String,String>() : request.getParameters();
  int pathEndPos=request.getUri().indexOf('?');
  if (pathEndPos < 0) {
    this.path=request.getUri();
  }
 else {
    this.path=request.getUri().substring(0,pathEndPos);
    RestUtils.decodeQueryString(request.getUri(),pathEndPos + 1,params);
  }
}
