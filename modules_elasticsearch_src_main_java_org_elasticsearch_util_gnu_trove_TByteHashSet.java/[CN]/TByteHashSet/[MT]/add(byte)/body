{
  int index=insertionIndex(val);
  if (index < 0) {
    return false;
  }
  byte previousState=_states[index];
  _set[index]=val;
  _states[index]=FULL;
  postInsertHook(previousState == FREE);
  return true;
}
