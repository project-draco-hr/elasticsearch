{
  Settings settings=Settings.builder().put("node.client",randomBoolean()).build();
  try {
    new DiscoveryNodeService(settings,Version.CURRENT).buildAttributes();
    fail("build attributes should have failed");
  }
 catch (  IllegalArgumentException e) {
    assertThat(e.getMessage(),equalTo("node.client setting is no longer supported, use node.master, " + "node.data and node.ingest explicitly instead"));
  }
}
