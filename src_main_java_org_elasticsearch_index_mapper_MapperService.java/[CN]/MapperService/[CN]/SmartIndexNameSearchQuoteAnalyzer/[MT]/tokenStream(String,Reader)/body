{
  int dotIndex=fieldName.indexOf('.');
  if (dotIndex != -1) {
    String possibleType=fieldName.substring(0,dotIndex);
    DocumentMapper possibleDocMapper=mappers.get(possibleType);
    if (possibleDocMapper != null) {
      return possibleDocMapper.mappers().searchQuoteAnalyzer().tokenStream(fieldName,reader);
    }
  }
  FieldMappers mappers=fullNameFieldMappers.get(fieldName);
  if (mappers != null && mappers.mapper() != null && mappers.mapper().searchQuoteAnalyzer() != null) {
    return mappers.mapper().searchQuoteAnalyzer().tokenStream(fieldName,reader);
  }
  mappers=indexNameFieldMappers.get(fieldName);
  if (mappers != null && mappers.mapper() != null && mappers.mapper().searchQuoteAnalyzer() != null) {
    return mappers.mapper().searchQuoteAnalyzer().tokenStream(fieldName,reader);
  }
  return defaultAnalyzer.tokenStream(fieldName,reader);
}
