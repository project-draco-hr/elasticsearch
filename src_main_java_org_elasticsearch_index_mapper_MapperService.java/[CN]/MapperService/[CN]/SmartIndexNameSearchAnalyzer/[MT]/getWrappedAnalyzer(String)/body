{
  int dotIndex=fieldName.indexOf('.');
  if (dotIndex != -1) {
    String possibleType=fieldName.substring(0,dotIndex);
    DocumentMapper possibleDocMapper=mappers.get(possibleType);
    if (possibleDocMapper != null) {
      return possibleDocMapper.mappers().searchAnalyzer();
    }
  }
  FieldMappers mappers=fieldMappers.fullName(fieldName);
  if (mappers != null && mappers.mapper() != null && mappers.mapper().searchAnalyzer() != null) {
    return mappers.mapper().searchAnalyzer();
  }
  mappers=fieldMappers.indexName(fieldName);
  if (mappers != null && mappers.mapper() != null && mappers.mapper().searchAnalyzer() != null) {
    return mappers.mapper().searchAnalyzer();
  }
  return defaultAnalyzer;
}
