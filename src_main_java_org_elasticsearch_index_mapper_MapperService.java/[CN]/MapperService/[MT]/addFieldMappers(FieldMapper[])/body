{
synchronized (mutex) {
    MapBuilder<String,FieldMappers> nameFieldMappers=newMapBuilder(this.nameFieldMappers);
    MapBuilder<String,FieldMappers> indexNameFieldMappers=newMapBuilder(this.indexNameFieldMappers);
    MapBuilder<String,FieldMappers> fullNameFieldMappers=newMapBuilder(this.fullNameFieldMappers);
    for (    FieldMapper fieldMapper : fieldMappers) {
      FieldMappers mappers=nameFieldMappers.get(fieldMapper.names().name());
      if (mappers == null) {
        mappers=new FieldMappers(fieldMapper);
      }
 else {
        mappers=mappers.concat(fieldMapper);
      }
      nameFieldMappers.put(fieldMapper.names().name(),mappers);
      mappers=indexNameFieldMappers.get(fieldMapper.names().indexName());
      if (mappers == null) {
        mappers=new FieldMappers(fieldMapper);
      }
 else {
        mappers=mappers.concat(fieldMapper);
      }
      indexNameFieldMappers.put(fieldMapper.names().indexName(),mappers);
      mappers=fullNameFieldMappers.get(fieldMapper.names().fullName());
      if (mappers == null) {
        mappers=new FieldMappers(fieldMapper);
      }
 else {
        mappers=mappers.concat(fieldMapper);
      }
      fullNameFieldMappers.put(fieldMapper.names().fullName(),mappers);
    }
    this.nameFieldMappers=nameFieldMappers.map();
    this.indexNameFieldMappers=indexNameFieldMappers.map();
    this.fullNameFieldMappers=fullNameFieldMappers.map();
  }
}
