{
  DocumentMapper mapper=mappers.get(type);
  if (mapper != null) {
    return mapper;
  }
  if (!dynamic) {
    throw new TypeMissingException(index,type,"trying to auto create mapping, but dynamic mapping is disabled");
  }
synchronized (mutex) {
    mapper=mappers.get(type);
    if (mapper != null) {
      return mapper;
    }
    add(type,null);
    return mappers.get(type);
  }
}
