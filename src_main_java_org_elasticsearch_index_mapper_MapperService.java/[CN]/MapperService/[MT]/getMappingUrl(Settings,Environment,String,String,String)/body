{
  Path mappingUrl;
  if (mappingLocation == null) {
    try {
      mappingUrl=environment.resolveConfig(configString);
    }
 catch (    FailedToResolveConfigException e) {
      try {
        mappingUrl=Paths.get(indexSettings.getClassLoader().getResource(resourceLocation).toURI());
        if (mappingUrl == null) {
          mappingUrl=Paths.get(MapperService.class.getClassLoader().getResource(resourceLocation).toURI());
        }
      }
 catch (      URISyntaxException e1) {
        throw new FailedToResolveConfigException("Failed to resolve dynamic mapping location [" + mappingLocation + "]");
      }
    }
  }
 else {
    try {
      mappingUrl=environment.resolveConfig(mappingLocation);
    }
 catch (    FailedToResolveConfigException e) {
      mappingUrl=Paths.get(mappingLocation);
    }
  }
  return mappingUrl;
}
