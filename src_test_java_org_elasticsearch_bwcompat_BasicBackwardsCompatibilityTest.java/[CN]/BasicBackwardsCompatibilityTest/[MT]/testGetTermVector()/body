{
  assertAcked(prepareCreate("test").addAlias(new Alias("alias")).addMapping("type1","field","type=string,term_vector=with_positions_offsets_payloads"));
  ensureYellow("test");
  client().prepareIndex(indexOrAlias(),"type1","1").setSource("field","the quick brown fox jumps over the lazy dog").get();
  refresh();
  TermVectorResponse termVectorResponse=client().prepareTermVector(indexOrAlias(),"type1","1").get();
  assertThat(termVectorResponse.getIndex(),equalTo("test"));
  assertThat(termVectorResponse.isExists(),equalTo(true));
  Fields fields=termVectorResponse.getFields();
  assertThat(fields.size(),equalTo(1));
  assertThat(fields.terms("field").size(),equalTo(8l));
}
