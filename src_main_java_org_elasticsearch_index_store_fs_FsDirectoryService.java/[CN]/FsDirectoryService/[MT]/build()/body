{
  Path[] locations=indexStore.shardIndexLocations(shardId);
  Directory[] dirs=new Directory[locations.length];
  for (int i=0; i < dirs.length; i++) {
    Files.createDirectories(locations[i]);
    dirs[i]=newFSDirectory(locations[i],buildLockFactory());
  }
  return dirs;
}
