{
  String fsLock=componentSettings.get("lock",componentSettings.get("fs_lock","native"));
  LockFactory lockFactory;
  if (fsLock.equals("native")) {
    lockFactory=NativeFSLockFactory.INSTANCE;
  }
 else   if (fsLock.equals("simple")) {
    lockFactory=SimpleFSLockFactory.INSTANCE;
  }
 else {
    throw new StoreException(shardId,"unrecognized fs_lock \"" + fsLock + "\": must be native or simple");
  }
  return lockFactory;
}
