{
  super(settings);
  ImmutableMap<String,String> includeMap=settings.getByPrefix("cluster.routing.allocation.include.").getAsMap();
  if (includeMap.isEmpty()) {
    clusterIncludeFilters=null;
  }
 else {
    clusterIncludeFilters=DiscoveryNodeFilters.buildFromKeyValue(includeMap);
  }
  ImmutableMap<String,String> excludeMap=settings.getByPrefix("cluster.routing.allocation.exclude.").getAsMap();
  if (excludeMap.isEmpty()) {
    clusterExcludeFilters=null;
  }
 else {
    clusterExcludeFilters=DiscoveryNodeFilters.buildFromKeyValue(excludeMap);
  }
  nodeSettingsService.addListener(new ApplySettings());
}
