{
  long size=0;
  ImmutableMap.Builder<E,Integer> builder=ImmutableMap.builder();
  for (  Entry<? extends E> entry : multiset.entrySet()) {
    int count=entry.getCount();
    if (count > 0) {
      builder.put(entry.getElement(),count);
      size+=count;
    }
  }
  if (size == 0) {
    return of();
  }
  return new ImmutableMultiset<E>(builder.build(),(int)Math.min(size,Integer.MAX_VALUE));
}
