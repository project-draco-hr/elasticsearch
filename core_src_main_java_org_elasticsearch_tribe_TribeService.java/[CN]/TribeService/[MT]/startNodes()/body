{
  for (  Node node : nodes) {
    try {
      node.injector().getInstance(ClusterService.class).add(new TribeClusterStateListener(node));
      node.start();
    }
 catch (    Throwable e) {
      for (      Node otherNode : nodes) {
        try {
          otherNode.close();
        }
 catch (        Throwable t) {
          logger.warn("failed to close node {} on failed start",otherNode,t);
        }
      }
      if (e instanceof RuntimeException) {
        throw (RuntimeException)e;
      }
      throw new ElasticsearchException(e);
    }
  }
}
