{
  createIndex("test1",Settings.EMPTY,"type","value","type=date");
  FieldStatsResponse response=client().prepareFieldStats().setFields("value").setLevel("indices").get();
  assertThat(response.getIndicesMergedFieldStats().size(),equalTo(1));
  assertThat(response.getIndicesMergedFieldStats().get("test1").size(),equalTo(1));
  assertThat(response.getIndicesMergedFieldStats().get("test1").get("value").getMaxDoc(),equalTo(0L));
  assertThat(response.getIndicesMergedFieldStats().get("test1").get("value").getDocCount(),equalTo(0L));
  assertThat(response.getIndicesMergedFieldStats().get("test1").get("value").getSumDocFreq(),equalTo(0L));
  assertThat(response.getIndicesMergedFieldStats().get("test1").get("value").getSumTotalTermFreq(),equalTo(0L));
  assertThat(response.getIndicesMergedFieldStats().get("test1").get("value").isSearchable(),equalTo(true));
  assertThat(response.getIndicesMergedFieldStats().get("test1").get("value").isAggregatable(),equalTo(true));
  assertThat(response.getIndicesMergedFieldStats().get("test1").get("value").getMinValue(),equalTo(null));
  assertThat(response.getIndicesMergedFieldStats().get("test1").get("value").getMaxValue(),equalTo(null));
  response=client().prepareFieldStats().setFields("value").setIndexContraints(new IndexConstraint("value",MIN,GTE,"1998-01-01T00:00:00.000Z")).setLevel("indices").get();
  assertThat(response.getIndicesMergedFieldStats().size(),equalTo(0));
}
