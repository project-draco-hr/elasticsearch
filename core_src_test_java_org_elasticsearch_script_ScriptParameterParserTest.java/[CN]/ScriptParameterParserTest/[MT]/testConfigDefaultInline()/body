{
  Map<String,Object> config=new HashMap<>();
  config.put("script","scriptValue");
  ScriptParameterParser paramParser=new ScriptParameterParser();
  paramParser.parseConfig(config,true);
  assertDefaultParameterValue(paramParser,"scriptValue",ScriptType.INLINE);
  assertThat(paramParser.lang(),nullValue());
  assertThat(config.isEmpty(),equalTo(true));
  config=new HashMap<>();
  config.put("script","scriptValue");
  paramParser=new ScriptParameterParser(null);
  paramParser.parseConfig(config,true);
  assertDefaultParameterValue(paramParser,"scriptValue",ScriptType.INLINE);
  assertThat(paramParser.lang(),nullValue());
  assertThat(config.isEmpty(),equalTo(true));
  config=new HashMap<>();
  config.put("script","scriptValue");
  paramParser=new ScriptParameterParser(new HashSet<String>());
  paramParser.parseConfig(config,true);
  assertDefaultParameterValue(paramParser,"scriptValue",ScriptType.INLINE);
  assertThat(paramParser.lang(),nullValue());
  assertThat(config.isEmpty(),equalTo(true));
}
