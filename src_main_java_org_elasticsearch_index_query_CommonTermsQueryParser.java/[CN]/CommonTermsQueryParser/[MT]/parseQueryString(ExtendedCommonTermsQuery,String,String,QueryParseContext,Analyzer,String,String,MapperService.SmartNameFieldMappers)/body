{
  int count=0;
  try (TokenStream source=analyzer.tokenStream(field,queryString.toString())){
    source.reset();
    CharTermAttribute termAtt=source.addAttribute(CharTermAttribute.class);
    while (source.incrementToken()) {
      BytesRef ref=new BytesRef(termAtt.length() * 4);
      UnicodeUtil.UTF16toUTF8(termAtt.buffer(),0,termAtt.length(),ref);
      query.add(new Term(field,ref));
      count++;
    }
  }
   if (count == 0) {
    return null;
  }
  query.setLowFreqMinimumNumberShouldMatch(lowFreqMinimumShouldMatch);
  query.setHighFreqMinimumNumberShouldMatch(highFreqMinimumShouldMatch);
  return wrapSmartNameQuery(query,smartNameFieldMappers,parseContext);
}
