{
  ShardRoutingState state;
  int i=randomInt(40);
  if (i > 5) {
    state=ShardRoutingState.STARTED;
  }
 else   if (i > 3) {
    state=ShardRoutingState.RELOCATING;
  }
 else {
    state=ShardRoutingState.INITIALIZING;
  }
switch (state) {
case STARTED:
    return new ShardRouting(index,shardId,"node_" + Integer.toString(node_id++),null,null,primary,ShardRoutingState.STARTED,1);
case INITIALIZING:
  return new ShardRouting(index,shardId,"node_" + Integer.toString(node_id++),null,null,primary,ShardRoutingState.INITIALIZING,1);
case RELOCATING:
return new ShardRouting(index,shardId,"node_" + Integer.toString(node_id++),"node_" + Integer.toString(node_id++),null,primary,ShardRoutingState.RELOCATING,1);
default :
throw new ElasticsearchException("Unknown state: " + state.name());
}
}
