{
  Item item=new Item();
  item.index=in.readOptionalString();
  item.type=in.readOptionalString();
  if (in.readBoolean()) {
    item.doc=(BytesReference)in.readGenericValue();
  }
 else {
    item.id=in.readString();
  }
  item.fields=in.readOptionalStringArray();
  item.perFieldAnalyzer=(Map<String,String>)in.readGenericValue();
  item.routing=in.readOptionalString();
  item.version=in.readLong();
  item.versionType=VersionType.readVersionTypeFrom(in);
  return item;
}
