{
  IndexQueryParser queryParser=queryParserService.defaultIndexQueryParser();
  if (queryParserName != null) {
    queryParser=queryParserService.indexQueryParser(queryParserName);
    if (queryParser == null) {
      throw new IndexQueryParserMissingException(queryParserName);
    }
  }
  Query query=queryParser.parse(querySource,querySourceOffset,querySourceLength).query();
  addQuery(name,query);
}
