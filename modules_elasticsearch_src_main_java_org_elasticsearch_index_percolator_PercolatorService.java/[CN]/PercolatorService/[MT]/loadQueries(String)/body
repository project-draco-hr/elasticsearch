{
  IndexService indexService=percolatorIndexService();
  IndexShard shard=indexService.shard(0);
  Engine.Searcher searcher=shard.searcher();
  try {
    Query query=new DeletionAwareConstantScoreQuery(indexQueriesFilter(indexName));
    searcher.searcher().search(query,new QueriesLoaderCollector());
  }
 catch (  IOException e) {
    throw new PercolatorException(index,"failed to load queries from percolator index");
  }
 finally {
    searcher.release();
    indexService.cache().clear(searcher.reader());
  }
}
