{
  if (channelReference.tryIncRef()) {
    try {
      ImmutableTranslogReader reader=newReader(generation,channelReference,firstOperationOffset,length,totalOperations);
      channelReference.incRef();
      return reader;
    }
  finally {
      channelReference.decRef();
    }
  }
 else {
    throw new IllegalStateException("can't increment translog [" + generation + "] channel ref count");
  }
}
