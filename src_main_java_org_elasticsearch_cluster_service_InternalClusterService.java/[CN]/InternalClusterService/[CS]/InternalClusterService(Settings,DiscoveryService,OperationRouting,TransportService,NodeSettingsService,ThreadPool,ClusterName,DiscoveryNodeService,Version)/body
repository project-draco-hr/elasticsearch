{
  super(settings);
  this.operationRouting=operationRouting;
  this.transportService=transportService;
  this.discoveryService=discoveryService;
  this.threadPool=threadPool;
  this.nodeSettingsService=nodeSettingsService;
  this.discoveryNodeService=discoveryNodeService;
  this.version=version;
  this.clusterState=ClusterState.builder(clusterName).build();
  this.nodeSettingsService.setClusterService(this);
  this.reconnectInterval=componentSettings.getAsTime("reconnect_interval",TimeValue.timeValueSeconds(10));
  localNodeMasterListeners=new LocalNodeMasterListeners(threadPool);
  initialBlocks=ClusterBlocks.builder().addGlobalBlock(discoveryService.getNoMasterBlock());
}
