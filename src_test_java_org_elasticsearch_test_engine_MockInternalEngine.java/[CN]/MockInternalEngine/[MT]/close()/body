{
  try {
    if (mockContext.flushOnClose > mockContext.random.nextDouble()) {
      super.flushAndClose();
    }
 else {
      super.close();
    }
  }
  finally {
    if (logger.isTraceEnabled()) {
      for (      Map.Entry<MockInternalEngine.AssertingSearcher,RuntimeException> entry : INFLIGHT_ENGINE_SEARCHERS.entrySet()) {
        logger.trace("Unreleased Searchers instance for shard [{}]",entry.getValue(),entry.getKey().shardId);
      }
    }
  }
  logger.debug("Ongoing recoveries after engine close: " + onGoingRecoveries.get());
}
