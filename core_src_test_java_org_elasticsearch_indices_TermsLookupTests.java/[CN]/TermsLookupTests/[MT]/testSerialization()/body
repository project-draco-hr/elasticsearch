{
  TermsLookup termsLookup=randomTermsLookup();
  try (BytesStreamOutput output=new BytesStreamOutput()){
    termsLookup.writeTo(output);
    try (StreamInput in=StreamInput.wrap(output.bytes())){
      TermsLookup deserializedLookup=TermsLookup.readTermsLookupFrom(in);
      assertEquals(deserializedLookup,termsLookup);
      assertEquals(deserializedLookup.hashCode(),termsLookup.hashCode());
      assertNotSame(deserializedLookup,termsLookup);
    }
   }
 }
