{
  CompletionSuggestionBuilder completionSuggestionBuilder=new CompletionSuggestionBuilder(fieldname);
  if (in.readBoolean()) {
    int numPayloadField=in.readVInt();
    List<String> payloadFields=new ArrayList<>(numPayloadField);
    for (int i=0; i < numPayloadField; i++) {
      payloadFields.add(in.readString());
    }
    completionSuggestionBuilder.payloadFields=payloadFields;
  }
  if (in.readBoolean()) {
    completionSuggestionBuilder.fuzzyOptions=FuzzyOptions.readFuzzyOptions(in);
  }
  if (in.readBoolean()) {
    completionSuggestionBuilder.regexOptions=RegexOptions.readRegexOptions(in);
  }
  if (in.readBoolean()) {
    completionSuggestionBuilder.contextBytes=in.readBytesReference();
  }
  return completionSuggestionBuilder;
}
