{
  boolean payloadFieldExists=payloadFields.isEmpty() == false;
  out.writeBoolean(payloadFieldExists);
  if (payloadFieldExists) {
    out.writeVInt(payloadFields.size());
    for (    String payloadField : payloadFields) {
      out.writeString(payloadField);
    }
  }
  out.writeBoolean(fuzzyOptions != null);
  if (fuzzyOptions != null) {
    fuzzyOptions.writeTo(out);
  }
  out.writeBoolean(regexOptions != null);
  if (regexOptions != null) {
    regexOptions.writeTo(out);
  }
  boolean queryContextsExists=queryContexts.isEmpty() == false;
  out.writeBoolean(queryContextsExists);
  if (queryContextsExists) {
    out.writeVInt(queryContexts.size());
    for (    Map.Entry<String,List<QueryContext>> namedQueryContexts : queryContexts.entrySet()) {
      out.writeString(namedQueryContexts.getKey());
      List<QueryContext> queryContexts=namedQueryContexts.getValue();
      out.writeVInt(queryContexts.size());
      for (      QueryContext queryContext : queryContexts) {
        out.writeCompletionSuggestionQueryContext(queryContext);
      }
    }
  }
}
