{
  out.writeBoolean(payloadFields.isEmpty() == false);
  if (payloadFields.isEmpty() == false) {
    out.writeVInt(payloadFields.size());
    for (    String payloadField : payloadFields) {
      out.writeString(payloadField);
    }
  }
  out.writeBoolean(fuzzyOptions != null);
  if (fuzzyOptions != null) {
    fuzzyOptions.writeTo(out);
  }
  out.writeBoolean(regexOptions != null);
  if (regexOptions != null) {
    regexOptions.writeTo(out);
  }
  out.writeBoolean(contextBytes != null);
  if (contextBytes != null) {
    out.writeBytesReference(contextBytes);
  }
}
