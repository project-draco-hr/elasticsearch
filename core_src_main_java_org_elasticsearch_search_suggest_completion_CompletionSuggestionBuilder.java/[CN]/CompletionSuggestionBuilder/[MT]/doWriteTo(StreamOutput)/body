{
  boolean payloadFieldExists=payloadFields.isEmpty() == false;
  out.writeBoolean(payloadFieldExists);
  if (payloadFieldExists) {
    out.writeVInt(payloadFields.size());
    for (    String payloadField : payloadFields) {
      out.writeString(payloadField);
    }
  }
  out.writeBoolean(fuzzyOptions != null);
  if (fuzzyOptions != null) {
    fuzzyOptions.writeTo(out);
  }
  out.writeBoolean(regexOptions != null);
  if (regexOptions != null) {
    regexOptions.writeTo(out);
  }
  boolean queryContextsExists=contextBytes != null;
  out.writeBoolean(queryContextsExists);
  if (queryContextsExists) {
    out.writeBytesReference(contextBytes);
  }
}
