{
  if (payloadFields != null) {
    builder.startArray("payload");
    for (    String field : payloadFields) {
      builder.value(field);
    }
    builder.endArray();
  }
  if (fuzzyOptionsBuilder != null) {
    fuzzyOptionsBuilder.toXContent(builder,params);
  }
  if (regexOptionsBuilder != null) {
    regexOptionsBuilder.toXContent(builder,params);
  }
  if (queryContexts.isEmpty() == false) {
    builder.startObject("contexts");
    for (    Map.Entry<String,List<ToXContent>> entry : this.queryContexts.entrySet()) {
      builder.startArray(entry.getKey());
      for (      ToXContent queryContext : entry.getValue()) {
        queryContext.toXContent(builder,params);
      }
      builder.endArray();
    }
    builder.endObject();
  }
  return builder;
}
