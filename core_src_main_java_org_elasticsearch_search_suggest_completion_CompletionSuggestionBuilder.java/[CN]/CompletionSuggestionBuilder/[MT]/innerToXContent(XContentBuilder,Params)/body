{
  if (payloadFields.isEmpty() == false) {
    builder.startArray(PAYLOAD_FIELD.getPreferredName());
    for (    String field : payloadFields) {
      builder.value(field);
    }
    builder.endArray();
  }
  if (fuzzyOptions != null) {
    fuzzyOptions.toXContent(builder,params);
  }
  if (regexOptions != null) {
    regexOptions.toXContent(builder,params);
  }
  if (queryContexts.isEmpty() == false) {
    builder.startObject(CONTEXTS_FIELD.getPreferredName());
    for (    Map.Entry<String,List<QueryContext>> entry : this.queryContexts.entrySet()) {
      builder.startArray(entry.getKey());
      for (      ToXContent queryContext : entry.getValue()) {
        queryContext.toXContent(builder,params);
      }
      builder.endArray();
    }
    builder.endObject();
  }
  return builder;
}
