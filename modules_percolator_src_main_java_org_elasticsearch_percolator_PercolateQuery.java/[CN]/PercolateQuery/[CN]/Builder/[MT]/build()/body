{
  if (percolateTypeQuery != null && queriesMetaDataQuery != null) {
    throw new IllegalStateException("Either filter by deprecated percolator type or by query metadata");
  }
  BooleanQuery.Builder queriesQuery=new BooleanQuery.Builder();
  if (percolateTypeQuery != null) {
    queriesQuery.add(percolateTypeQuery,FILTER);
  }
  if (queriesMetaDataQuery != null) {
    queriesQuery.add(queriesMetaDataQuery,FILTER);
  }
  return new PercolateQuery(docType,queryStore,documentSource,queriesQuery.build(),percolatorIndexSearcher,verifiedQueriesQuery);
}
