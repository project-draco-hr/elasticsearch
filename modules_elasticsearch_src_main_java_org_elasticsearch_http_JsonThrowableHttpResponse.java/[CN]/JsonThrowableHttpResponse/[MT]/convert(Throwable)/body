{
  Holder holder=cache.get();
  holder.writer.reset();
  t.printStackTrace(holder.printWriter);
  JsonBuilder builder=cached().prettyPrint().startObject().field("error",ExceptionsHelper.detailedMessage(t,false,0));
  builder.startObject("debug");
  boolean first=true;
  while (t != null) {
    if (!first) {
      builder.startObject("cause");
    }
    buildThrowable(t,builder);
    if (!first) {
      builder.endObject();
    }
    t=t.getCause();
    first=false;
  }
  builder.endObject();
  builder.endObject();
  return builder;
}
