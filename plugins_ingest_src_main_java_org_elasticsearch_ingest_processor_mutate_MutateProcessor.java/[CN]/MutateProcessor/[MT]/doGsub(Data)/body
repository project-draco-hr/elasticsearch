{
  for (  Map.Entry<String,Tuple<Pattern,String>> entry : gsub.entrySet()) {
    String fieldName=entry.getKey();
    Tuple<Pattern,String> matchAndReplace=entry.getValue();
    String oldVal=data.getProperty(fieldName);
    if (oldVal == null) {
      throw new IllegalArgumentException("Field \"" + fieldName + "\" is null, cannot match pattern.");
    }
    Matcher matcher=matchAndReplace.v1().matcher(oldVal);
    String newVal=matcher.replaceAll(matchAndReplace.v2());
    data.addField(entry.getKey(),newVal);
  }
}
