{
  for (  Map.Entry<String,String> entry : split.entrySet()) {
    Object oldVal=data.getProperty(entry.getKey(),Object.class);
    if (oldVal == null) {
      throw new IllegalArgumentException("Cannot split field. [" + entry.getKey() + "] is null.");
    }
 else     if (oldVal instanceof String) {
      data.addField(entry.getKey(),Arrays.asList(((String)oldVal).split(entry.getValue())));
    }
 else {
      throw new IllegalArgumentException("Cannot split a field that is not a String type");
    }
  }
}
