{
  MutateProcessor.Factory factory=new MutateProcessor.Factory();
  Map<String,Object> config=new HashMap<>();
  Map<String,List<String>> gsub=new HashMap<>();
  gsub.put("foo",Arrays.asList("\\s.*e\\s","<word_ending_with_e>"));
  config.put("gsub",gsub);
  Map<String,Tuple<Pattern,String>> compiledGsub=new HashMap<>();
  Pattern searchPattern=Pattern.compile("\\s.*e\\s");
  compiledGsub.put("foo",new Tuple<>(searchPattern,"<word_ending_with_e>"));
  MutateProcessor processor=factory.create(config);
  for (  Map.Entry<String,Tuple<Pattern,String>> entry : compiledGsub.entrySet()) {
    Tuple<Pattern,String> actualSearchAndReplace=processor.getGsub().get(entry.getKey());
    assertThat(actualSearchAndReplace,notNullValue());
    assertThat(actualSearchAndReplace.v1().pattern(),equalTo(entry.getValue().v1().pattern()));
    assertThat(actualSearchAndReplace.v2(),equalTo(entry.getValue().v2()));
  }
}
