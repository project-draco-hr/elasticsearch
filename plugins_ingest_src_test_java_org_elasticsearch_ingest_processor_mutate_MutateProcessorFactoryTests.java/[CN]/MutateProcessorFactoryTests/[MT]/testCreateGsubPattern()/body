{
  MutateProcessor.Factory factory=new MutateProcessor.Factory();
  Map<String,Object> config=new HashMap<>();
  Map<String,List<String>> gsub=new HashMap<>();
  gsub.put("foo",Arrays.asList("\\s.*e\\s","<word_ending_with_e>"));
  config.put("gsub",gsub);
  MutateProcessor processor=factory.create(config);
  assertThat(processor.getGsub().size(),equalTo(1));
  GsubExpression gsubExpression=processor.getGsub().get(0);
  assertThat(gsubExpression.getFieldName(),equalTo("foo"));
  assertThat(gsubExpression.getPattern().pattern(),equalTo(Pattern.compile("\\s.*e\\s").pattern()));
  assertThat(gsubExpression.getReplacement(),equalTo("<word_ending_with_e>"));
}
