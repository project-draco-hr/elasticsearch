{
  boolean hasValue=!Double.isInfinite(value);
  builder.field(CommonFields.VALUE,hasValue ? value : null);
  if (hasValue && !(valueFormatter instanceof ValueFormatter.Raw)) {
    builder.field(CommonFields.VALUE_AS_STRING,valueFormatter.format(value));
  }
  builder.startArray("keys");
  for (  String key : keys) {
    builder.value(key);
  }
  builder.endArray();
  return builder;
}
