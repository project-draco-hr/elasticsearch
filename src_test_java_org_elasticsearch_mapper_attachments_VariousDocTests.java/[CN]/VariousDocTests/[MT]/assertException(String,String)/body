{
  try (InputStream is=VariousDocTests.class.getResourceAsStream("/org/elasticsearch/index/mapper/attachment/test/sample-files/" + filename)){
    byte bytes[]=IOUtils.toByteArray(is);
    AttachmentMapper.parseWithTika(bytes,new Metadata(),-1);
    fail("expected exception");
  }
 catch (  Exception e) {
    if (e.getMessage() != null && e.getMessage().contains(expectedMessage)) {
    }
 else {
      throw e;
    }
  }
}
