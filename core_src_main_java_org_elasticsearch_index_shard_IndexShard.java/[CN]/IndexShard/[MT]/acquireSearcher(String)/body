{
  readAllowed();
  Engine engine=getEngine();
  try {
    return searcherWrapper == null ? engine.acquireSearcher(source) : searcherWrapper.wrap(engineConfig,engine.acquireSearcher(source));
  }
 catch (  IOException ex) {
    throw new ElasticsearchException("failed to wrap searcher",ex);
  }
}
