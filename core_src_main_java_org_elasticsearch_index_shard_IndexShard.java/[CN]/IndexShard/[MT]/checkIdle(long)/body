{
  if (System.nanoTime() - lastWriteNS >= inactiveTimeNS && active.getAndSet(false)) {
    updateBufferSize(IndexingMemoryController.INACTIVE_SHARD_INDEXING_BUFFER,IndexingMemoryController.INACTIVE_SHARD_TRANSLOG_BUFFER);
    logger.debug("shard is now inactive");
    indicesLifecycle.onShardInactive(this);
    return true;
  }
  return false;
}
