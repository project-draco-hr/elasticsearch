{
  Engine engineOrNull=getEngineOrNull();
  if (engineOrNull != null && System.nanoTime() - engineOrNull.getLastWriteNanos() >= inactiveTimeNS) {
    boolean wasActive=active.getAndSet(false);
    if (wasActive) {
      updateBufferSize(IndexingMemoryController.INACTIVE_SHARD_INDEXING_BUFFER);
      logger.debug("marking shard as inactive (inactive_time=[{}]) indexing wise",inactiveTime);
      indexEventListener.onShardInactive(this);
    }
  }
  return active.get() == false;
}
