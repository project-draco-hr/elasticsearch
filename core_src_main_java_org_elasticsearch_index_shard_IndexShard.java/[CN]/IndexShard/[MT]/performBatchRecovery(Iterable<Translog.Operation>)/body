{
  if (state != IndexShardState.RECOVERING) {
    throw new IndexShardNotRecoveringException(shardId,state);
  }
  return engineConfig.getTranslogRecoveryPerformer().performBatchRecovery(engine(),operations);
}
