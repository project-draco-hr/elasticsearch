{
  final PutMappingRequestBuilder request=updateMappingRequest(index,type,mappingUpdate,timeout);
  if (listener == null) {
    request.execute();
  }
 else {
    final ActionListener<PutMappingResponse> actionListener=new ActionListener<PutMappingResponse>(){
      @Override public void onResponse(      PutMappingResponse response){
        if (response.isAcknowledged()) {
          listener.onMappingUpdate();
        }
 else {
          listener.onFailure(new TimeoutException("Failed to acknowledge the mapping response within [" + timeout + "]"));
        }
      }
      @Override public void onFailure(      Throwable e){
        listener.onFailure(e);
      }
    }
;
    request.execute(actionListener);
  }
}
