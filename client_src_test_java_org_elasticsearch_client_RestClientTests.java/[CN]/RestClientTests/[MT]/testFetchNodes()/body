{
  additionalNodes=Arrays.asList("127.0.0.2:9200 c","127.0.0.3:9200 d");
  HttpHost httpHost=new HttpHost("127.0.0.1",server.getAddress().getPort(),"http");
  try (RestClient client=new RestClient(httpHost)){
    assertEquals(3,client.fetchNodes(httpHost,true,true,false).size());
    assertTrue(client.fetchNodes(httpHost,true,true,false).toString(),client.fetchNodes(httpHost,true,true,false).contains(new HttpHost("127.0.0.2",9200,"http")));
    assertTrue(client.fetchNodes(httpHost,true,true,false).contains(new HttpHost("127.0.0.3",9200,"http")));
    assertTrue(client.fetchNodes(httpHost,true,true,false).contains(httpHost));
    assertEquals(1,client.fetchNodes(httpHost,true,true,true).size());
  }
 }
