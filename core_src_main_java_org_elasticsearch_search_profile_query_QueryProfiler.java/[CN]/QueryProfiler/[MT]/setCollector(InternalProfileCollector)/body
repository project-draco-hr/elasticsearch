{
  if (this.collector != null) {
    throw new IllegalStateException("The collector can only be set once.");
  }
  this.collector=Objects.requireNonNull(collector);
}
