{
  UnassignedInfo unassignedInfo=new UnassignedInfo(UnassignedInfo.Reason.NODE_LEFT,null);
  unassignedInfo=unassignedInfo.updateDelay(unassignedInfo.getUnassignedTimeInNanos() + 1,Settings.builder().put(UnassignedInfo.INDEX_DELAYED_NODE_LEFT_TIMEOUT_SETTING.getKey(),"10h").build(),Settings.EMPTY);
  long delay=unassignedInfo.getLastComputedLeftDelayNanos();
  long cachedDelay=unassignedInfo.getLastComputedLeftDelayNanos();
  assertThat(delay,equalTo(cachedDelay));
  assertThat(delay,equalTo(TimeValue.timeValueHours(10).nanos() - 1));
}
