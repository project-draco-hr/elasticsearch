{
  EnumSet<UnassignedInfo.Reason> reasons=EnumSet.allOf(UnassignedInfo.Reason.class);
  reasons.remove(UnassignedInfo.Reason.NODE_LEFT);
  UnassignedInfo.Reason reason=RandomPicks.randomFrom(random(),reasons);
  UnassignedInfo unassignedInfo=reason == UnassignedInfo.Reason.ALLOCATION_FAILED ? new UnassignedInfo(reason,null,null,1,System.nanoTime(),System.currentTimeMillis()) : new UnassignedInfo(reason,null);
  unassignedInfo=unassignedInfo.updateDelay(unassignedInfo.getUnassignedTimeInNanos() + 1,Settings.builder().put(UnassignedInfo.INDEX_DELAYED_NODE_LEFT_TIMEOUT_SETTING.getKey(),"10h").build(),Settings.EMPTY);
  long delay=unassignedInfo.getLastComputedLeftDelayNanos();
  assertThat(delay,equalTo(0L));
  delay=unassignedInfo.getLastComputedLeftDelayNanos();
  assertThat(delay,equalTo(0L));
}
