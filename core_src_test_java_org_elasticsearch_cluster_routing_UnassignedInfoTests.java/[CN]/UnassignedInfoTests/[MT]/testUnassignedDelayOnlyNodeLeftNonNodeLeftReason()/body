{
  EnumSet<UnassignedInfo.Reason> reasons=EnumSet.allOf(UnassignedInfo.Reason.class);
  reasons.remove(UnassignedInfo.Reason.NODE_LEFT);
  UnassignedInfo unassignedInfo=new UnassignedInfo(RandomPicks.randomFrom(getRandom(),reasons),null);
  long delay=unassignedInfo.updateDelay(unassignedInfo.getUnassignedTimeInNanos() + 1,Settings.builder().put(UnassignedInfo.INDEX_DELAYED_NODE_LEFT_TIMEOUT_SETTING.getKey(),"10h").build(),Settings.EMPTY);
  assertThat(delay,equalTo(0L));
  delay=unassignedInfo.getLastComputedLeftDelayNanos();
  assertThat(delay,equalTo(0L));
}
