{
  createIndex("idx");
  indexRandom(true,client().prepareIndex("idx","type").setSource("num",34));
  try {
    client().prepareSearch("idx").setQuery(QueryBuilders.regexpQuery("num","34")).get();
    fail("SearchPhaseExecutionException should have been thrown");
  }
 catch (  SearchPhaseExecutionException ex) {
    assertThat(ex.getCause().getCause().getMessage(),equalTo("Cannot use regular expression to filter numeric field [num]"));
  }
}
