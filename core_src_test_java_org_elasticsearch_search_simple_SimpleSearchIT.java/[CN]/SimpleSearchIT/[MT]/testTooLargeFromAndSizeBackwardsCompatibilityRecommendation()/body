{
  prepareCreate("idx").setSettings(DefaultSearchContext.MAX_RESULT_WINDOW,Integer.MAX_VALUE).get();
  indexRandom(true,client().prepareIndex("idx","type").setSource("{}"));
  assertHitCount(client().prepareSearch("idx").setFrom(DefaultSearchContext.Defaults.MAX_RESULT_WINDOW * 10).get(),1);
  assertHitCount(client().prepareSearch("idx").setSize(DefaultSearchContext.Defaults.MAX_RESULT_WINDOW * 10).get(),1);
  assertHitCount(client().prepareSearch("idx").setSize(DefaultSearchContext.Defaults.MAX_RESULT_WINDOW * 10).setFrom(DefaultSearchContext.Defaults.MAX_RESULT_WINDOW * 10).get(),1);
}
