{
  TermsAggregatorFactory factory=new TermsAggregatorFactory(name,targetValueType);
  factory.bucketCountThresholds=BucketCountThresholds.readFromStream(in);
  factory.collectMode=SubAggCollectionMode.BREADTH_FIRST.readFrom(in);
  factory.executionHint=in.readOptionalString();
  if (in.readBoolean()) {
    factory.includeExclude=IncludeExclude.readFromStream(in);
  }
  factory.order=InternalOrder.Streams.readOrder(in);
  factory.showTermDocCountError=in.readBoolean();
  return factory;
}
