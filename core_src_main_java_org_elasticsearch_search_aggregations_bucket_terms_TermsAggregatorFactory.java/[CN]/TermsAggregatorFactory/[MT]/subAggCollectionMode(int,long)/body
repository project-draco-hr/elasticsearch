{
  if (expectedSize == Integer.MAX_VALUE) {
    return SubAggCollectionMode.DEPTH_FIRST;
  }
  if (maxOrd == -1 || maxOrd > expectedSize) {
    return SubAggCollectionMode.BREADTH_FIRST;
  }
  return SubAggCollectionMode.DEPTH_FIRST;
}
