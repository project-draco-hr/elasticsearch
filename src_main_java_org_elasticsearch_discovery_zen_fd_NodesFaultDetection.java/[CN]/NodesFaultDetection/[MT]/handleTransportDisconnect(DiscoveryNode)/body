{
  if (!latestNodes.nodeExists(node.id())) {
    return;
  }
  NodeFD nodeFD=nodesFD.remove(node);
  if (nodeFD == null) {
    return;
  }
  if (!running) {
    return;
  }
  nodeFD.running=false;
  if (connectOnNetworkDisconnect) {
    try {
      transportService.connectToNode(node);
      nodesFD.put(node,new NodeFD());
      threadPool.schedule(TimeValue.timeValueMillis(0),ThreadPool.Names.SAME,new SendPingRequest(node));
    }
 catch (    Exception e) {
      logger.trace("[node  ] [{}] transport disconnected (with verified connect)",node);
      notifyNodeFailure(node,"transport disconnected (with verified connect)");
    }
  }
 else {
    logger.trace("[node  ] [{}] transport disconnected",node);
    notifyNodeFailure(node,"transport disconnected");
  }
}
