{
  super(settings);
  this.threadPool=threadPool;
  this.transportService=transportService;
  this.connectOnNetworkDisconnect=componentSettings.getAsBoolean("connect_on_network_disconnect",false);
  this.pingInterval=componentSettings.getAsTime("ping_interval",timeValueSeconds(1));
  this.pingRetryTimeout=componentSettings.getAsTime("ping_timeout",timeValueSeconds(30));
  this.pingRetryCount=componentSettings.getAsInt("ping_retries",3);
  this.registerConnectionListener=componentSettings.getAsBoolean("register_connection_listener",true);
  logger.debug("[node  ] uses ping_interval [{}], ping_timeout [{}], ping_retries [{}]",pingInterval,pingRetryTimeout,pingRetryCount);
  transportService.registerHandler(PING_ACTION_NAME,new PingRequestHandler());
  this.connectionListener=new FDConnectionListener();
  if (registerConnectionListener) {
    transportService.addConnectionListener(connectionListener);
  }
}
