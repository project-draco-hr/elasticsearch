{
  if (location == null) {
    return new StoreFilesMetaData(false,shardId,ImmutableMap.<String,StoreFileMetaData>of());
  }
  File shardIndexLocation=shardIndexLocation(shardId);
  if (!shardIndexLocation.exists()) {
    return new StoreFilesMetaData(false,shardId,ImmutableMap.<String,StoreFileMetaData>of());
  }
  Map<String,StoreFileMetaData> files=Maps.newHashMap();
  for (  File file : shardIndexLocation.listFiles()) {
    files.put(file.getName(),new StoreFileMetaData(file.getName(),file.length(),file.lastModified()));
  }
  return new StoreFilesMetaData(false,shardId,files);
}
