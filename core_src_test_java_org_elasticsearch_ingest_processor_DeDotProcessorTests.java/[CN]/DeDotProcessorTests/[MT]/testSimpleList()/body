{
  Map<String,Object> source=new HashMap<>();
  Map<String,Object> subField=new HashMap<>();
  subField.put("b.c","hello world!");
  source.put("a",Arrays.asList(subField));
  IngestDocument ingestDocument=new IngestDocument(source,Collections.emptyMap());
  Processor processor=new DeDotProcessor("_");
  processor.execute(ingestDocument);
  IngestDocument expectedDocument=new IngestDocument(Collections.singletonMap("a",Collections.singletonList(Collections.singletonMap("b_c","hello world!"))),Collections.emptyMap());
  assertThat(ingestDocument,equalTo(expectedDocument));
}
