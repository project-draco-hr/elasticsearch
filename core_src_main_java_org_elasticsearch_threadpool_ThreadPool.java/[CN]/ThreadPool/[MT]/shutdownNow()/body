{
  estimatedTimeThread.running=false;
  estimatedTimeThread.interrupt();
  scheduler.shutdownNow();
  for (  ExecutorHolder executor : executors.values()) {
    if (executor.executor() instanceof ThreadPoolExecutor) {
      ((ThreadPoolExecutor)executor.executor()).shutdownNow();
    }
  }
  ExecutorHolder holder;
  while ((holder=retiredExecutors.poll()) != null) {
    ThreadPoolExecutor executor=(ThreadPoolExecutor)holder.executor();
    executor.shutdownNow();
  }
}
