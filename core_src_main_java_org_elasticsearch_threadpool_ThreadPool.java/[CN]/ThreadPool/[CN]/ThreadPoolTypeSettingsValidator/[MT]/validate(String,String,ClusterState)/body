{
  Matcher matcher=Pattern.compile("threadpool\\.(.*)\\.type").matcher(setting);
  if (!matcher.matches()) {
    return null;
  }
 else {
    String threadPool=matcher.group(1);
    ThreadPool.ThreadPoolType defaultThreadPoolType=ThreadPool.THREAD_POOL_TYPES.get(threadPool);
    ThreadPool.ThreadPoolType threadPoolType;
    try {
      threadPoolType=ThreadPool.ThreadPoolType.fromType(value);
    }
 catch (    IllegalArgumentException e) {
      return e.getMessage();
    }
    if (defaultThreadPoolType.equals(threadPoolType)) {
      return null;
    }
 else {
      return String.format(Locale.ROOT,"thread pool type for [%s] can only be updated to [%s] but was [%s]",threadPool,defaultThreadPoolType.getType(),threadPoolType.getType());
    }
  }
}
