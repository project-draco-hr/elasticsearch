{
  List<ShardRouting> shards=newArrayList();
  for (  IndexShardRoutingTable shardRoutingTable : this) {
    shards.addAll(shardRoutingTable.shardsWithState(states));
  }
  return shards;
}
