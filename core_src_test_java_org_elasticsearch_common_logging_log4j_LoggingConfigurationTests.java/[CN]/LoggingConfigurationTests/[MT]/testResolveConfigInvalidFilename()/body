{
  Path tmpDir=createTempDir();
  Path invalidSuffix=tmpDir.resolve(loggingConfiguration(randomFrom(LogConfigurator.ALLOWED_SUFFIXES)) + randomInvalidSuffix());
  Files.write(invalidSuffix,"yml: bar".getBytes(StandardCharsets.UTF_8));
  Environment environment=new Environment(Settings.builder().put("path.conf",invalidSuffix.toAbsolutePath()).put("path.home",createTempDir().toString()).build());
  Settings.Builder builder=Settings.builder();
  LogConfigurator.resolveConfig(environment,builder);
  Settings logSettings=builder.build();
  assertThat(logSettings.get("yml"),Matchers.nullValue());
}
