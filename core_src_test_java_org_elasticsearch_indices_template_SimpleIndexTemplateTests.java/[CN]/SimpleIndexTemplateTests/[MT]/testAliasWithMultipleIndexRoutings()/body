{
  PutIndexTemplateRequestBuilder putIndexTemplateRequestBuilder=client().admin().indices().preparePutTemplate("template_1").setTemplate("te*").addAlias(new Alias("alias").indexRouting("1,2,3"));
  try {
    putIndexTemplateRequestBuilder.get();
    fail("put template should have failed due to alias with multiple index routings");
  }
 catch (  IllegalArgumentException e) {
    assertThat(e.getMessage(),equalTo("alias [alias] has several index routing values associated with it"));
  }
}
