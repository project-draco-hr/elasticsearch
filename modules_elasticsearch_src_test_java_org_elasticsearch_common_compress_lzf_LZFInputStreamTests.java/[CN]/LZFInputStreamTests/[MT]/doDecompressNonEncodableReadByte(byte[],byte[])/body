{
  ByteArrayInputStream bis=new ByteArrayInputStream(bytes);
  int outputBytes=0;
  InputStream is=new LZFInputStream(bis);
  int val;
  while ((val=is.read()) != -1) {
    byte testVal=(byte)(val & 255);
    Assert.assertTrue(testVal == reference[outputBytes]);
    outputBytes++;
  }
  Assert.assertTrue(outputBytes == reference.length);
}
