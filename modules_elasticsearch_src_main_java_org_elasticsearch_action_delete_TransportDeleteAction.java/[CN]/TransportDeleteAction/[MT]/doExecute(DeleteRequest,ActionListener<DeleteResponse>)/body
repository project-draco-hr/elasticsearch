{
  if (autoCreateIndex) {
    if (!clusterService.state().metaData().hasConcreteIndex(deleteRequest.index())) {
      createIndexAction.execute(new CreateIndexRequest(deleteRequest.index()),new ActionListener<CreateIndexResponse>(){
        @Override public void onResponse(        CreateIndexResponse result){
          TransportDeleteAction.super.doExecute(deleteRequest,listener);
        }
        @Override public void onFailure(        Throwable e){
          if (ExceptionsHelper.unwrapCause(e) instanceof IndexAlreadyExistsException) {
            TransportDeleteAction.super.doExecute(deleteRequest,listener);
          }
 else {
            listener.onFailure(e);
          }
        }
      }
);
    }
 else {
      super.doExecute(deleteRequest,listener);
    }
  }
}
