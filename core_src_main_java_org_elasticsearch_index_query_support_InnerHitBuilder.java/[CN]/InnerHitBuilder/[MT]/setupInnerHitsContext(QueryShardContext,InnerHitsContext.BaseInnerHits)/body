{
  innerHitsContext.from(from);
  innerHitsContext.size(size);
  innerHitsContext.explain(explain);
  innerHitsContext.version(version);
  innerHitsContext.trackScores(trackScores);
  if (fieldNames != null) {
    if (fieldNames.isEmpty()) {
      innerHitsContext.emptyFieldNames();
    }
 else {
      for (      String fieldName : fieldNames) {
        innerHitsContext.fieldNames().add(fieldName);
      }
    }
  }
  if (fieldDataFields != null) {
    FieldDataFieldsContext fieldDataFieldsContext=innerHitsContext.getFetchSubPhaseContext(FieldDataFieldsFetchSubPhase.CONTEXT_FACTORY);
    for (    String field : fieldDataFields) {
      fieldDataFieldsContext.add(new FieldDataFieldsContext.FieldDataField(field));
    }
    fieldDataFieldsContext.setHitExecutionNeeded(true);
  }
  if (scriptFields != null) {
    for (    ScriptField field : scriptFields) {
      SearchScript searchScript=innerHitsContext.scriptService().search(innerHitsContext.lookup(),field.script(),ScriptContext.Standard.SEARCH,Collections.emptyMap(),context.getClusterState());
      innerHitsContext.scriptFields().add(new org.elasticsearch.search.fetch.script.ScriptFieldsContext.ScriptField(field.fieldName(),searchScript,field.ignoreFailure()));
    }
  }
  if (fetchSourceContext != null) {
    innerHitsContext.fetchSourceContext(fetchSourceContext);
  }
  if (sorts != null) {
    Optional<Sort> optionalSort=SortBuilder.buildSort(sorts,context);
    if (optionalSort.isPresent()) {
      innerHitsContext.sort(optionalSort.get());
    }
  }
  if (highlightBuilder != null) {
    innerHitsContext.highlight(highlightBuilder.build(context));
  }
  ParsedQuery parsedQuery=new ParsedQuery(query.toQuery(context),context.copyNamedQueries());
  innerHitsContext.parsedQuery(parsedQuery);
}
