{
  Builder builder=new Builder();
  int factoriesSize=in.readVInt();
  for (int i=0; i < factoriesSize; i++) {
    AggregatorBuilder<?> factory=in.readAggregatorFactory();
    builder.addAggregator(factory);
  }
  int pipelineFactoriesSize=in.readVInt();
  for (int i=0; i < pipelineFactoriesSize; i++) {
    PipelineAggregatorBuilder<?> factory=in.readPipelineAggregatorFactory();
    builder.addPipelineAggregator(factory);
  }
  return builder;
}
