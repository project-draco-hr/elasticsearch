{
  MutableShardRouting[] mutableShardRoutings=unassigned.toArray(new MutableShardRouting[unassigned.size()]);
  unassigned.clear();
  primaries=0;
  transactionId++;
  return mutableShardRoutings;
}
