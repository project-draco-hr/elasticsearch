{
  String mapping=XContentFactory.jsonBuilder().startObject().startObject("type").endObject().endObject().string();
  DocumentMapper mapper=MapperTests.newParser().parse(mapping);
  ParsedDocument doc=mapper.parse("type","1",XContentFactory.jsonBuilder().startObject().field("_boost",2.0f).field("field","a").field("field","b").endObject().bytes());
  assertThat(doc.rootDoc().getFields().size(),equalTo(2));
  float sum=0.0f;
  for (  IndexableField field : doc.rootDoc().getFields()) {
    sum+=field.boost();
  }
  assertThat(3.0f,equalTo(sum));
}
