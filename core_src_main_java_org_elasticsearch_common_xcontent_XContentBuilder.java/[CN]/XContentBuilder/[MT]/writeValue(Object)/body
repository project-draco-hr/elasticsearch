{
  if (value == null) {
    generator.writeNull();
    return;
  }
  Class<?> type=value.getClass();
  Writer writer=MAP.get(type);
  if (writer != null) {
    writer.write(generator,value);
  }
 else   if (value instanceof Map) {
    writeMap((Map)value);
  }
 else   if (value instanceof Path) {
    generator.writeString(value.toString());
  }
 else   if (value instanceof Iterable) {
    writeIterable((Iterable<?>)value);
  }
 else   if (value instanceof Object[]) {
    writeObjectArray((Object[])value);
  }
 else   if (value instanceof Date) {
    generator.writeString(XContentBuilder.defaultDatePrinter.print(((Date)value).getTime()));
  }
 else   if (value instanceof Calendar) {
    generator.writeString(XContentBuilder.defaultDatePrinter.print((((Calendar)value)).getTimeInMillis()));
  }
 else   if (value instanceof ReadableInstant) {
    generator.writeString(XContentBuilder.defaultDatePrinter.print((((ReadableInstant)value)).getMillis()));
  }
 else   if (value instanceof BytesReference) {
    writeBytesReference((BytesReference)value);
  }
 else   if (value instanceof ToXContent) {
    ((ToXContent)value).toXContent(this,ToXContent.EMPTY_PARAMS);
  }
 else {
    generator.writeString(value.toString());
  }
}
