{
  if (value == null) {
    return nullValue();
  }
 else   if (value.hasString()) {
    generator.writeString(value.string());
  }
 else {
    BytesRef bytesRef=value.bytes().toBytesRef();
    generator.writeUTF8String(bytesRef.bytes,bytesRef.offset,bytesRef.length);
  }
  return this;
}
