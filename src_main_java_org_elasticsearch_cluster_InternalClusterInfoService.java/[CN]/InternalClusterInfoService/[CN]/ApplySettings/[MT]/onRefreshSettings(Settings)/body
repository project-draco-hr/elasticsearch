{
  TimeValue newUpdateFrequency=settings.getAsTime(INTERNAL_CLUSTER_INFO_UPDATE_INTERVAL,null);
  Boolean newEnabled=settings.getAsBoolean(DiskThresholdDecider.CLUSTER_ROUTING_ALLOCATION_DISK_THRESHOLD_ENABLED,null);
  if (newUpdateFrequency != null) {
    if (newUpdateFrequency.getMillis() < TimeValue.timeValueSeconds(10).getMillis()) {
      logger.warn("[{}] set too low [{}] (< 10s)",INTERNAL_CLUSTER_INFO_UPDATE_INTERVAL,newUpdateFrequency);
      throw new IllegalStateException("Unable to set " + INTERNAL_CLUSTER_INFO_UPDATE_INTERVAL + " less than 10 seconds");
    }
 else {
      logger.info("updating [{}] from [{}] to [{}]",INTERNAL_CLUSTER_INFO_UPDATE_INTERVAL,updateFrequency,newUpdateFrequency);
      InternalClusterInfoService.this.updateFrequency=newUpdateFrequency;
    }
  }
  TimeValue newFetchTimeout=settings.getAsTime(INTERNAL_CLUSTER_INFO_TIMEOUT,null);
  if (newFetchTimeout != null) {
    logger.info("updating fetch timeout [{}] from [{}] to [{}]",INTERNAL_CLUSTER_INFO_TIMEOUT,fetchTimeout,newFetchTimeout);
    InternalClusterInfoService.this.fetchTimeout=newFetchTimeout;
  }
  if (newEnabled != null) {
    InternalClusterInfoService.this.enabled=newEnabled;
  }
}
