{
  valueScript.setNextDocId(docId);
  long bucket=bucket(value,interval);
  double scriptValue=valueScript.runAsDouble();
  InternalFullHistogramFacet.FullEntry entry=entries.get(bucket);
  if (entry == null) {
    entry=new InternalFullHistogramFacet.FullEntry(bucket,1,1,scriptValue);
    entries.put(bucket,entry);
  }
 else {
    entry.count++;
    entry.totalCount++;
    entry.total+=scriptValue;
  }
}
