{
  Class<? extends Module> storeModule=NioFsStoreModule.class;
  if (OsUtils.WINDOWS) {
    storeModule=SimpleFsStoreModule.class;
  }
  String storeType=settings.get("index.store.type");
  if ("ram".equalsIgnoreCase(storeType)) {
    storeModule=RamStoreModule.class;
  }
 else   if ("memory".equalsIgnoreCase(storeType)) {
    storeModule=MemoryStoreModule.class;
  }
 else   if ("fs".equalsIgnoreCase(storeType)) {
  }
 else   if ("simplefs".equalsIgnoreCase(storeType)) {
    storeModule=SimpleFsStoreModule.class;
  }
 else   if ("niofs".equalsIgnoreCase(storeType)) {
    storeModule=NioFsStoreModule.class;
  }
 else   if ("mmapfs".equalsIgnoreCase(storeType)) {
    storeModule=MmapFsStoreModule.class;
  }
 else   if (storeType != null) {
    storeModule=settings.getAsClass("index.store.type",storeModule,"org.elasticsearch.index.store.","StoreModule");
  }
  ModulesFactory.createModule(storeModule,settings).configure(binder());
  bind(StoreManagement.class).asEagerSingleton();
}
