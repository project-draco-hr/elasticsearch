{
  if (name == null) {
    throw new IllegalArgumentException("plugin name must be supplied with install [name].");
  }
  if (!Files.exists(environment.pluginsFile())) {
    terminal.println("Plugins directory [%s] does not exist. Creating...",environment.pluginsFile());
    Files.createDirectory(environment.pluginsFile());
  }
  if (!Environment.isWritable(environment.pluginsFile())) {
    throw new IOException("plugin directory " + environment.pluginsFile() + " is read only");
  }
  PluginHandle pluginHandle=PluginHandle.parse(name);
  checkForForbiddenName(pluginHandle.name);
  Path pluginFile=download(pluginHandle,terminal);
  extract(pluginHandle,terminal,pluginFile);
}
