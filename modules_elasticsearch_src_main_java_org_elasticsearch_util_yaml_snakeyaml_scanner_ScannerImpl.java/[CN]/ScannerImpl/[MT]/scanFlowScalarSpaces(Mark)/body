{
  StringBuilder chunks=new StringBuilder();
  int length=0;
  while (" \t".indexOf(reader.peek(length)) != -1) {
    length++;
  }
  String whitespaces=reader.prefix(length);
  reader.forward(length);
  char ch=reader.peek();
  if (ch == '\0') {
    throw new ScannerException("while scanning a quoted scalar",startMark,"found unexpected end of stream",reader.getMark());
  }
 else   if (Constant.FULL_LINEBR.has(ch)) {
    String lineBreak=scanLineBreak();
    String breaks=scanFlowScalarBreaks(startMark);
    if (!"\n".equals(lineBreak)) {
      chunks.append(lineBreak);
    }
 else     if (breaks.length() == 0) {
      chunks.append(" ");
    }
    chunks.append(breaks);
  }
 else {
    chunks.append(whitespaces);
  }
  return chunks.toString();
}
