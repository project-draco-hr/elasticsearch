{
  Query childQuery=new TermQuery(new Term("field","value"));
  ScoreType scoreType=ScoreType.values()[random().nextInt(ScoreType.values().length)];
  ParentFieldMapper parentFieldMapper=SearchContext.current().mapperService().documentMapper("child").parentFieldMapper();
  ParentChildIndexFieldData parentChildIndexFieldData=SearchContext.current().fieldData().getForField(parentFieldMapper.fieldType());
  BitDocIdSetFilter parentFilter=wrapWithBitSetFilter(new QueryWrapperFilter(new TermQuery(new Term(TypeFieldMapper.NAME,"parent"))));
  int minChildren=random().nextInt(10);
  int maxChildren=scaledRandomIntBetween(minChildren,10);
  Query query=new ChildrenQuery(parentChildIndexFieldData,"parent","child",parentFilter,childQuery,scoreType,minChildren,maxChildren,12,wrapWithBitSetFilter(Queries.newNonNestedFilter()));
  QueryUtils.check(query);
}
