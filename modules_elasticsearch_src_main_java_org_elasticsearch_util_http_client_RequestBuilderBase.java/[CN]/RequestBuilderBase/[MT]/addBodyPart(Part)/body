{
  if ((request.type != RequestType.POST) && (request.type != RequestType.PUT)) {
    throw new IllegalArgumentException("Request type has to POST or PUT for parts");
  }
  resetParameters();
  resetNonMultipartData();
  if (request.parts == null) {
    request.parts=new ArrayList<Part>();
  }
  request.parts.add(part);
  return derived.cast(this);
}
