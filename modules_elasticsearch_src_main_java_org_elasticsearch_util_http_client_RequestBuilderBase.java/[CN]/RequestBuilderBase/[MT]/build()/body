{
  if ((request.length < 0) && (request.streamData == null) && ((request.type == RequestType.POST) || (request.type == RequestType.PUT))) {
    String contentLength=request.headers.getHeaderValue("Content-Length");
    if (contentLength != null) {
      try {
        request.length=Long.parseLong(contentLength);
      }
 catch (      NumberFormatException e) {
      }
    }
  }
  return request;
}
