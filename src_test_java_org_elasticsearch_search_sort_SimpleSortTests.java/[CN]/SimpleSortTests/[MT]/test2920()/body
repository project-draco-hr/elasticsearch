{
  assertAcked(prepareCreate("test").addMapping("test",jsonBuilder().startObject().startObject("test").startObject("properties").startObject("value").field("type","string").endObject().endObject().endObject().endObject()));
  ensureGreen();
  for (int i=0; i < 10; i++) {
    client().prepareIndex("test","test",Integer.toString(i)).setSource(jsonBuilder().startObject().field("value","" + i).endObject()).execute().actionGet();
  }
  refresh();
  SearchResponse searchResponse=client().prepareSearch().setQuery(matchAllQuery()).addSort(SortBuilders.scriptSort(new Script("\u0027\u0027"),"string")).setSize(10).execute().actionGet();
  assertNoFailures(searchResponse);
}
