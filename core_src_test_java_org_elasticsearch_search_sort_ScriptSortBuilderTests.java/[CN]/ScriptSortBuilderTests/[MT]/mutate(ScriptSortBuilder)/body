{
  ScriptSortBuilder result;
  if (randomBoolean()) {
    Script script=original.script();
    ScriptSortType type=original.type();
    if (randomBoolean()) {
      result=new ScriptSortBuilder(new Script(script.getScript() + "_suffix"),type);
    }
 else {
      result=new ScriptSortBuilder(script,type.equals(ScriptSortType.NUMBER) ? ScriptSortType.STRING : ScriptSortType.NUMBER);
    }
    result.order(original.order());
    if (original.sortMode() != null && result.type() == ScriptSortType.NUMBER) {
      result.sortMode(original.sortMode());
    }
    result.setNestedFilter(original.getNestedFilter());
    result.setNestedPath(original.getNestedPath());
    return result;
  }
  result=new ScriptSortBuilder(original);
switch (randomIntBetween(0,3)) {
case 0:
    if (original.order() == SortOrder.ASC) {
      result.order(SortOrder.DESC);
    }
 else {
      result.order(SortOrder.ASC);
    }
  break;
case 1:
if (original.type() == ScriptSortType.NUMBER) {
  result.sortMode(RandomSortDataGenerator.mode(original.sortMode()));
}
 else {
  if (original.sortMode() == SortMode.MIN) {
    result.sortMode(SortMode.MAX);
  }
 else {
    result.sortMode(SortMode.MIN);
  }
}
break;
case 2:
result.setNestedFilter(RandomSortDataGenerator.nestedFilter(original.getNestedFilter()));
break;
case 3:
result.setNestedPath(original.getNestedPath() + "_some_suffix");
break;
}
return result;
}
