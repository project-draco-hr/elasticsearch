{
  String[] values=Strings.splitStringToArray(value,delimiter);
  for (  String s : values) {
    int index=s.indexOf('=');
    if (index == -1) {
      throw new ElasticsearchIllegalArgumentException("value [" + s + "] for settings loaded with delimiter ["+ delimiter+ "] is malformed, missing =");
    }
    map.put(s.substring(0,index),s.substring(index + 1));
  }
  return this;
}
