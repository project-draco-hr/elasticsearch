{
  super(shardId,indexSettings);
  Preconditions.checkNotNull(store,"Store must be provided to the engine");
  Preconditions.checkNotNull(deletionPolicy,"Snapshot deletion policy must be provided to the engine");
  Preconditions.checkNotNull(translog,"Translog must be provided to the engine");
  this.indexingBufferSize=componentSettings.getAsBytesSize("indexing_buffer_size",new ByteSizeValue(64,ByteSizeUnit.MB));
  this.termIndexInterval=indexSettings.getAsInt("index.term_index_interval",IndexWriter.DEFAULT_TERM_INDEX_INTERVAL);
  this.compoundFormat=indexSettings.getAsBoolean("index.compound_format",indexSettings.getAsBoolean("index.merge.policy.use_compound_file",store == null ? false : store.suggestUseCompoundFile()));
  this.refreshInterval=componentSettings.getAsTime("refresh_interval",timeValueSeconds(1));
  this.store=store;
  this.deletionPolicy=deletionPolicy;
  this.translog=translog;
  this.mergePolicyProvider=mergePolicyProvider;
  this.mergeScheduler=mergeScheduler;
  this.analysisService=analysisService;
  this.similarityService=similarityService;
}
