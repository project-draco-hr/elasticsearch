{
synchronized (failedEngineMutex) {
    if (failedEngine != null) {
      return;
    }
    logger.warn("failed engine",failure);
    failedEngine=failure;
    for (    FailedEngineListener listener : failedEngineListeners) {
      listener.onFailedEngine(shardId,failure);
    }
    innerClose();
  }
}
