{
  rwl.readLock().lock();
  try {
    long bytes=IndexWriters.estimateRamSize(indexWriter);
    bytes+=translog.estimateMemorySize().bytes();
    return new ByteSizeValue(bytes);
  }
 catch (  Exception e) {
    return null;
  }
 finally {
    rwl.readLock().unlock();
  }
}
