{
  SearchSourceBuilder source=searchSource().query(termQuery("multi","test")).from(0).size(60).explain(true).sort("age",false);
  SearchResponse searchResponse=client("server1").search(searchRequest("test").source(source).searchType(DFS_QUERY_THEN_FETCH).scroll(new Scroll(timeValueMinutes(10)))).actionGet();
  assertThat(searchResponse.hits().totalHits(),equalTo(100l));
  assertThat(searchResponse.hits().hits().length,equalTo(60));
  for (int i=0; i < 60; i++) {
    SearchHit hit=searchResponse.hits().hits()[i];
    assertThat("id[" + hit.id() + "]",hit.id(),equalTo(Integer.toString(i)));
  }
  searchResponse=client("server1").searchScroll(searchScrollRequest(searchResponse.scrollId())).actionGet();
  assertThat(searchResponse.hits().totalHits(),equalTo(100l));
  assertThat(searchResponse.hits().hits().length,equalTo(40));
  for (int i=0; i < 40; i++) {
    SearchHit hit=searchResponse.hits().hits()[i];
    assertThat("id[" + hit.id() + "]",hit.id(),equalTo(Integer.toString(i + 60)));
  }
}
