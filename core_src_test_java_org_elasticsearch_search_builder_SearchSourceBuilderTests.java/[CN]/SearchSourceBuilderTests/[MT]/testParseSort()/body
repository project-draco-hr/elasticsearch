{
{
    String restContent=" { \"sort\": \"foo\"}";
    try (XContentParser parser=XContentFactory.xContent(restContent).createParser(restContent)){
      SearchSourceBuilder searchSourceBuilder=SearchSourceBuilder.parseSearchSource(parser,createParseContext(parser),aggParsers);
      assertEquals(1,searchSourceBuilder.sorts().size());
      assertEquals("{\"foo\":{}}",searchSourceBuilder.sorts().get(0).toUtf8());
    }
   }
{
    String restContent="{\"sort\" : [\n" + "        { \"post_date\" : {\"order\" : \"asc\"}},\n" + "        \"user\",\n"+ "        { \"name\" : \"desc\" },\n"+ "        { \"age\" : \"desc\" },\n"+ "        \"_score\"\n"+ "    ]}";
    try (XContentParser parser=XContentFactory.xContent(restContent).createParser(restContent)){
      SearchSourceBuilder searchSourceBuilder=SearchSourceBuilder.parseSearchSource(parser,createParseContext(parser),aggParsers);
      assertEquals(5,searchSourceBuilder.sorts().size());
      assertEquals("{\"post_date\":{\"order\":\"asc\"}}",searchSourceBuilder.sorts().get(0).toUtf8());
      assertEquals("\"user\"",searchSourceBuilder.sorts().get(1).toUtf8());
      assertEquals("{\"name\":\"desc\"}",searchSourceBuilder.sorts().get(2).toUtf8());
      assertEquals("{\"age\":\"desc\"}",searchSourceBuilder.sorts().get(3).toUtf8());
      assertEquals("\"_score\"",searchSourceBuilder.sorts().get(4).toUtf8());
    }
   }
}
