{
  int size=in.readVInt();
  responses=newArrayListWithCapacity(size);
  for (int i=0; i < size; i++) {
    ShardResponse response=newShardResponse();
    response.readFrom(in);
    responses.add(response);
  }
  size=in.readVInt();
  if (size > 0) {
    exceptions=newArrayListWithCapacity(size);
    ThrowableObjectInputStream toi=new ThrowableObjectInputStream(in);
    for (int i=0; i < size; i++) {
      try {
        exceptions.add((BroadcastShardOperationFailedException)toi.readObject());
      }
 catch (      ClassNotFoundException e) {
        throw new IOException("Failed to load class",e);
      }
    }
  }
}
