{
  checkNotNull(collection);
  return (collection instanceof EnumSet) ? EnumSet.complementOf((EnumSet<E>)collection) : makeComplementByHand(collection,type);
}
