{
  assertAcked(prepareCreate("test").addAlias(new Alias("alias")).addMapping("my-type1",jsonBuilder().startObject().startObject("my-type1").startObject("properties").startObject("field1").startObject("properties").startObject("field2").field("type","string").endObject().endObject().endObject().endObject().endObject().endObject()).setSettings(ImmutableSettings.settingsBuilder().put("index.refresh_interval",-1)));
  client().prepareIndex("test","my-type1","1").setSource(jsonBuilder().startObject().startObject("field1").field("field2","value1").endObject().endObject()).get();
  try {
    client().prepareGet(indexOrAlias(),"my-type1","1").setFields("field1").get();
    fail();
  }
 catch (  IllegalArgumentException e) {
  }
  flush();
  try {
    client().prepareGet(indexOrAlias(),"my-type1","1").setFields("field1").get();
    fail();
  }
 catch (  IllegalArgumentException e) {
  }
}
