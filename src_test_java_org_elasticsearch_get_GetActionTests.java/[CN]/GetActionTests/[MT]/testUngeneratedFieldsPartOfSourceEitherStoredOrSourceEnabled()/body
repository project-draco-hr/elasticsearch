{
  boolean stored=randomBoolean();
  boolean sourceEnabled=true;
  if (stored) {
    sourceEnabled=randomBoolean();
  }
  indexSingleDocumentWithUngeneratedFieldsThatArePartOf_source(stored,sourceEnabled);
  String[] fieldsList={};
  assertGetFieldsAlwaysWorks(indexOrAlias(),"doc","1",fieldsList);
  refresh();
  assertGetFieldsAlwaysWorks(indexOrAlias(),"doc","1",fieldsList);
  flush();
  assertGetFieldsAlwaysWorks(indexOrAlias(),"doc","1",fieldsList);
}
