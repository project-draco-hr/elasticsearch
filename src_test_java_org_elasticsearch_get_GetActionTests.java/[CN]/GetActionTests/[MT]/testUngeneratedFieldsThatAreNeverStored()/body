{
  String createIndexSource="{\n" + "  \"settings\": {\n" + "    \"index.translog.disable_flush\": true,\n"+ "    \"refresh_interval\": \"-1\"\n"+ "  },\n"+ "  \"mappings\": {\n"+ "    \"doc\": {\n"+ "      \"_source\": {\n"+ "        \"enabled\": \"" + randomBoolean() + "\"\n"+ "      },\n"+ "      \"properties\": {\n"+ "        \"suggest\": {\n"+ "          \"type\": \"completion\"\n"+ "        }\n"+ "      }\n"+ "    }\n"+ "  }\n"+ "}";
  assertAcked(prepareCreate("testidx").setSource(createIndexSource));
  ensureGreen();
  String doc="{\n" + "  \"suggest\": {\n" + "    \"input\": [\n"+ "      \"Nevermind\",\n"+ "      \"Nirvana\"\n"+ "    ],\n"+ "    \"output\": \"Nirvana - Nevermind\"\n"+ "  }\n"+ "}";
  index("testidx","doc","1",doc);
  String[] fieldsList={"suggest"};
  assertGetFieldsAlwaysNull("testidx","doc","1",fieldsList);
  refresh();
  assertGetFieldsAlwaysNull("testidx","doc","1",fieldsList);
  flush();
  assertGetFieldsAlwaysNull("testidx","doc","1",fieldsList);
}
