{
  String storedString=stored ? "yes" : "no";
  String createIndexSource="{\n" + "  \"settings\": {\n" + "    \"index.translog.disable_flush\": true,\n"+ "    \"refresh_interval\": \"-1\"\n"+ "  },\n"+ "  \"mappings\": {\n"+ "    \"doc\": {\n"+ "      \"_source\": {\n"+ "        \"enabled\": " + sourceEnabled + "\n"+ "      },\n"+ "      \"_boost\": {\n"+ "        \"name\": \"my_boost\",\n"+ "        \"null_value\": 1,\n"+ "        \"store\": \""+ storedString+ "\"\n"+ "      }\n"+ "    }\n"+ "  }\n"+ "}";
  assertAcked(prepareCreate("testidx").setSource(createIndexSource));
  ensureGreen();
  String doc="{\n" + "  \"my_boost\": 5.0,\n" + "  \"_ttl\": \"1h\"\n"+ "}\n";
  client().prepareIndex("testidx","doc").setId("1").setSource(doc).setRouting("1").execute().actionGet();
}
