{
  if (fieldName == null && fieldsNames == null) {
    throw new SearchSourceBuilderException("field must be set on statistical facet for facet [" + name + "]");
  }
  builder.startObject(name);
  builder.startObject(StatisticalFacetCollectorParser.NAME);
  if (fieldsNames != null) {
    if (fieldsNames.length == 1) {
      builder.field("field",fieldsNames[0]);
    }
 else {
      builder.field("fields",fieldsNames);
    }
  }
 else {
    builder.field("field",fieldName);
  }
  builder.endObject();
  addFilterFacetAndGlobal(builder,params);
  builder.endObject();
}
