{
  builder.startObject();
  builder.field("repository",entry.snapshotId().getRepository());
  builder.field("snapshot",entry.snapshotId().getSnapshot());
  builder.field("include_global_state",entry.includeGlobalState());
  builder.field("state",entry.state());
  builder.startArray("indices");
{
    for (    String index : entry.indices()) {
      builder.value(index);
    }
  }
  builder.endArray();
  builder.startArray("shards");
{
    for (    Map.Entry<ShardId,ShardSnapshotStatus> shardEntry : entry.shards.entrySet()) {
      ShardId shardId=shardEntry.getKey();
      ShardSnapshotStatus status=shardEntry.getValue();
      builder.startObject();
{
        builder.field("index",shardId.getIndex());
        builder.field("shard",shardId.getId());
        builder.field("state",status.state());
        builder.field("node",status.nodeId());
      }
      builder.endObject();
    }
  }
  builder.endArray();
  builder.endObject();
}
