def wait_for_node_startup(host='127.0.0.1', port=9200, timeout=60, header={}):
    print ('     Waiting until node becomes available for at most %s seconds' % timeout)
    for _ in range(timeout):
        conn = HTTPConnection(host=host, port=port, timeout=timeout)
        try:
            try:
                time.sleep(1)
                conn.request('GET', '', headers=header)
                res = conn.getresponse()
                if (res.status == 200):
                    return True
            except socket.error as e:
                pass
        finally:
            conn.close()
    return False
