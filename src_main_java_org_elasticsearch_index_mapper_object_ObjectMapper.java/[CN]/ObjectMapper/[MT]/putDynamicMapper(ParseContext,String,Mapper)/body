{
  context.path().add(arrayFieldName);
  context.setMappingsModified();
  if (context.isWithinNewMapper()) {
    mapper.parse(context);
  }
 else {
    context.setWithinNewMapper();
    try {
      mapper.parse(context);
      FieldMapperListener.Aggregator newFields=new FieldMapperListener.Aggregator();
      ObjectMapperListener.Aggregator newObjects=new ObjectMapperListener.Aggregator();
      mapper.traverse(newFields);
      mapper.traverse(newObjects);
      context.docMapper().addFieldMappers(newFields.mappers);
      context.docMapper().addObjectMappers(newObjects.mappers);
    }
  finally {
      context.clearWithinNewMapper();
    }
  }
  putMapper(mapper);
}
