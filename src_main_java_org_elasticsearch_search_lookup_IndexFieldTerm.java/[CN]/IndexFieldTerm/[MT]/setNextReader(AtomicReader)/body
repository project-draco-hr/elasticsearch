{
  try {
    int luceneFrequencyFlag=getLuceneFrequencyFlag(flags);
    if (shouldRetrieveFrequenciesOnly()) {
      docsEnum=getOnlyDocsEnum(luceneFrequencyFlag,reader);
    }
 else {
      int lucenePositionsFlags=getLucenePositionsFlags(flags);
      docsEnum=getDocsAndPosEnum(lucenePositionsFlags,reader);
      if (docsEnum == null) {
        docsEnum=getOnlyDocsEnum(luceneFrequencyFlag,reader);
      }
    }
  }
 catch (  IOException e) {
    throw new ElasticSearchException("Unable to get posting list for field " + fieldName + " and term "+ term,e);
  }
}
