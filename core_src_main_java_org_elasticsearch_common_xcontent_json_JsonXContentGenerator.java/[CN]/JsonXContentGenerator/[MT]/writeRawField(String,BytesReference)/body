{
  XContentType contentType=XContentFactory.xContentType(content);
  if (contentType == null) {
    throw new IllegalArgumentException("Can't write raw bytes whose xcontent-type can't be guessed");
  }
  if (mayWriteRawData(contentType) == false) {
    writeFieldName(fieldName);
    copyRawValue(content,contentType.xContent());
  }
 else {
    writeStartRaw(fieldName);
    flush();
    content.writeTo(os);
    writeEndRaw();
  }
}
