{
  XContentParser parser=null;
  try {
    if (content.hasArray()) {
      parser=xContent.createParser(content.array(),content.arrayOffset(),content.length());
    }
 else {
      parser=xContent.createParser(content.streamInput());
    }
    if (fieldName != null) {
      writeFieldName(fieldName);
    }
    copyCurrentStructure(parser);
  }
  finally {
    if (parser != null) {
      parser.close();
    }
  }
}
