{
  try {
    runnable.run();
  }
 catch (  Throwable e) {
    if (expectedType.isInstance(e)) {
      return expectedType.cast(e);
    }
    AssertionFailedError assertion=new AssertionFailedError("Unexpected exception type, expected " + expectedType.getSimpleName());
    assertion.initCause(e);
    throw assertion;
  }
  throw new AssertionFailedError("Expected exception " + expectedType.getSimpleName());
}
