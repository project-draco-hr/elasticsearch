{
  assertAcked(prepareCreate("test").addAlias(new Alias("alias")).addMapping("type1","field0","type=integer,","field1","type=string,index=no","field2","type=string,index=no,store=yes","field3","type=string,index=no,term_vector=yes","field4","type=string,index=not_analyzed","field5","type=string,index=analyzed"));
  ensureYellow();
  List<IndexRequestBuilder> indexBuilders=new ArrayList<>();
  for (int i=0; i < 6; i++) {
    indexBuilders.add(client().prepareIndex().setIndex("test").setType("type1").setId(String.valueOf(i)).setSource("field" + i,i));
  }
  indexRandom(true,indexBuilders);
  for (int i=0; i < 4; i++) {
    TermVectorsResponse resp=client().prepareTermVectors(indexOrAlias(),"type1",String.valueOf(i)).setSelectedFields("field" + i).get();
    assertThat(resp,notNullValue());
    assertThat(resp.isExists(),equalTo(true));
    assertThat(resp.getIndex(),equalTo("test"));
    assertThat("field" + i + " :",resp.getFields().terms("field" + i),nullValue());
  }
  for (int i=4; i < 6; i++) {
    TermVectorsResponse resp=client().prepareTermVectors(indexOrAlias(),"type1",String.valueOf(i)).setSelectedFields("field" + i).get();
    assertThat(resp.getIndex(),equalTo("test"));
    assertThat("field" + i + " :",resp.getFields().terms("field" + i),notNullValue());
  }
}
