{
  super(settings);
  nodeSettingsService.addListener(new ApplySettings());
  this.noMasterBlock=parseNoMasterBlock(settings.get(NO_MASTER_BLOCK,DEFAULT_NO_MASTER_BLOCK));
  this.publishTimeout=settings.getAsTime(PUBLISH_TIMEOUT,DEFAULT_PUBLISH_TIMEOUT);
  this.commitTimeout=settings.getAsTime(COMMIT_TIMEOUT,new TimeValue(Math.min(DEFAULT_COMMIT_TIMEOUT.millis(),publishTimeout.millis())));
  this.publishDiff=settings.getAsBoolean(PUBLISH_DIFF_ENABLE,DEFAULT_PUBLISH_DIFF_ENABLE);
}
