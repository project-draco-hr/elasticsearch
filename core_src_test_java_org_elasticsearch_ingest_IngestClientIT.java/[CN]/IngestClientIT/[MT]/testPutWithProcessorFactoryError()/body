{
  BytesReference source=jsonBuilder().startObject().field("description","my_pipeline").startArray("processors").startObject().startObject("test").field("unused",":sad_face:").endObject().endObject().endArray().endObject().bytes();
  PutPipelineRequest putPipelineRequest=new PutPipelineRequest("_id",source);
  WritePipelineResponse response=client().admin().cluster().putPipeline(putPipelineRequest).get();
  assertThat(response.isAcknowledged(),equalTo(false));
  assertThat(response.getError().getReason(),equalTo("processor [test] doesn't support one or more provided configuration parameters [unused]"));
}
