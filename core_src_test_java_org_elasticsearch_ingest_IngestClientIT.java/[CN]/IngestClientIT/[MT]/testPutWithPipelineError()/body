{
  BytesReference source=jsonBuilder().startObject().field("description","my_pipeline").startArray("processors").startObject().startObject("not_found").endObject().endObject().endArray().endObject().bytes();
  PutPipelineRequest putPipelineRequest=new PutPipelineRequest("_id",source);
  WritePipelineResponse response=client().admin().cluster().putPipeline(putPipelineRequest).get();
  assertThat(response.isAcknowledged(),equalTo(false));
  assertThat(response.getError().getReason(),equalTo("No processor type exists with name [not_found]"));
}
