{
  IndexSettingsService service=new IndexSettingsService(new Index("test"),EMPTY_SETTINGS);
  assertThat(new TieredMergePolicyProvider(createStore(EMPTY_SETTINGS),service).newMergePolicy().getNoCFSRatio(),equalTo(0.0));
  assertThat(new TieredMergePolicyProvider(createStore(build(true)),service).newMergePolicy().getNoCFSRatio(),equalTo(1.0));
  assertThat(new TieredMergePolicyProvider(createStore(build(0.5)),service).newMergePolicy().getNoCFSRatio(),equalTo(0.5));
  assertThat(new TieredMergePolicyProvider(createStore(build(1.0)),service).newMergePolicy().getNoCFSRatio(),equalTo(1.0));
  assertThat(new TieredMergePolicyProvider(createStore(build("true")),service).newMergePolicy().getNoCFSRatio(),equalTo(1.0));
  assertThat(new TieredMergePolicyProvider(createStore(build("True")),service).newMergePolicy().getNoCFSRatio(),equalTo(1.0));
  assertThat(new TieredMergePolicyProvider(createStore(build("False")),service).newMergePolicy().getNoCFSRatio(),equalTo(0.0));
  assertThat(new TieredMergePolicyProvider(createStore(build("false")),service).newMergePolicy().getNoCFSRatio(),equalTo(0.0));
  assertThat(new TieredMergePolicyProvider(createStore(build(false)),service).newMergePolicy().getNoCFSRatio(),equalTo(0.0));
  assertThat(new TieredMergePolicyProvider(createStore(build(0)),service).newMergePolicy().getNoCFSRatio(),equalTo(0.0));
  assertThat(new TieredMergePolicyProvider(createStore(build(0.0)),service).newMergePolicy().getNoCFSRatio(),equalTo(0.0));
  assertThat(new LogByteSizeMergePolicyProvider(createStore(EMPTY_SETTINGS),service).newMergePolicy().getNoCFSRatio(),equalTo(0.0));
  assertThat(new LogByteSizeMergePolicyProvider(createStore(build(true)),service).newMergePolicy().getNoCFSRatio(),equalTo(1.0));
  assertThat(new LogByteSizeMergePolicyProvider(createStore(build(0.5)),service).newMergePolicy().getNoCFSRatio(),equalTo(0.5));
  assertThat(new LogByteSizeMergePolicyProvider(createStore(build(1.0)),service).newMergePolicy().getNoCFSRatio(),equalTo(1.0));
  assertThat(new LogByteSizeMergePolicyProvider(createStore(build("true")),service).newMergePolicy().getNoCFSRatio(),equalTo(1.0));
  assertThat(new LogByteSizeMergePolicyProvider(createStore(build("True")),service).newMergePolicy().getNoCFSRatio(),equalTo(1.0));
  assertThat(new LogByteSizeMergePolicyProvider(createStore(build("False")),service).newMergePolicy().getNoCFSRatio(),equalTo(0.0));
  assertThat(new LogByteSizeMergePolicyProvider(createStore(build("false")),service).newMergePolicy().getNoCFSRatio(),equalTo(0.0));
  assertThat(new LogByteSizeMergePolicyProvider(createStore(build(false)),service).newMergePolicy().getNoCFSRatio(),equalTo(0.0));
  assertThat(new LogByteSizeMergePolicyProvider(createStore(build(0)),service).newMergePolicy().getNoCFSRatio(),equalTo(0.0));
  assertThat(new LogByteSizeMergePolicyProvider(createStore(build(0.0)),service).newMergePolicy().getNoCFSRatio(),equalTo(0.0));
  assertThat(new LogDocMergePolicyProvider(createStore(EMPTY_SETTINGS),service).newMergePolicy().getNoCFSRatio(),equalTo(0.0));
  assertThat(new LogDocMergePolicyProvider(createStore(build(true)),service).newMergePolicy().getNoCFSRatio(),equalTo(1.0));
  assertThat(new LogDocMergePolicyProvider(createStore(build(0.5)),service).newMergePolicy().getNoCFSRatio(),equalTo(0.5));
  assertThat(new LogDocMergePolicyProvider(createStore(build(1.0)),service).newMergePolicy().getNoCFSRatio(),equalTo(1.0));
  assertThat(new LogDocMergePolicyProvider(createStore(build("true")),service).newMergePolicy().getNoCFSRatio(),equalTo(1.0));
  assertThat(new LogDocMergePolicyProvider(createStore(build("True")),service).newMergePolicy().getNoCFSRatio(),equalTo(1.0));
  assertThat(new LogDocMergePolicyProvider(createStore(build("False")),service).newMergePolicy().getNoCFSRatio(),equalTo(0.0));
  assertThat(new LogDocMergePolicyProvider(createStore(build("false")),service).newMergePolicy().getNoCFSRatio(),equalTo(0.0));
  assertThat(new LogDocMergePolicyProvider(createStore(build(false)),service).newMergePolicy().getNoCFSRatio(),equalTo(0.0));
  assertThat(new LogDocMergePolicyProvider(createStore(build(0)),service).newMergePolicy().getNoCFSRatio(),equalTo(0.0));
  assertThat(new LogDocMergePolicyProvider(createStore(build(0.0)),service).newMergePolicy().getNoCFSRatio(),equalTo(0.0));
}
