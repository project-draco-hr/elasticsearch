{
  this.recoveryStatus=recoveryStatus;
  recoveryStatus.index().startTime(System.currentTimeMillis());
  recoveryStatus.updateStage(RecoveryStatus.Stage.INDEX);
  recoverIndex();
  recoveryStatus.index().time(System.currentTimeMillis() - recoveryStatus.index().startTime());
  recoveryStatus.translog().startTime(System.currentTimeMillis());
  recoveryStatus.updateStage(RecoveryStatus.Stage.TRANSLOG);
  recoverTranslog();
  recoveryStatus.translog().time(System.currentTimeMillis() - recoveryStatus.index().startTime());
}
