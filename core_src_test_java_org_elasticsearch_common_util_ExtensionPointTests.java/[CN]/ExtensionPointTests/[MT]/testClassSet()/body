{
  final ExtensionPoint.ClassSet<AllocationDecider> allocationDeciders=new ExtensionPoint.ClassSet<>("allocation_decider",AllocationDecider.class,AllocationDeciders.class);
  allocationDeciders.registerExtension(TestAllocationDecider.class);
  Injector injector=new ModulesBuilder().add(new Module(){
    @Override public void configure(    Binder binder){
      binder.bind(Settings.class).toInstance(Settings.EMPTY);
      binder.bind(Consumer.class).asEagerSingleton();
      allocationDeciders.bind(binder);
    }
  }
).createInjector();
  assertEquals(1,TestAllocationDecider.instances.get());
}
