{
  super(settings);
  Map<String,String> requireMap=settings.getByPrefix(CLUSTER_ROUTING_REQUIRE_GROUP).getAsMap();
  if (requireMap.isEmpty()) {
    clusterRequireFilters=null;
  }
 else {
    clusterRequireFilters=DiscoveryNodeFilters.buildFromKeyValue(AND,requireMap);
  }
  Map<String,String> includeMap=settings.getByPrefix(CLUSTER_ROUTING_INCLUDE_GROUP).getAsMap();
  if (includeMap.isEmpty()) {
    clusterIncludeFilters=null;
  }
 else {
    clusterIncludeFilters=DiscoveryNodeFilters.buildFromKeyValue(OR,includeMap);
  }
  Map<String,String> excludeMap=settings.getByPrefix(CLUSTER_ROUTING_EXCLUDE_GROUP).getAsMap();
  if (excludeMap.isEmpty()) {
    clusterExcludeFilters=null;
  }
 else {
    clusterExcludeFilters=DiscoveryNodeFilters.buildFromKeyValue(OR,excludeMap);
  }
  nodeSettingsService.addListener(new ApplySettings());
}
