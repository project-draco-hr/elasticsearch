{
  prebuiltAnalysis=new PrebuiltAnalysis();
  this.hunspellService=hunspellService;
  this.environment=environment;
  final Map<String,AnalysisModule.AnalysisProvider<CharFilterFactory>> charFilterBuilder=new HashMap<>(charFilters);
  final Map<String,AnalysisModule.AnalysisProvider<TokenFilterFactory>> tokenFilterBuilder=new HashMap<>(tokenFilters);
  final Map<String,AnalysisModule.AnalysisProvider<TokenizerFactory>> tokenizerBuilder=new HashMap<>(tokenizers);
  final Map<String,AnalysisModule.AnalysisProvider<AnalyzerProvider>> analyzerBuilder=new HashMap<>(analyzers);
  registerBuiltInAnalyzer(analyzerBuilder);
  registerBuiltInCharFilter(charFilterBuilder);
  registerBuiltInTokenizer(tokenizerBuilder);
  registerBuiltInTokenFilters(tokenFilterBuilder);
  this.tokenFilters=Collections.unmodifiableMap(tokenFilterBuilder);
  this.tokenizers=Collections.unmodifiableMap(tokenizerBuilder);
  this.charFilters=Collections.unmodifiableMap(charFilterBuilder);
  this.analyzers=Collections.unmodifiableMap(analyzerBuilder);
}
