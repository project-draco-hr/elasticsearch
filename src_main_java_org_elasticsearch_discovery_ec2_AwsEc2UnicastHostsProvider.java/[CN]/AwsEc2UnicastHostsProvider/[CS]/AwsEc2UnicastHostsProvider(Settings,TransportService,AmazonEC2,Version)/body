{
  super(settings);
  this.transportService=transportService;
  this.client=client;
  this.version=version;
  this.hostType=HostType.valueOf(componentSettings.get("host_type","private_ip").toUpperCase());
  this.bindAnyGroup=componentSettings.getAsBoolean("any_group",true);
  this.groups=ImmutableSet.copyOf(componentSettings.getAsArray("groups"));
  this.tags=componentSettings.getByPrefix("tag.").getAsMap();
  Set<String> availabilityZones=Sets.newHashSet(componentSettings.getAsArray("availability_zones"));
  if (componentSettings.get("availability_zones") != null) {
    availabilityZones.addAll(Strings.commaDelimitedListToSet(componentSettings.get("availability_zones")));
  }
  this.availabilityZones=ImmutableSet.copyOf(availabilityZones);
  if (logger.isDebugEnabled()) {
    logger.debug("using host_type [{}], tags [{}], groups [{}] with any_group [{}], availability_zones [{}]",hostType,tags,groups,bindAnyGroup,availabilityZones);
  }
}
