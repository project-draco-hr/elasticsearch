{
  BytesStreamOutput out=new BytesStreamOutput();
  List<Translog.Operation> ops=newArrayList();
  int translogOperations=randomIntBetween(10,100);
  for (int op=0; op < translogOperations; op++) {
    Translog.Create test=new Translog.Create("test","" + op,Integer.toString(op).getBytes(Charset.forName("UTF-8")));
    ops.add(test);
  }
  Translog.writeOperations(out,ops);
  final List<Translog.Operation> readOperations=Translog.readOperations(StreamInput.wrap(out.bytes()));
  assertEquals(ops.size(),readOperations.size());
  assertEquals(ops,readOperations);
}
