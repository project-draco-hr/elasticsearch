{
  String type=args.length > 0 ? args[0] : "nb";
  VersionedMap versionedMap;
  if ("nb".equalsIgnoreCase(type)) {
    versionedMap=new NonBlockingVersionedMap();
  }
 else   if ("native".equalsIgnoreCase(type)) {
    versionedMap=new NativeVersionedMap();
  }
 else   if ("concurrent".equalsIgnoreCase(type)) {
    versionedMap=new ConcurrentVersionedMap();
  }
 else {
    throw new IllegalArgumentException("Type [" + type + "] unknown");
  }
  System.out.println("Running [" + type + "] type");
  VersionedMapBenchmark benchmark=new VersionedMapBenchmark(versionedMap,30,2000000,10,2000000);
  benchmark.run();
}
