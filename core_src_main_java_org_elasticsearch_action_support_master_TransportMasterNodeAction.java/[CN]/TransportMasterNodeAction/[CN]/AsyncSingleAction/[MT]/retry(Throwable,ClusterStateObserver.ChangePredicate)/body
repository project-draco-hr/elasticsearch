{
  observer.waitForNextChange(new ClusterStateObserver.Listener(){
    @Override public void onNewClusterState(    ClusterState state){
      doStart();
    }
    @Override public void onClusterServiceClose(){
      listener.onFailure(new NodeClosedException(clusterService.localNode()));
    }
    @Override public void onTimeout(    TimeValue timeout){
      logger.debug("timed out while retrying [{}] after failure (timeout [{}])",failure,actionName,timeout);
      listener.onFailure(new MasterNotDiscoveredException(failure));
    }
  }
,changePredicate);
}
