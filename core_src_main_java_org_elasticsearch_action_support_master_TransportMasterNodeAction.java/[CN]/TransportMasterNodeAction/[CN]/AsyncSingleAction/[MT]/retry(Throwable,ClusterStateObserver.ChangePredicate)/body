{
  observer.waitForNextChange(new ClusterStateObserver.Listener(){
    @Override public void onNewClusterState(    ClusterState state){
      doStart();
    }
    @Override public void onClusterServiceClose(){
      listener.onFailure(new NodeClosedException(clusterService.localNode()));
    }
    @Override public void onTimeout(    TimeValue timeout){
      logger.debug(new ParameterizedMessage("timed out while retrying [{}] after failure (timeout [{}])",actionName,timeout),failure);
      listener.onFailure(new MasterNotDiscoveredException(failure));
    }
  }
,changePredicate);
}
