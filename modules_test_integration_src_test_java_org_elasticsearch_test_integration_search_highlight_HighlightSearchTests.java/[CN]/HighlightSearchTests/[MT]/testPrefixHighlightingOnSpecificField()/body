{
  SearchSourceBuilder source=searchSource().query(prefixQuery("multi","te")).from(0).size(60).explain(true).highlight(highlight().field("_all").order("score").preTags("<xxx>").postTags("</xxx>"));
  SearchResponse searchResponse=client.search(searchRequest("test").source(source).searchType(QUERY_THEN_FETCH).scroll(timeValueMinutes(10))).actionGet();
  assertThat("Failures " + Arrays.toString(searchResponse.shardFailures()),searchResponse.shardFailures().length,equalTo(0));
  assertThat(searchResponse.hits().totalHits(),equalTo(100l));
  assertThat(searchResponse.hits().hits().length,equalTo(60));
  for (int i=0; i < 60; i++) {
    SearchHit hit=searchResponse.hits().hits()[i];
    assertThat(hit.highlightFields().size(),equalTo(1));
    assertThat(hit.highlightFields().get("_all").fragments().length,greaterThan(0));
  }
}
