{
switch (method) {
case GET:
    getHandlers.insert(path,handler);
  break;
case DELETE:
deleteHandlers.insert(path,handler);
break;
case POST:
postHandlers.insert(path,handler);
break;
case PUT:
putHandlers.insert(path,handler);
break;
case OPTIONS:
optionsHandlers.insert(path,handler);
break;
case HEAD:
headHandlers.insert(path,handler);
break;
default :
throw new ElasticSearchIllegalArgumentException("Can't handle [" + method + "] for path ["+ path+ "]");
}
}
