{
  Class<? extends Module> defaultDiscoveryModule;
  if (settings.getAsBoolean("node.local",false)) {
    defaultDiscoveryModule=LocalDiscoveryModule.class;
  }
 else {
    defaultDiscoveryModule=ZenDiscoveryModule.class;
  }
  Class<? extends Module> moduleClass=settings.getAsClass("discovery.type",defaultDiscoveryModule,"org.elasticsearch.discovery.","DiscoveryModule");
  createModule(moduleClass,settings).configure(binder());
  bind(DiscoveryService.class).asEagerSingleton();
}
