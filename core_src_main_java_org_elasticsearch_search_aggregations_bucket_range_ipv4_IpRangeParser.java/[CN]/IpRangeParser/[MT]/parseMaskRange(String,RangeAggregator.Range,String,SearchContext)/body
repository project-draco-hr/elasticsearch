{
  long[] fromTo;
  try {
    fromTo=Cidrs.cidrMaskToMinMax(cidr);
  }
 catch (  IllegalArgumentException e) {
    throw new SearchParseException(ctx,"invalid CIDR mask [" + cidr + "] in aggregation ["+ aggregationName+ "]",null,e);
  }
  range.from=fromTo[0] == 0 ? Double.NEGATIVE_INFINITY : fromTo[0];
  range.to=fromTo[1] == InternalIPv4Range.MAX_IP ? Double.POSITIVE_INFINITY : fromTo[1];
  if (range.key == null) {
    range.key=cidr;
  }
}
