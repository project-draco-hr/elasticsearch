{
  String indexedNameField=field;
  if (mapperService != null) {
    MapperService.SmartNameFieldMappers fieldMappers=mapperService.smartName(field);
    if (fieldMappers != null) {
      if (fieldMappers.fieldMappers().mapper() != null) {
        indexedNameField=fieldMappers.fieldMappers().mapper().names().indexName();
      }
      return wrapSmartNameQuery(super.getFuzzyQuery(indexedNameField,termStr,minSimilarity),fieldMappers,filterCache);
    }
  }
  return super.getFuzzyQuery(indexedNameField,termStr,minSimilarity);
}
