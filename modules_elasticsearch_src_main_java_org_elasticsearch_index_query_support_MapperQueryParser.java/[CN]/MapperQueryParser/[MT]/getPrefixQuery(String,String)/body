{
  String indexedNameField=field;
  currentMapper=null;
  if (parseContext.mapperService() != null) {
    MapperService.SmartNameFieldMappers fieldMappers=parseContext.mapperService().smartName(field);
    if (fieldMappers != null) {
      currentMapper=fieldMappers.fieldMappers().mapper();
      if (currentMapper != null) {
        indexedNameField=currentMapper.names().indexName();
      }
      return wrapSmartNameQuery(super.getPrefixQuery(indexedNameField,termStr),fieldMappers,parseContext);
    }
  }
  return super.getPrefixQuery(indexedNameField,termStr);
}
