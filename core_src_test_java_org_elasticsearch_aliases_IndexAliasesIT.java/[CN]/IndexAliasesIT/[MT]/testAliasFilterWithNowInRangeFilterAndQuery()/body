{
  assertAcked(prepareCreate("my-index").addMapping("my-type","_timestamp","enabled=true"));
  assertAcked(admin().indices().prepareAliases().addAlias("my-index","filter1",rangeQuery("_timestamp").from("now-1d").to("now")));
  assertAcked(admin().indices().prepareAliases().addAlias("my-index","filter2",rangeQuery("_timestamp").from("now-1d").to("now")));
  final int numDocs=scaledRandomIntBetween(5,52);
  for (int i=1; i <= numDocs; i++) {
    client().prepareIndex("my-index","my-type").setCreate(true).setSource("{}").get();
    if (i % 2 == 0) {
      refresh();
      SearchResponse response=client().prepareSearch("filter1").get();
      assertHitCount(response,i);
      response=client().prepareSearch("filter2").get();
      assertHitCount(response,i);
    }
  }
}
