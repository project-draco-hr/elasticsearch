{
  StreamInput compressed=streamInput(new BytesStreamInput(data,offset,length,false));
  CachedStreamOutput.Entry entry=CachedStreamOutput.popEntry();
  try {
    Streams.copy(compressed,entry.bytes());
    return entry.bytes().bytes().copyBytesArray().toBytes();
  }
  finally {
    CachedStreamOutput.pushEntry(entry);
  }
}
