{
  super(settings);
  this.threadPool=threadPool;
  this.indicesMemoryCleaner=indicesMemoryCleaner;
  this.upperMemoryThreshold=componentSettings.getAsDouble("upper_memory_threshold",0.95);
  this.lowerMemoryThreshold=componentSettings.getAsDouble("lower_memory_threshold",0.8);
  this.interval=componentSettings.getAsTime("interval",timeValueMillis(500));
  this.fullThreshold=componentSettings.getAsInt("full_threshold",2);
  this.cleanThreshold=componentSettings.getAsInt("clean_threshold",10);
  this.minimumFlushableSizeToClean=componentSettings.getAsBytesSize("minimum_flushable_size_to_clean",new ByteSizeValue(5,ByteSizeUnit.MB));
  this.translogNumberOfOperationsThreshold=componentSettings.getAsInt("translog_number_of_operations_threshold",5000);
  logger.debug("interval [" + interval + "], upper_memory_threshold ["+ upperMemoryThreshold+ "], lower_memory_threshold ["+ lowerMemoryThreshold+ "], translog_number_of_operations_threshold ["+ translogNumberOfOperationsThreshold+ "]");
  this.runtime=Runtime.getRuntime();
  this.maxMemory=new ByteSizeValue(runtime.maxMemory());
  this.totalMemory=maxMemory.bytes() == runtime.totalMemory() ? new ByteSizeValue(runtime.totalMemory()) : null;
}
