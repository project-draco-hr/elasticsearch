{
  super(settings);
  this.threadPool=threadPool;
  this.indicesMemoryCleaner=indicesMemoryCleaner;
  this.upperMemoryThreshold=componentSettings.getAsDouble("upperMemoryThreshold",0.8);
  this.lowerMemoryThreshold=componentSettings.getAsDouble("lowerMemoryThreshold",0.5);
  this.interval=componentSettings.getAsTime("interval",timeValueMillis(500));
  this.gcThreshold=componentSettings.getAsInt("gcThreshold",5);
  this.cleanThreshold=componentSettings.getAsInt("cleanThreshold",10);
  this.minimumFlushableSizeToClean=componentSettings.getAsSize("minimumFlushableSizeToClean",new SizeValue(5,SizeUnit.MB));
  this.translogNumberOfOperationsThreshold=componentSettings.getAsInt("translogNumberOfOperationsThreshold",5000);
  logger.debug("Interval[" + interval + "], upperMemoryThreshold["+ upperMemoryThreshold+ "], lowerMemoryThreshold["+ lowerMemoryThreshold+ "], translogNumberOfOperationsThreshold["+ translogNumberOfOperationsThreshold+ "]");
  this.runtime=Runtime.getRuntime();
  this.maxMemory=new SizeValue(runtime.maxMemory());
  this.totalMemory=maxMemory.bytes() == runtime.totalMemory() ? new SizeValue(runtime.totalMemory()) : null;
}
