{
  if (enabledState.enabled) {
    long timestamp=context.sourceToParse().timestamp();
    if (fieldType.indexOptions() == IndexOptions.NONE && !fieldType.stored() && !hasDocValues()) {
      context.ignoredValue(names.indexName(),String.valueOf(timestamp));
    }
    if (fieldType.indexOptions() != IndexOptions.NONE || fieldType.stored()) {
      fields.add(new LongFieldMapper.CustomLongNumericField(this,timestamp,fieldType));
    }
    if (hasDocValues()) {
      fields.add(new NumericDocValuesField(names.indexName(),timestamp));
    }
  }
}
