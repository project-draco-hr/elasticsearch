{
  Map<String,Object> config=new HashMap<>();
  config.put("source_field","_field");
  String processorTag=randomAsciiOfLength(10);
  config.put(AbstractProcessorFactory.TAG_KEY,processorTag);
  AttachmentProcessor processor=factory.create(config);
  assertThat(processor.getTag(),equalTo(processorTag));
  assertThat(processor.getSourceField(),equalTo("_field"));
  assertThat(processor.getTargetField(),equalTo("attachment"));
  assertThat(processor.getFields(),sameInstance(AttachmentProcessor.Factory.DEFAULT_FIELDS));
}
