{
  IndexFieldData indexFieldData=getForField(childType);
  AtomicFieldData fieldData=indexFieldData.load(refreshReader());
  assertThat(fieldData.getMemorySizeInBytes(),greaterThan(0l));
  BytesValues bytesValues=fieldData.getBytesValues(randomBoolean());
  assertThat(bytesValues.setDocument(0),equalTo(1));
  assertThat(bytesValues.nextValue().utf8ToString(),equalTo("1"));
  assertThat(bytesValues.setDocument(1),equalTo(2));
  assertThat(bytesValues.nextValue().utf8ToString(),equalTo("1"));
  assertThat(bytesValues.nextValue().utf8ToString(),equalTo("2"));
  assertThat(bytesValues.setDocument(2),equalTo(2));
  assertThat(bytesValues.nextValue().utf8ToString(),equalTo("1"));
  assertThat(bytesValues.nextValue().utf8ToString(),equalTo("3"));
  assertThat(bytesValues.setDocument(3),equalTo(1));
  assertThat(bytesValues.nextValue().utf8ToString(),equalTo("2"));
  assertThat(bytesValues.setDocument(4),equalTo(2));
  assertThat(bytesValues.nextValue().utf8ToString(),equalTo("2"));
  assertThat(bytesValues.nextValue().utf8ToString(),equalTo("4"));
  assertThat(bytesValues.setDocument(5),equalTo(2));
  assertThat(bytesValues.nextValue().utf8ToString(),equalTo("1"));
  assertThat(bytesValues.nextValue().utf8ToString(),equalTo("5"));
  assertThat(bytesValues.setDocument(6),equalTo(1));
  assertThat(bytesValues.nextValue().utf8ToString(),equalTo("2"));
  assertThat(bytesValues.setDocument(7),equalTo(0));
}
