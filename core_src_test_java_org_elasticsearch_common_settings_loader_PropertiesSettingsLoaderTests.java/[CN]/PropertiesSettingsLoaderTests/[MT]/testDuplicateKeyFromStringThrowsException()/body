{
  PropertiesSettingsLoader loader=new PropertiesSettingsLoader();
  try {
    loader.load("foo=bar\nfoo=baz");
    fail("expected exception");
  }
 catch (  ElasticsearchParseException e) {
    assertEquals(e.getMessage(),"duplicate settings key [foo] found, previous value [bar], current value [baz]");
  }
}
