{
  builder.startObject(NAME);
  builder.startArray(SpanNearQueryParser.CLAUSES_FIELD.getPreferredName());
  for (  SpanQueryBuilder clause : clauses) {
    clause.toXContent(builder,params);
  }
  builder.endArray();
  builder.field(SpanNearQueryParser.SLOP_FIELD.getPreferredName(),slop);
  builder.field(SpanNearQueryParser.IN_ORDER_FIELD.getPreferredName(),inOrder);
  builder.field(SpanNearQueryParser.COLLECT_PAYLOADS_FIELD.getPreferredName(),collectPayloads);
  printBoostAndQueryName(builder);
  builder.endObject();
}
