{
  List<Module> modules=Lists.newArrayList();
  Collection<Class<? extends Module>> modulesClasses=pluginsService.shardModules();
  for (  Class<? extends Module> moduleClass : modulesClasses) {
    modules.add(createModule(moduleClass,settings));
  }
  modules.addAll(pluginsService.shardModules(settings));
  return modules;
}
