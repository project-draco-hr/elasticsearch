{
  MetaData metaData=clusterService.state().metaData();
  String aliasOrIndex=request.getIndex();
  request.setIndex(metaData.concreteIndex(request.getIndex()));
  MappingMetaData mappingMd=null;
  if (metaData.hasIndex(request.getIndex())) {
    mappingMd=metaData.index(request.getIndex()).mappingOrDefault(request.getType());
  }
  request.process(metaData,aliasOrIndex,mappingMd,allowIdGeneration);
  return true;
}
