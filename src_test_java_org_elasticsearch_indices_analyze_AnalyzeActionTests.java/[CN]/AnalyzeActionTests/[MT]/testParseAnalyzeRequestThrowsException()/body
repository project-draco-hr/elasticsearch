{
  AnalyzeRequestBuilder builder=new AnalyzeRequestBuilder(client().admin().indices());
  builder.setSource("{ \"invalid_json\" ");
  try {
    builder.get();
    fail("expected parseContent failure");
  }
 catch (  Exception e) {
    assertThat(e,instanceOf(ElasticsearchIllegalArgumentException.class));
    assertThat(e.getMessage(),equalTo("Failed to parse request body"));
  }
}
