{
  BalancedSegmentMergePolicy mergePolicy=new BalancedSegmentMergePolicy(indexWriter);
  mergePolicy.setMinMergeMB(minMergeSize.mbFrac());
  mergePolicy.setMaxMergeMB(maxMergeSize.mbFrac());
  mergePolicy.setMergeFactor(mergeFactor);
  mergePolicy.setMaxMergeDocs(maxMergeDocs);
  mergePolicy.setUseCompoundFile(useCompoundFile);
  mergePolicy.setUseCompoundDocStore(useCompoundFile);
  mergePolicy.setMaxSmallSegments(maxSmallSegments);
  mergePolicy.setNumLargeSegments(numLargeSegments);
  return mergePolicy;
}
