{
  final String field=RandomStrings.randomAsciiOfLength(getRandom(),10).toLowerCase(Locale.ROOT);
  String payload="{\n" + "  \"bad-payload\" : {\n" + "    \"text\" : \"the amsterdma meetpu\",\n"+ "    \"term\" : {\n"+ "      \"field\" : { \"" + field + "\" : \"bad-object\" }\n"+ "    }\n"+ "  }\n"+ "}";
  try {
    final SuggestBuilder suggestBuilder=SuggestBuilder.fromXContent(newParseContext(payload),suggesters,true);
    fail("Should not have been able to create SuggestBuilder from malformed JSON: " + suggestBuilder);
  }
 catch (  Exception e) {
    assertThat(e.getMessage(),containsString("parsing failed"));
  }
}
