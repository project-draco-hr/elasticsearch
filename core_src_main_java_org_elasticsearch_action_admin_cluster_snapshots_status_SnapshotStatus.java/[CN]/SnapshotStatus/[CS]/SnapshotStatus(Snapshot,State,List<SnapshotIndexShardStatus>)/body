{
  this.snapshot=Objects.requireNonNull(snapshot);
  this.state=Objects.requireNonNull(state);
  this.shards=Objects.requireNonNull(shards);
  shardsStats=new SnapshotShardsStats(shards);
  updateShardStats();
}
