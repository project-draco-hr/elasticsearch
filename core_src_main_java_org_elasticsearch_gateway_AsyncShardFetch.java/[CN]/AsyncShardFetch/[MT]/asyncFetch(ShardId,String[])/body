{
  logger.trace("{} fetching [{}] from {}",shardId,type,nodesIds);
  action.list(shardId,nodesIds,new ActionListener<BaseNodesResponse<T>>(){
    @Override public void onResponse(    BaseNodesResponse<T> response){
      processAsyncFetch(shardId,response.getNodes(),response.failures());
    }
    @Override public void onFailure(    Throwable e){
      List<FailedNodeException> failures=new ArrayList<>(nodesIds.length);
      for (      String nodeId : nodesIds) {
        failures.add(new FailedNodeException(nodeId,"total failure in fetching",e));
      }
      processAsyncFetch(shardId,null,failures);
    }
  }
);
}
