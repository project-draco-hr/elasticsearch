{
  String pluginName="fake-plugin";
  Path pluginDir=createTempDir().resolve(pluginName);
  Files.createDirectories(pluginDir.resolve("_site"));
  Files.createFile(pluginDir.resolve("_site").resolve("somefile"));
  String pluginUrl=createPlugin(pluginDir,"description","fake desc","version","1.0","site","true");
  String command=String.format(Locale.ROOT,"install %s --url %s --verbose",pluginName,pluginUrl);
  ExitStatus status=new PluginManagerCliParser(terminal).execute(args(command));
  assertThat("Terminal output was: " + terminal.getTerminalOutput(),status,is(ExitStatus.OK));
  assertThat(terminal.getTerminalOutput(),hasItem(containsString("Name: fake-plugin")));
  assertThat(terminal.getTerminalOutput(),hasItem(containsString("Description: fake desc")));
  assertThat(terminal.getTerminalOutput(),hasItem(containsString("Site: true")));
  assertThat(terminal.getTerminalOutput(),hasItem(containsString("Version: 1.0")));
  assertThat(terminal.getTerminalOutput(),hasItem(containsString("JVM: false")));
  assertThatPluginIsListed(pluginName);
  assertFileExists(initialSettings.v2().pluginsFile().resolve(pluginName).resolve("_site"));
}
