{
  String pluginName="fake-plugin";
  Path pluginDir=createTempDir().resolve(pluginName);
  String pluginUrl=createPlugin(pluginDir,"description","fake desc","name",pluginName,"version","1.0","elasticsearch.version",Version.CURRENT.toString(),"java.version",System.getProperty("java.specification.version"),"jvm","true","classname","FakePlugin");
  System.err.println("install " + pluginUrl + " --verbose");
  ExitStatus status=new PluginManagerCliParser(terminal).execute(args("install " + pluginUrl + " --verbose"));
  assertThat("Terminal output was: " + terminal.getTerminalOutput(),status,is(ExitStatus.OK));
  assertThat(terminal.getTerminalOutput(),hasItem(containsString("Name: fake-plugin")));
  assertThat(terminal.getTerminalOutput(),hasItem(containsString("Description: fake desc")));
  assertThat(terminal.getTerminalOutput(),hasItem(containsString("Site: false")));
  assertThat(terminal.getTerminalOutput(),hasItem(containsString("Version: 1.0")));
  assertThat(terminal.getTerminalOutput(),hasItem(containsString("JVM: true")));
  assertThatPluginIsListed(pluginName);
}
