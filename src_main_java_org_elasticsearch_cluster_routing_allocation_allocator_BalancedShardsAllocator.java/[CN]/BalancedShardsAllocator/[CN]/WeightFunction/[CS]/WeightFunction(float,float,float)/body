{
  float sum=indexBalance + shardBalance + primaryBalance;
  if (sum <= 0.0f) {
    throw new ElasticsearchIllegalArgumentException("Balance factors must sum to a value > 0 but was: " + sum);
  }
  theta=new float[]{shardBalance / sum,indexBalance / sum,primaryBalance / sum};
  this.indexBalance=indexBalance;
  this.shardBalance=shardBalance;
  this.primaryBalance=primaryBalance;
}
