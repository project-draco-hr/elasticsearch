{
  final float weightShard=shardBalance * (node.numShards() - balancer.avgShardsPerNode());
  final float weightIndex=indexBalance * (node.numShards(index) - balancer.avgShardsPerNode(index));
  final float weightPrimary=primaryBalance * (node.numPrimaries() - balancer.avgPrimariesPerNode());
  return weightShard + weightIndex + weightPrimary;
}
