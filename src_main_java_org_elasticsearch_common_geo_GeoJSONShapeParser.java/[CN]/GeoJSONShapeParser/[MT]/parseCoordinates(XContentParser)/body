{
  XContentParser.Token token=parser.nextToken();
  if (token != XContentParser.Token.START_ARRAY) {
    double lon=parser.doubleValue();
    token=parser.nextToken();
    double lat=parser.doubleValue();
    token=parser.nextToken();
    return new CoordinateNode(new Coordinate(lon,lat));
  }
  List<CoordinateNode> nodes=new ArrayList<CoordinateNode>();
  while (token != XContentParser.Token.END_ARRAY) {
    nodes.add(parseCoordinates(parser));
    token=parser.nextToken();
  }
  return new CoordinateNode(nodes);
}
