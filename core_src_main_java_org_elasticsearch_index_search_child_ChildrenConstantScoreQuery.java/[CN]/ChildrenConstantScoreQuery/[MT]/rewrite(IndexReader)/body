{
  final Query childRewritten=childQuery.rewrite(reader);
  if (childRewritten != childQuery) {
    ChildrenConstantScoreQuery rewritten=new ChildrenConstantScoreQuery(parentChildIndexFieldData,childRewritten,parentType,childType,parentFilter,shortCircuitParentDocSet,nonNestedDocsFilter);
    rewritten.setBoost(getBoost());
    return rewritten;
  }
  return super.rewrite(reader);
}
