{
  if (ranges.size() == 1) {
    Bucket bucket=ranges.get(0);
    bucket.aggregations.reduce(bigArrays);
    return bucket;
  }
  Bucket reduced=null;
  List<InternalAggregations> aggregationsList=Lists.newArrayListWithCapacity(ranges.size());
  for (  Bucket range : ranges) {
    if (reduced == null) {
      reduced=range;
    }
 else {
      reduced.docCount+=range.docCount;
    }
    aggregationsList.add(range.aggregations);
  }
  reduced.aggregations=InternalAggregations.reduce(aggregationsList,bigArrays);
  return reduced;
}
