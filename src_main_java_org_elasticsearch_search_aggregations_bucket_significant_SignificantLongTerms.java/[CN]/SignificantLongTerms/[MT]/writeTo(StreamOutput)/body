{
  out.writeString(name);
  ValueFormatterStreams.writeOptional(formatter,out);
  writeSize(requiredSize,out);
  out.writeVLong(minDocCount);
  out.writeVLong(subsetSize);
  out.writeVLong(supersetSize);
  if (out.getVersion().onOrAfter(Version.V_1_3_0)) {
    significanceHeuristic.writeTo(out);
  }
  out.writeVInt(buckets.size());
  for (  InternalSignificantTerms.Bucket bucket : buckets) {
    out.writeVLong(((Bucket)bucket).subsetDf);
    out.writeVLong(((Bucket)bucket).supersetDf);
    out.writeLong(((Bucket)bucket).term);
    ((InternalAggregations)bucket.getAggregations()).writeTo(out);
  }
}
