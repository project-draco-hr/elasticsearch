{
  SequenceStartEvent startEvent=(SequenceStartEvent)parser.getEvent();
  String tag=startEvent.getTag();
  Tag nodeTag;
  boolean resolved=false;
  if (tag == null || tag.equals("!")) {
    nodeTag=resolver.resolve(NodeId.sequence,null,startEvent.getImplicit());
    resolved=true;
  }
 else {
    nodeTag=new Tag(tag);
  }
  SequenceNode node=new SequenceNode(nodeTag,resolved,new ArrayList<YamlNode>(),startEvent.getStartMark(),null,startEvent.getFlowStyle());
  if (anchor != null) {
    anchors.put(anchor,node);
  }
  int index=0;
  while (!parser.checkEvent(Event.ID.SequenceEnd)) {
    (node.getValue()).add(composeNode(node,index));
    index++;
  }
  Event endEvent=parser.getEvent();
  node.setEndMark(endEvent.getEndMark());
  return node;
}
