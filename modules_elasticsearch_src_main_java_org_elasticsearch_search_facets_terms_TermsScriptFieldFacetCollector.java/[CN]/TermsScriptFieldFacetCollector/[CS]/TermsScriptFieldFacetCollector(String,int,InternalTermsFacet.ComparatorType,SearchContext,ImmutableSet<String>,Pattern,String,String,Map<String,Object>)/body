{
  super(facetName);
  this.size=size;
  this.comparatorType=comparatorType;
  this.numberOfShards=context.numberOfShards();
  this.sScript=script;
  this.script=new SearchScript(context.scriptSearchLookup(),scriptLang,script,params,context.scriptService());
  this.excluded=excluded;
  this.matcher=pattern != null ? pattern.matcher("") : null;
  this.facets=TermsFacetCollector.popFacets();
}
