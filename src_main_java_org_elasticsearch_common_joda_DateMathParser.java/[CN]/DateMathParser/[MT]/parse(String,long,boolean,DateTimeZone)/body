{
  long time;
  String mathString;
  if (text.startsWith("now")) {
    time=now;
    mathString=text.substring("now".length());
  }
 else {
    int index=text.indexOf("||");
    if (index == -1) {
      return parseDateTime(text,timeZone);
    }
    time=parseDateTime(text.substring(0,index),timeZone);
    mathString=text.substring(index + 2);
    if (mathString.isEmpty()) {
      return time;
    }
  }
  return parseMath(mathString,time,roundUp);
}
