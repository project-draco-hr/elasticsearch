{
  createIndexAndMapping(completionMappingBuilder);
  client().prepareIndex(INDEX,TYPE,"1").setSource(jsonBuilder().startObject().startObject(FIELD).startArray("input").value("??????????").endArray().endObject().endObject()).get();
  refresh();
  org.elasticsearch.search.suggest.completion.CompletionSuggestionBuilder completionSuggestionBuilder=SuggestBuilders.completionSuggestion("foo").field(FIELD).prefix("????????",new FuzzyOptionsBuilder().setUnicodeAware(true)).size(10);
  SuggestResponse suggestResponse=client().prepareSuggest(INDEX).addSuggestion(completionSuggestionBuilder).execute().actionGet();
  assertSuggestions(suggestResponse,false,"foo","??????????");
  completionSuggestionBuilder=SuggestBuilders.completionSuggestion("foo").field(FIELD).prefix("????????",new FuzzyOptionsBuilder().setUnicodeAware(false)).size(10);
  suggestResponse=client().prepareSuggest(INDEX).addSuggestion(completionSuggestionBuilder).execute().actionGet();
  assertSuggestions(suggestResponse,false,"foo");
  completionSuggestionBuilder=SuggestBuilders.completionSuggestion("foo").field(FIELD).prefix("????????",new FuzzyOptionsBuilder().setUnicodeAware(false).setFuzziness(Fuzziness.TWO)).size(10);
  suggestResponse=client().prepareSuggest(INDEX).addSuggestion(completionSuggestionBuilder).execute().actionGet();
  assertSuggestions(suggestResponse,false,"foo","??????????");
}
