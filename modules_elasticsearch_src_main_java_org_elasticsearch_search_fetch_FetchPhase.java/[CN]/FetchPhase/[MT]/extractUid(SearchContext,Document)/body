{
  Uid uid=null;
  for (  FieldMapper fieldMapper : context.mapperService().uidFieldMappers()) {
    String sUid=doc.get(fieldMapper.names().indexName());
    if (sUid != null) {
      uid=Uid.createUid(sUid);
      doc.removeField(fieldMapper.names().indexName());
      break;
    }
  }
  if (uid == null) {
    throw new FetchPhaseExecutionException(context,"Failed to load uid from the index");
  }
  return uid;
}
