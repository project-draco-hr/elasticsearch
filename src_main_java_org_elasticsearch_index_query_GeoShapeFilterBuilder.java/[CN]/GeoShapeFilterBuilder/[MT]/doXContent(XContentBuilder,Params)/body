{
  builder.startObject(GeoShapeFilterParser.NAME);
  builder.startObject(name);
  if (strategy != null) {
    builder.field("strategy",strategy.getStrategyName());
  }
  if (shape != null) {
    builder.startObject("shape");
    GeoJSONShapeSerializer.serialize(shape,builder);
    builder.endObject();
  }
 else {
    builder.startObject("indexed_shape").field("id",indexedShapeId).field("type",indexedShapeType);
    if (indexedShapeIndex != null) {
      builder.field("index",indexedShapeIndex);
    }
    if (indexedShapeFieldName != null) {
      builder.field("shape_field_name",indexedShapeFieldName);
    }
    builder.endObject();
  }
  builder.endObject();
  if (name != null) {
    builder.field("_name",filterName);
  }
  if (cache != null) {
    builder.field("_cache",cache);
  }
  if (cacheKey != null) {
    builder.field("_cache_key",cacheKey);
  }
  builder.endObject();
}
