{
  Client transportClient=internalCluster().transportClient();
  FilterClient filterClient=new FilterClient(transportClient){
    @Override protected <Request extends ActionRequest,Response extends ActionResponse,RequestBuilder extends ActionRequestBuilder<Request,Response,RequestBuilder>>void doExecute(    Action<Request,Response,RequestBuilder> action,    Request request,    ActionListener<Response> listener){
      request.putHeader(randomHeaderKey,randomHeaderValue);
      super.doExecute(action,request,listener);
    }
  }
;
  return filterClient;
}
