{
  if (markForClose && count <= 0 && !closed) {
    closed=true;
    resource.release();
  }
}
