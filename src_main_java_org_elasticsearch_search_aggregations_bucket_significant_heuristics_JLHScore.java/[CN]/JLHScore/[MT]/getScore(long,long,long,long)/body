{
  if (subsetFreq < 0 || subsetSize < 0 || supersetFreq < 0 || supersetSize < 0) {
    throw new ElasticsearchIllegalArgumentException("Frequencies of subset and superset must be positive in JLHScore.getScore()");
  }
  if (subsetFreq > subsetSize) {
    throw new ElasticsearchIllegalArgumentException("subsetFreq > subsetSize, in JLHScore.score(..)");
  }
  if (supersetFreq > supersetSize) {
    throw new ElasticsearchIllegalArgumentException("supersetFreq > supersetSize, in JLHScore.score(..)");
  }
  if ((subsetSize == 0) || (supersetSize == 0)) {
    return 0;
  }
  if (supersetFreq == 0) {
    supersetFreq=1;
  }
  double subsetProbability=(double)subsetFreq / (double)subsetSize;
  double supersetProbability=(double)supersetFreq / (double)supersetSize;
  double absoluteProbabilityChange=subsetProbability - supersetProbability;
  if (absoluteProbabilityChange <= 0) {
    return 0;
  }
  double relativeProbabilityChange=(subsetProbability / supersetProbability);
  return absoluteProbabilityChange * relativeProbabilityChange;
}
