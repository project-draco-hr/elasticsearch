{
  try {
    comittedOrFailed.await(commitTimeout.millis(),TimeUnit.MILLISECONDS);
  }
 catch (  InterruptedException e) {
  }
  if (committed.get() == false) {
    throw new FailedToCommitException("failed to get enough masters to ack sent cluster state. [" + neededMastersToCommit + "] left");
  }
}
