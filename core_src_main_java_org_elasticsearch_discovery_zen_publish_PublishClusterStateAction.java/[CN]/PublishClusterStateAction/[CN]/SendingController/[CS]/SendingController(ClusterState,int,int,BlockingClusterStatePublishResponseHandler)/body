{
  this.clusterState=clusterState;
  this.publishResponseHandler=publishResponseHandler;
  this.neededMastersToCommit=Math.max(0,minMasterNodes - 1);
  this.pendingMasterNodes=totalMasterNodes - 1;
  this.committed=new AtomicBoolean(neededMastersToCommit == 0);
  this.comittedOrFailed=new CountDownLatch(committed.get() ? 0 : 1);
}
