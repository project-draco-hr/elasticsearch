{
  assertThat(query,instanceOf(TermQuery.class));
  assertThat(query.getBoost(),is(queryBuilder.boost()));
  TermQuery termQuery=(TermQuery)query;
  assertThat(termQuery.getTerm().field(),is(queryBuilder.fieldName()));
  assertThat(termQuery.getTerm().bytes(),is(BytesRefs.toBytesRef(queryBuilder.value())));
  if (queryBuilder.queryName() != null) {
    Filter namedQuery=context.copyNamedFilters().get(queryBuilder.queryName());
    assertNotNull(namedQuery);
    if (namedQuery instanceof QueryWrapperFilter) {
      assertThat(query,is(((QueryWrapperFilter)namedQuery).getQuery()));
    }
 else {
      fail("Expected either a QueryWrapperFilter or a CustomQueryWrappingFilter to be registered under " + queryBuilder.queryName() + " in the query parse context");
    }
  }
}
