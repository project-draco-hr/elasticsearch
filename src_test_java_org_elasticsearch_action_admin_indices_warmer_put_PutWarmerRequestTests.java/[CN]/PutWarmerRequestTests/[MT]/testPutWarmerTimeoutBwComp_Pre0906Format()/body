{
  PutWarmerRequest outRequest=new PutWarmerRequest("warmer1");
  outRequest.timeout(TimeValue.timeValueMillis(1000));
  ByteArrayOutputStream outBuffer=new ByteArrayOutputStream();
  OutputStreamStreamOutput out=new OutputStreamStreamOutput(outBuffer);
  out.setVersion(Version.V_0_90_0);
  outRequest.writeTo(out);
  ByteArrayInputStream esInBuffer=new ByteArrayInputStream(outBuffer.toByteArray());
  InputStreamStreamInput esBuffer=new InputStreamStreamInput(esInBuffer);
  esBuffer.setVersion(Version.V_0_90_0);
  PutWarmerRequest inRequest=new PutWarmerRequest();
  inRequest.readFrom(esBuffer);
  assertThat(inRequest.name(),equalTo("warmer1"));
  assertThat(inRequest.timeout().millis(),equalTo(new PutWarmerRequest().timeout().millis()));
}
