{
  try {
    Shape shape=context.parseExternalValue(Shape.class);
    if (shape == null) {
      ShapeBuilder shapeBuilder=ShapeBuilder.parse(context.parser(),this);
      if (shapeBuilder == null) {
        return null;
      }
      shape=shapeBuilder.build();
    }
    Field[] fields=defaultStrategy.createIndexableFields(shape);
    if (fields == null || fields.length == 0) {
      return null;
    }
    for (    Field field : fields) {
      if (!customBoost()) {
        field.setBoost(boost);
      }
      if (context.listener().beforeFieldAdded(this,field,context)) {
        context.doc().add(field);
      }
    }
  }
 catch (  Exception e) {
    throw new MapperParsingException("failed to parse [" + names.fullName() + "]",e);
  }
  return null;
}
