{
  if (shardRouting.primary()) {
    return Decision.ALLOWED;
  }
  MutableShardRouting primary=routingNodes.findPrimaryForReplica(shardRouting);
  if (primary == null || !primary.active()) {
    return Decision.DISALLOWED;
  }
  return Decision.ALLOWED;
}
