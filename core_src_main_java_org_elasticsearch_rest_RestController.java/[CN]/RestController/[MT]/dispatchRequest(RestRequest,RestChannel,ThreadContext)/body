{
  if (!checkRequestParameters(request,channel)) {
    return;
  }
  try (ThreadContext.StoredContext t=threadContext.stashContext()){
    for (    String key : relevantHeaders) {
      String httpHeader=request.header(key);
      if (httpHeader != null) {
        threadContext.putHeader(key,httpHeader);
      }
    }
    if (filters.length == 0) {
      try {
        executeHandler(request,channel);
      }
 catch (      Throwable e) {
        try {
          channel.sendResponse(new BytesRestResponse(channel,e));
        }
 catch (        Throwable e1) {
          logger.error("failed to send failure response for uri [" + request.uri() + "]",e1);
        }
      }
    }
 else {
      ControllerFilterChain filterChain=new ControllerFilterChain(handlerFilter);
      filterChain.continueProcessing(request,channel);
    }
  }
 }
