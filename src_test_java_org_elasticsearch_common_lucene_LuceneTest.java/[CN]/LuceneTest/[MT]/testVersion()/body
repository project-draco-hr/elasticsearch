{
  ESLogger logger=ESLoggerFactory.getLogger(LuceneTest.class.getName());
  Version[] values=Version.values();
  assertThat(Version.LUCENE_CURRENT,equalTo(values[values.length - 1]));
  assertThat("Latest Lucene Version is not set after upgrade",Lucene.VERSION,equalTo(values[values.length - 2]));
  assertThat(Lucene.parseVersion(null,Lucene.VERSION,null),equalTo(Lucene.VERSION));
  for (int i=0; i < values.length - 1; i++) {
    assertThat(Lucene.parseVersion(values[i].name().replaceFirst("^LUCENE_(\\d)_?(\\d)$","$1.$2"),Version.LUCENE_CURRENT,logger),equalTo(values[i]));
  }
}
