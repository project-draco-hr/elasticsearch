{
  int size=this.size;
  if (size == elements.length) {
    if (size >= stackLimit) {
      return;
    }
    T[] newElements=newArray(Math.min(stackLimit,ArrayUtil.oversize(size + 1,RamUsageEstimator.NUM_BYTES_OBJECT_REF)));
    System.arraycopy(elements,0,newElements,0,size);
    elements=newElements;
  }
  elements[size]=o;
  this.size=size + 1;
}
