{
  fieldType.setName(buildFullName(context));
  if (fieldType.indexAnalyzer() == null && fieldType.tokenized() == false && fieldType.indexOptions() != IndexOptions.NONE) {
    fieldType.setIndexAnalyzer(Lucene.KEYWORD_ANALYZER);
    fieldType.setSearchAnalyzer(Lucene.KEYWORD_ANALYZER);
  }
  if (fieldDataSettings != null) {
    Settings settings=Settings.builder().put(fieldType.fieldDataType().getSettings()).put(fieldDataSettings).build();
    fieldType.setFieldDataType(new FieldDataType(fieldType.fieldDataType().getType(),settings));
  }
  boolean defaultDocValues=defaultDocValues(context.indexCreatedVersion());
  defaultFieldType.setHasDocValues(defaultDocValues);
  if (docValuesSet == false) {
    fieldType.setHasDocValues(defaultDocValues);
  }
}
