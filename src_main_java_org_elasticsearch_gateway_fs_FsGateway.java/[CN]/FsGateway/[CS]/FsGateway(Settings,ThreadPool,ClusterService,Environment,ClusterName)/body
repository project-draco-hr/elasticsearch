{
  super(settings,threadPool,clusterService);
  File gatewayFile;
  String location=componentSettings.get("location");
  if (location == null) {
    logger.warn("using local fs location for gateway, should be changed to be a shared location across nodes");
    gatewayFile=new File(environment.dataFiles()[0],"gateway");
  }
 else {
    gatewayFile=new File(location);
  }
  int concurrentStreams=componentSettings.getAsInt("concurrent_streams",5);
  this.concurrentStreamPool=EsExecutors.newScalingExecutorService(1,concurrentStreams,60,TimeUnit.SECONDS,EsExecutors.daemonThreadFactory(settings,"[fs_stream]"));
  initialize(new FsBlobStore(componentSettings,concurrentStreamPool,gatewayFile),clusterName,null);
}
