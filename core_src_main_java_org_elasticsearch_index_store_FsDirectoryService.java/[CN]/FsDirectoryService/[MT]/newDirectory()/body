{
  final Path location=path.resolveIndex();
  Files.createDirectories(location);
  Directory wrapped=newFSDirectory(location,indexSettings.getValue(INDEX_LOCK_FACTOR_SETTING));
  return new RateLimitedFSDirectory(wrapped,this,this);
}
