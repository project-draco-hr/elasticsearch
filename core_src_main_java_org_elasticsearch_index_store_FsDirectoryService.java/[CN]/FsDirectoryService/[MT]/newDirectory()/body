{
  final Path location=path.resolveIndex();
  Files.createDirectories(location);
  Directory wrapped=newFSDirectory(location,buildLockFactory());
  return new RateLimitedFSDirectory(wrapped,this,this);
}
