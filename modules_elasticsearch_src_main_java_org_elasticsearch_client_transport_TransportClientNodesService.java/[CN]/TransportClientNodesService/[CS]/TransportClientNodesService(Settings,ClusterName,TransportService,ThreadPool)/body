{
  super(settings);
  this.clusterName=clusterName;
  this.transportService=transportService;
  this.threadPool=threadPool;
  this.nodesSamplerInterval=componentSettings.getAsTime("nodes_sampler_interval",timeValueSeconds(5));
  if (logger.isDebugEnabled()) {
    logger.debug("node_sampler_interval[" + nodesSamplerInterval + "]");
  }
  if (componentSettings.getAsBoolean("sniff",false)) {
    this.nodesSampler=new ScheduledSniffNodesSampler();
  }
 else {
    this.nodesSampler=new ScheduledConnectNodeSampler();
  }
  this.nodesSamplerFuture=threadPool.schedule(nodesSamplerInterval,ThreadPool.Names.CACHED,nodesSampler);
  transportService.throwConnectException(true);
}
