{
  HashSet<DiscoveryNode> newNodes=new HashSet<DiscoveryNode>();
  for (  DiscoveryNode node : listedNodes) {
    if (!transportService.nodeConnected(node)) {
      try {
        transportService.connectToNode(node);
        newNodes.add(node);
      }
 catch (      Exception e) {
        logger.debug("Failed to connect to node " + node + ", removed from nodes list",e);
      }
    }
 else {
      newNodes.add(node);
    }
  }
  nodes=new ImmutableList.Builder<DiscoveryNode>().addAll(newNodes).build();
}
