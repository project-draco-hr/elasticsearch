{
  transportService.nodesAdded(event.nodesDelta().addedNodes());
  this.discoveredNodes=event.state().nodes();
  HashSet<Node> newNodes=new HashSet<Node>(nodes);
  newNodes.addAll(discoveredNodes.nodes().values());
  nodes=new ImmutableList.Builder<Node>().addAll(newNodes).build();
  transportService.nodesRemoved(event.nodesDelta().removedNodes());
}
