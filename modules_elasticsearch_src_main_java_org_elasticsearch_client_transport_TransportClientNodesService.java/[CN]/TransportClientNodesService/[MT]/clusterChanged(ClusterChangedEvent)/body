{
  transportService.nodesAdded(event.nodesDelta().addedNodes());
  this.discoveredNodes=event.state().nodes();
  HashSet<DiscoveryNode> newNodes=new HashSet<DiscoveryNode>(nodes);
  newNodes.addAll(discoveredNodes.nodes().values());
  nodes=new ImmutableList.Builder<DiscoveryNode>().addAll(newNodes).build();
  transportService.nodesRemoved(event.nodesDelta().removedNodes());
}
