{
  if (logger.isTraceEnabled()) {
    logger.trace("Loading script file : [{}]",file);
  }
  Tuple<String,String> scriptNameExt=scriptNameExt(file);
  if (scriptNameExt != null) {
    ScriptEngineService engineService=getScriptEngineServiceForFileExt(scriptNameExt.v2());
    if (engineService == null) {
      logger.warn("no script engine found for [{}]",scriptNameExt.v2());
    }
 else {
      try {
        logger.info("compiling script file [{}]",file.toAbsolutePath());
        try (InputStreamReader reader=new InputStreamReader(Files.newInputStream(file),Charsets.UTF_8)){
          String script=Streams.copyToString(reader);
          CacheKey cacheKey=newCacheKey(engineService,scriptNameExt.v1());
          staticCache.put(cacheKey,new CompiledScript(engineService.types()[0],engineService.compile(script)));
        }
       }
 catch (      Throwable e) {
        logger.warn("failed to load/compile script [{}]",e,scriptNameExt.v1());
      }
    }
  }
}
