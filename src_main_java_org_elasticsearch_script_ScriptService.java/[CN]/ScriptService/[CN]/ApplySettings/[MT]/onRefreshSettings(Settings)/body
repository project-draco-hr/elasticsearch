{
  GroovyScriptEngineService engine=(GroovyScriptEngineService)ScriptService.this.scriptEnginesByLang.get(GroovyScriptEngineService.NAME);
  if (engine != null) {
    String[] patches=settings.getAsArray(GroovyScriptEngineService.GROOVY_SCRIPT_BLACKLIST_PATCH,Strings.EMPTY_ARRAY);
    boolean blacklistChanged=engine.addToBlacklist(patches);
    if (blacklistChanged) {
      logger.info("adding {} to [{}], new blacklisted methods: {}",patches,GroovyScriptEngineService.GROOVY_SCRIPT_BLACKLIST_PATCH,engine.blacklistAdditions());
      engine.reloadConfig();
      ScriptService.this.clearCache();
    }
  }
}
