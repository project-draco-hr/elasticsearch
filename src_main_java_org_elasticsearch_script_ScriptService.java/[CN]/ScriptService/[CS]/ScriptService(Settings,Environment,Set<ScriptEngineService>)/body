{
  super(settings);
  this.defaultLang=componentSettings.get("default_lang","mvel");
  this.disableDynamic=componentSettings.getAsBoolean("disable_dynamic",false);
  ImmutableMap.Builder<String,ScriptEngineService> builder=ImmutableMap.builder();
  for (  ScriptEngineService scriptEngine : scriptEngines) {
    for (    String type : scriptEngine.types()) {
      builder.put(type,scriptEngine);
    }
  }
  this.scriptEngines=builder.build();
  staticCache.put("doc.score",new CompiledScript("native",new DocScoreNativeScriptFactory()));
  File scriptsFile=new File(env.configFile(),"scripts");
  if (scriptsFile.exists()) {
    processScriptsDirectory("",scriptsFile);
  }
}
