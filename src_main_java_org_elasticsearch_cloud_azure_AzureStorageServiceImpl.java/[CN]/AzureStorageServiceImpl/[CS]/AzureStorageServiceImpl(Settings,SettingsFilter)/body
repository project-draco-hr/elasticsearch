{
  super(settings);
  settingsFilter.addFilter(new AzureSettingsFilter());
  account=settings.get("cloud.azure." + Fields.ACCOUNT);
  key=settings.get("cloud.azure." + Fields.KEY);
  blob="http://" + account + ".blob.core.windows.net/";
  try {
    if (account != null) {
      logger.trace("creating new Azure storage client using account [{}], key [{}], blob [{}]",account,key,blob);
      String storageConnectionString="DefaultEndpointsProtocol=http;" + "AccountName=" + account + ";"+ "AccountKey="+ key;
      Configuration configuration=Configuration.getInstance();
      configuration.setProperty(BlobConfiguration.ACCOUNT_NAME,account);
      configuration.setProperty(BlobConfiguration.ACCOUNT_KEY,key);
      configuration.setProperty(BlobConfiguration.URI,blob);
      service=BlobService.create(configuration);
      storage_account=CloudStorageAccount.parse(storageConnectionString);
      client=storage_account.createCloudBlobClient();
    }
  }
 catch (  Exception e) {
    logger.error("can not start azure storage client: {}",e.getMessage());
  }
}
