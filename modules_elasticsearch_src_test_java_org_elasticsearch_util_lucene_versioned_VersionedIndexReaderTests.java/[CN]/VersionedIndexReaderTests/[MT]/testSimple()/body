{
  TermDocs termDocs;
  VersionedIndexReader versionedIndexReader=new VersionedIndexReader(indexReader,0,versionedMap);
  versionedMap.putVersion(0,1);
  termDocs=versionedIndexReader.termDocs(new Term("value","0"));
  assertThat(termDocs.next(),equalTo(true));
  assertThat(termDocs.next(),equalTo(false));
  termDocs=versionedIndexReader.termDocs(new Term("value","1"));
  assertThat(termDocs.next(),equalTo(true));
  assertThat(termDocs.next(),equalTo(false));
  versionedMap.putVersion(1,2);
  termDocs=versionedIndexReader.termDocs(new Term("value","0"));
  assertThat(termDocs.next(),equalTo(true));
  termDocs=versionedIndexReader.termDocs(new Term("value","1"));
  assertThat(termDocs.next(),equalTo(true));
  versionedIndexReader=new VersionedIndexReader(indexReader,1,versionedMap);
  termDocs=versionedIndexReader.termDocs(new Term("value","0"));
  assertThat(termDocs.next(),equalTo(false));
  termDocs=versionedIndexReader.termDocs(new Term("value","1"));
  assertThat(termDocs.next(),equalTo(true));
}
