{
  this.reader=reader;
  this.ramBytesUsed=ramBytesUsed;
  this.atomicFDs=new AtomicParentChildFieldData[globalValues.length];
  for (int i=0; i < globalValues.length; ++i) {
    final int ord=i;
    atomicFDs[i]=new AbstractAtomicParentChildFieldData(){
      @Override public long ramBytesUsed(){
        return 0;
      }
      @Override public Iterable<Accountable> getChildResources(){
        return Collections.emptyList();
      }
      @Override public void close(){
      }
      @Override public Set<String> types(){
        return Collections.unmodifiableSet(globalValues[ord].keySet());
      }
      @Override public SortedDocValues getOrdinalsValues(      String type){
        SortedDocValues dv=globalValues[ord].get(type);
        if (dv == null) {
          dv=DocValues.emptySorted();
        }
        return dv;
      }
    }
;
  }
}
