{
  super.setUp();
  Settings settings=Settings.builder().put("path.home",createTempDir().toString()).build();
  Settings indexSettings=settingsBuilder().put(IndexMetaData.SETTING_VERSION_CREATED,Version.CURRENT).put("index.analysis.filter.wordDelimiter.type","word_delimiter").put("index.analysis.filter.wordDelimiter.split_on_numerics",false).put("index.analysis.analyzer.custom_analyzer.tokenizer","whitespace").putArray("index.analysis.analyzer.custom_analyzer.filter","lowercase","wordDelimiter").put("index.analysis.analyzer.custom_analyzer.tokenizer","whitespace").putArray("index.analysis.analyzer.custom_analyzer.filter","lowercase","wordDelimiter").build();
  IndexSettings idxSettings=IndexSettingsModule.newIndexSettings(new Index("index"),indexSettings);
  environment=new Environment(settings);
  registry=new AnalysisRegistry(null,environment);
  analysisService=registry.build(idxSettings);
}
