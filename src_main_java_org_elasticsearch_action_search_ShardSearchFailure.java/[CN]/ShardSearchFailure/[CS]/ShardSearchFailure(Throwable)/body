{
  this.failure=t;
  Throwable actual=ExceptionsHelper.unwrapCause(t);
  if (actual != null && actual instanceof SearchException) {
    this.shardTarget=((SearchException)actual).shard();
  }
  if (actual != null && actual instanceof ElasticSearchException) {
    status=((ElasticSearchException)actual).status();
  }
 else {
    status=RestStatus.INTERNAL_SERVER_ERROR;
  }
  this.reason=ExceptionsHelper.detailedMessage(t);
}
