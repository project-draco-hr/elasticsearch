{
  builder.startObject().field("state",state()).field("primary",primary()).field("node",currentNodeId()).field("relocating_node",relocatingNodeId()).field("shard",shardId().id()).field("index",shardId().getIndex().getName());
  if (expectedShardSize != UNAVAILABLE_EXPECTED_SHARD_SIZE) {
    builder.field("expected_shard_size_in_bytes",expectedShardSize);
  }
  if (restoreSource() != null) {
    builder.field("restore_source");
    restoreSource().toXContent(builder,params);
  }
  if (allocationId != null) {
    builder.field("allocation_id");
    allocationId.toXContent(builder,params);
  }
  if (unassignedInfo != null) {
    unassignedInfo.toXContent(builder,params);
  }
  return builder.endObject();
}
