{
  Directory dir=new RAMDirectory();
  IndexWriter indexWriter=new IndexWriter(dir,new IndexWriterConfig(Lucene.VERSION,Lucene.STANDARD_ANALYZER));
  Document doc=new Document();
  NumericField field=new NumericField("int1").setIntValue(1);
  field.setOmitNorms(true);
  field.setIndexOptions(FieldInfo.IndexOptions.DOCS_AND_FREQS);
  doc.add(field);
  field=new NumericField("int1").setIntValue(1);
  doc.add(field);
  field=new NumericField("int2").setIntValue(1);
  field.setOmitNorms(true);
  field.setIndexOptions(FieldInfo.IndexOptions.DOCS_AND_FREQS);
  doc.add(field);
  field=new NumericField("int2").setIntValue(1);
  field.setOmitNorms(true);
  field.setIndexOptions(FieldInfo.IndexOptions.DOCS_AND_FREQS);
  doc.add(field);
  indexWriter.addDocument(doc);
  IndexReader reader=IndexReader.open(indexWriter,true);
  TermDocs termDocs=reader.termDocs();
  TermEnum termEnum=reader.terms(new Term("int1",""));
  termDocs.seek(termEnum);
  assertThat(termDocs.next(),equalTo(true));
  assertThat(termDocs.doc(),equalTo(0));
  assertThat(termDocs.freq(),equalTo(1));
  termEnum=reader.terms(new Term("int2",""));
  termDocs.seek(termEnum);
  assertThat(termDocs.next(),equalTo(true));
  assertThat(termDocs.doc(),equalTo(0));
  assertThat(termDocs.freq(),equalTo(2));
  reader.close();
  indexWriter.close();
}
