{
  IndexSearcher contextSearcher=context.searchContext().searcher();
  if (searcher != contextSearcher) {
    searcher=contextSearcher;
    weights=new Weight[filters.size()];
    for (int i=0; i < filters.size(); ++i) {
      KeyedFilter keyedFilter=filters.get(i);
      this.weights[i]=contextSearcher.createNormalizedWeight(keyedFilter.filter,false);
    }
  }
  return new FiltersAggregator(name,factories,keys,weights,keyed,otherBucketKey,context,parent,pipelineAggregators,metaData);
}
