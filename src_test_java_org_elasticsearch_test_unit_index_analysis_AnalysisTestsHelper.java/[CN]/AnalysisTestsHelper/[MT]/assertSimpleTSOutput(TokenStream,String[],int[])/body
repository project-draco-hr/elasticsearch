{
  stream.reset();
  CharTermAttribute termAttr=stream.getAttribute(CharTermAttribute.class);
  PositionIncrementAttribute posIncAttr=stream.getAttribute(PositionIncrementAttribute.class);
  Assert.assertNotNull(termAttr);
  int i=0;
  while (stream.incrementToken()) {
    Assert.assertTrue(i < expected.length,"got extra term: " + termAttr.toString());
    Assert.assertEquals(termAttr.toString(),expected[i],"expected different term at index " + i);
    Assert.assertEquals(posIncAttr.getPositionIncrement(),posInc[i]);
    i++;
  }
  Assert.assertEquals(i,expected.length,"not all tokens produced");
}
