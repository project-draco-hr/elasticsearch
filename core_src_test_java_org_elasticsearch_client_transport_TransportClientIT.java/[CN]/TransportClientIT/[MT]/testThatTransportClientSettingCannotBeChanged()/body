{
  Settings baseSettings=settingsBuilder().put(Client.CLIENT_TYPE_SETTING,"anything").put(Environment.PATH_HOME_SETTING.getKey(),createTempDir()).build();
  try (TransportClient client=TransportClient.builder().settings(baseSettings).build()){
    Settings settings=client.injector.getInstance(Settings.class);
    assertThat(settings.get(Client.CLIENT_TYPE_SETTING),is("transport"));
  }
 }
