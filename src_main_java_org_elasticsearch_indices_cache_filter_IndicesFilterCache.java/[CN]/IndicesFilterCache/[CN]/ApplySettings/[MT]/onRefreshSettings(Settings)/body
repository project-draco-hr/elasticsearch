{
  boolean replace=false;
  String size=settings.get("indices.cache.filter.size",IndicesFilterCache.this.size);
  if (!size.equals(IndicesFilterCache.this.size)) {
    logger.info("updating [indices.cache.filter.size] from [{}] to [{}]",IndicesFilterCache.this.size,size);
    IndicesFilterCache.this.size=size;
    replace=true;
  }
  TimeValue expire=settings.getAsTime("indices.cache.filter.expire",IndicesFilterCache.this.expire);
  if (!Objects.equal(expire,IndicesFilterCache.this.expire)) {
    logger.info("updating [indices.cache.filter.expire] from [{}] to [{}]",IndicesFilterCache.this.expire,expire);
    IndicesFilterCache.this.expire=expire;
    replace=true;
  }
  if (replace) {
    Cache<WeightedFilterCache.FilterCacheKey,DocSet> oldCache=IndicesFilterCache.this.cache;
    computeSizeInBytes();
    buildCache();
    oldCache.invalidateAll();
  }
}
