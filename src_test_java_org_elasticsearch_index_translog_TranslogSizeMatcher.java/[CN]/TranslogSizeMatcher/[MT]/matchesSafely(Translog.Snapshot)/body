{
  int count=0;
  long startingPosition=snapshot.position();
  try {
    while (snapshot.next() != null) {
      count++;
    }
    return size == count;
  }
 catch (  IOException ex) {
    throw new ElasticsearchException("failed to advance iterator",ex);
  }
 finally {
    snapshot.seekTo(startingPosition);
  }
}
