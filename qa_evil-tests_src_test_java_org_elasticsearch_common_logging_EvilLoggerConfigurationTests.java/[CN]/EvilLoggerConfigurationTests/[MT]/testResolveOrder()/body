{
  final Path configDir=getDataPath("config");
  final Settings settings=Settings.builder().put(Environment.PATH_CONF_SETTING.getKey(),configDir.toAbsolutePath()).put(Environment.PATH_HOME_SETTING.getKey(),createTempDir().toString()).put("logger.test_resolve_order","TRACE").build();
  final Environment environment=new Environment(settings);
  LogConfigurator.configure(environment,true);
  final String loggerName;
  if (LogManager.getContext(false).hasLogger("org.elasticsearch.test_resolve_order",new PrefixMessageFactory())) {
    loggerName="org.elasticsearch.test_resolve_order";
  }
 else {
    assertTrue(LogManager.getContext(false).hasLogger("test_resolve_order",new PrefixMessageFactory()));
    loggerName="test_resolve_order";
  }
  final Logger logger=ESLoggerFactory.getLogger(loggerName);
  assertTrue(logger.isTraceEnabled());
}
