{
  if (length < 1) {
    return 0;
  }
  if (!readyBuffer()) {
    return -1;
  }
  int chunkLength=Math.min(bufferLength - bufferPosition,length);
  System.arraycopy(_decodedBytes,bufferPosition,buffer,offset,chunkLength);
  bufferPosition+=chunkLength;
  if (chunkLength == length || !_cfgFullReads) {
    return chunkLength;
  }
  int totalRead=chunkLength;
  do {
    offset+=chunkLength;
    if (!readyBuffer()) {
      break;
    }
    chunkLength=Math.min(bufferLength - bufferPosition,(length - totalRead));
    System.arraycopy(_decodedBytes,bufferPosition,buffer,offset,chunkLength);
    bufferPosition+=chunkLength;
    totalRead+=chunkLength;
  }
 while (totalRead < length);
  return totalRead;
}
