{
  ingestDocument.setFieldValue("list.1","value");
  assertThat(ingestDocument.isSourceModified(),equalTo(true));
  Object object=ingestDocument.getSource().get("list");
  assertThat(object,instanceOf(List.class));
  @SuppressWarnings("unchecked") List<Object> list=(List<Object>)object;
  assertThat(list.size(),equalTo(3));
  assertThat(list.get(0),equalTo(Collections.singletonMap("field","value")));
  assertThat(list.get(1),equalTo("value"));
  assertThat(list.get(2),nullValue());
}
