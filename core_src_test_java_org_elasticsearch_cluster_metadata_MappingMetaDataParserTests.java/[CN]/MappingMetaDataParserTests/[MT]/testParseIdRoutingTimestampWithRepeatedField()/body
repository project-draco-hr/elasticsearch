{
  MappingMetaData md=new MappingMetaData("type1",new CompressedXContent("{}"),new MappingMetaData.Id("field1"),new MappingMetaData.Routing(true,"field1.field1"),new MappingMetaData.Timestamp(true,"field1","dateOptionalTime",TimestampFieldMapper.Defaults.DEFAULT_TIMESTAMP,null),false);
  byte[] bytes=jsonBuilder().startObject().field("aaa","wr").array("arr1","1","2","3").field("field1","foo").field("field1","bar").field("test","value").field("zzz","wr").endObject().bytes().toBytes();
  MappingMetaData.ParseContext parseContext=md.createParseContext(null,null,null);
  md.parse(XContentFactory.xContent(bytes).createParser(bytes),parseContext);
  assertThat(parseContext.id(),equalTo("foo"));
  assertThat(parseContext.routing(),nullValue());
  assertThat(parseContext.timestamp(),equalTo("foo"));
}
