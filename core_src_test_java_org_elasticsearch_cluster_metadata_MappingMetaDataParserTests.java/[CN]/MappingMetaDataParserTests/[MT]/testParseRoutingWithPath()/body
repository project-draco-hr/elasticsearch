{
  MappingMetaData md=new MappingMetaData("type1",new CompressedXContent("{}"),new MappingMetaData.Id("obj1.id"),new MappingMetaData.Routing(true,"obj1.routing"),new MappingMetaData.Timestamp(true,"obj2.timestamp","dateOptionalTime",TimestampFieldMapper.Defaults.DEFAULT_TIMESTAMP,null),false);
  byte[] bytes=jsonBuilder().startObject().field("field1","value1").field("field2","value2").startObject("obj0").field("field1","value1").field("field2","value2").endObject().startObject("obj1").field("id","id").field("routing","routing_value").endObject().startObject("obj2").field("timestamp","1").endObject().endObject().bytes().toBytes();
  MappingMetaData.ParseContext parseContext=md.createParseContext("id",null,"2");
  md.parse(XContentFactory.xContent(bytes).createParser(bytes),parseContext);
  assertThat(parseContext.id(),nullValue());
  assertThat(parseContext.idResolved(),equalTo(false));
  assertThat(parseContext.routing(),equalTo("routing_value"));
  assertThat(parseContext.routingResolved(),equalTo(true));
  assertThat(parseContext.timestamp(),nullValue());
  assertThat(parseContext.timestampResolved(),equalTo(false));
}
