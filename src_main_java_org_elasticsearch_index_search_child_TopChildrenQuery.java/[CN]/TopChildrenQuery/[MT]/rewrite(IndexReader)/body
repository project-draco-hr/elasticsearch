{
  Query rewrittenChildQuery=query.rewrite(reader);
  if (rewrittenChildQuery == query) {
    return this;
  }
  int index=searchContext.rewrites().indexOf(this);
  TopChildrenQuery rewrite=new TopChildrenQuery(this,rewrittenChildQuery);
  searchContext.rewrites().set(index,rewrite);
  return rewrite;
}
