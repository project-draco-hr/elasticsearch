{
  Query rewritten;
  if (rewrittenChildQuery == null) {
    rewritten=originalChildQuery.rewrite(reader);
  }
 else {
    rewritten=rewrittenChildQuery;
  }
  if (rewritten == rewrittenChildQuery) {
    return this;
  }
  int index=searchContext.rewrites().indexOf(this);
  TopChildrenQuery rewrite=new TopChildrenQuery(this,rewritten);
  searchContext.rewrites().set(index,rewrite);
  return rewrite;
}
