{
  super(settings);
  this.leastAvailableSpaceUsages=Collections.emptyMap();
  this.mostAvailableSpaceUsages=Collections.emptyMap();
  this.shardRoutingToDataPath=Collections.emptyMap();
  this.shardSizes=Collections.emptyMap();
  this.transportNodesStatsAction=transportNodesStatsAction;
  this.transportIndicesStatsAction=transportIndicesStatsAction;
  this.clusterService=clusterService;
  this.threadPool=threadPool;
  this.updateFrequency=settings.getAsTime(INTERNAL_CLUSTER_INFO_UPDATE_INTERVAL,TimeValue.timeValueSeconds(30));
  this.fetchTimeout=settings.getAsTime(INTERNAL_CLUSTER_INFO_TIMEOUT,TimeValue.timeValueSeconds(15));
  this.enabled=settings.getAsBoolean(DiskThresholdDecider.CLUSTER_ROUTING_ALLOCATION_DISK_THRESHOLD_ENABLED,true);
  nodeSettingsService.addListener(new ApplySettings());
  this.clusterService.add((LocalNodeMasterListener)this);
  this.clusterService.add((ClusterStateListener)this);
}
