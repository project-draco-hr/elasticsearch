{
  List<Element> elements=Elements.getElements(module);
  Set<String> bindings=new HashSet<>();
  boolean providerFound=false;
  for (  Element element : elements) {
    if (element instanceof LinkedKeyBinding) {
      LinkedKeyBinding binding=(LinkedKeyBinding)element;
      if (to.getName().equals(binding.getKey().getTypeLiteral().getType().getTypeName())) {
        bindings.add(binding.getLinkedKey().getTypeLiteral().getType().getTypeName());
      }
    }
 else     if (element instanceof ProviderInstanceBinding) {
      ProviderInstanceBinding binding=(ProviderInstanceBinding)element;
      String setType=binding.getKey().getTypeLiteral().getType().getTypeName();
      if (setType.equals("java.util.Set<" + to.getName() + ">")) {
        providerFound=true;
      }
    }
  }
  for (  Class clazz : classes) {
    if (bindings.contains(clazz.getName()) == false) {
      fail("Expected to find " + clazz.getName() + " as set binding to "+ to.getName()+ ", found these classes:\n"+ bindings);
    }
  }
  assertTrue("Did not find provider for set of " + to.getName(),providerFound);
}
