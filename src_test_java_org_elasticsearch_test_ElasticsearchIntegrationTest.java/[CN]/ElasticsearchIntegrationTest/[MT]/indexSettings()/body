{
  ImmutableSettings.Builder builder=ImmutableSettings.builder();
  int numberOfShards=numberOfShards();
  if (numberOfShards > 0) {
    builder.put(IndexMetaData.SETTING_NUMBER_OF_SHARDS,numberOfShards).build();
  }
  int numberOfReplicas=numberOfReplicas();
  if (numberOfReplicas >= 0) {
    builder.put(IndexMetaData.SETTING_NUMBER_OF_REPLICAS,numberOfReplicas).build();
  }
  return builder.build();
}
