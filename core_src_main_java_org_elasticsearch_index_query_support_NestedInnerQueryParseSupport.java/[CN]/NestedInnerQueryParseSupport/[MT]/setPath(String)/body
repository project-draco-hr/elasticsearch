{
  this.path=path;
  nestedObjectMapper=shardContext.getObjectMapper(path);
  if (nestedObjectMapper == null) {
    throw new QueryShardException(shardContext,"[nested] failed to find nested object under path [" + path + "]");
  }
  if (!nestedObjectMapper.nested().isNested()) {
    throw new QueryShardException(shardContext,"[nested] nested object under path [" + path + "] is not of nested type");
  }
}
