{
synchronized (connectLock(node.id())) {
    NodeChannels nodeChannels=connectedNodes.remove(node);
    if (nodeChannels != null) {
      try {
        nodeChannels.close();
      }
  finally {
        logger.debug("disconnected from [{}]",node);
        transportServiceAdapter.raiseNodeDisconnected(node);
      }
    }
  }
}
