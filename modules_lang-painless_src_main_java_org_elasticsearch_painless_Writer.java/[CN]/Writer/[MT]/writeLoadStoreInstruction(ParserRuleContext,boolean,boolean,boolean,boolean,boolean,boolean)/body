{
  final Metadata.ExtNodeMetadata sourceemd=metadata.getExtNodeMetadata(source);
  if (variable) {
    writeLoadStoreVariable(source,store,sourceemd.type,(int)sourceemd.target);
  }
 else   if (field) {
    writeLoadStoreField(store,(Field)sourceemd.target);
  }
 else   if (name) {
    writeLoadStoreField(source,store,(String)sourceemd.target);
  }
 else   if (array) {
    writeLoadStoreArray(source,store,sourceemd.type);
  }
 else   if (shortcut) {
    Object[] targets=(Object[])sourceemd.target;
    writeLoadStoreShortcut(store,(Method)targets[0],(Method)targets[1]);
  }
 else {
    throw new IllegalStateException(Metadata.error(source) + "Load/Store requires a variable, field, or array.");
  }
}
