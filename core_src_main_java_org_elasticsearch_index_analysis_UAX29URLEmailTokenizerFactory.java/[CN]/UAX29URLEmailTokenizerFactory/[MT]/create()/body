{
  if (version.onOrAfter(Version.LUCENE_4_7)) {
    UAX29URLEmailTokenizer tokenizer=new UAX29URLEmailTokenizer();
    tokenizer.setMaxTokenLength(maxTokenLength);
    return tokenizer;
  }
 else {
    UAX29URLEmailTokenizer40 tokenizer=new UAX29URLEmailTokenizer40();
    tokenizer.setMaxTokenLength(maxTokenLength);
    return tokenizer;
  }
}
