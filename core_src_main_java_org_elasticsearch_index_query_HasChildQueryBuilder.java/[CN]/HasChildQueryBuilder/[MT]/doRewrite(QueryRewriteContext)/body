{
  QueryBuilder rewrite=query.rewrite(queryRewriteContext);
  if (rewrite != query) {
    HasChildQueryBuilder hasChildQueryBuilder=new HasChildQueryBuilder(type,rewrite);
    hasChildQueryBuilder.minChildren=minChildren;
    hasChildQueryBuilder.maxChildren=maxChildren;
    hasChildQueryBuilder.scoreMode=scoreMode;
    hasChildQueryBuilder.queryInnerHits=queryInnerHits;
    return hasChildQueryBuilder;
  }
  return this;
}
