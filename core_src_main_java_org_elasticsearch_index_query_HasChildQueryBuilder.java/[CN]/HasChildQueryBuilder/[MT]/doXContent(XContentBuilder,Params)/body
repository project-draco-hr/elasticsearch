{
  builder.startObject(NAME);
  builder.field(HasChildQueryParser.QUERY_FIELD.getPreferredName());
  query.toXContent(builder,params);
  builder.field(HasChildQueryParser.TYPE_FIELD.getPreferredName(),type);
  builder.field(HasChildQueryParser.SCORE_MODE_FIELD.getPreferredName(),scoreMode.name().toLowerCase(Locale.ROOT));
  builder.field(HasChildQueryParser.MIN_CHILDREN_FIELD.getPreferredName(),minChildren);
  builder.field(HasChildQueryParser.MAX_CHILDREN_FIELD.getPreferredName(),maxChildren);
  printBoostAndQueryName(builder);
  if (queryInnerHits != null) {
    queryInnerHits.toXContent(builder,params);
  }
  builder.endObject();
}
