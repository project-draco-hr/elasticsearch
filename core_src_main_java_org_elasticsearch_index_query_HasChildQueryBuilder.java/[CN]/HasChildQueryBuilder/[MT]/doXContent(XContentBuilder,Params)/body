{
  builder.startObject(NAME);
  builder.field("query");
  query.toXContent(builder,params);
  builder.field("child_type",type);
  builder.field("score_type",scoreType.name().toLowerCase(Locale.ROOT));
  builder.field("min_children",minChildren);
  builder.field("max_children",maxChildren);
  builder.field("short_circuit_cutoff",shortCircuitCutoff);
  printBoostAndQueryName(builder);
  if (queryInnerHits != null) {
    queryInnerHits.toXContent(builder,params);
  }
  builder.endObject();
}
