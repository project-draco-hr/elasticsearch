{
  String index="text-index";
  String field="field";
  String type=new String(new char[256]).replace("\0","a");
  expectedException.expect(MapperParsingException.class);
  expectedException.expect(hasToString(containsString("mapping type name [" + type + "] is too long; limit is length 255 but was [256]")));
  client().admin().indices().prepareCreate(index).addMapping(type,field,"type=string").execute().actionGet();
}
