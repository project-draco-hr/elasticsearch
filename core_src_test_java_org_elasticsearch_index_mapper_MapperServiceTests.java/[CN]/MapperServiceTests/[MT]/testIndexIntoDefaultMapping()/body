{
  try {
    client().prepareIndex("index1",MapperService.DEFAULT_MAPPING,"1").setSource("{").execute().get();
    fail();
  }
 catch (  Throwable t) {
    if (t instanceof ExecutionException) {
      t=((ExecutionException)t).getCause();
    }
    if (t instanceof IllegalArgumentException) {
      assertEquals("It is forbidden to index into the default mapping [_default_]",t.getMessage());
    }
 else {
      throw t;
    }
  }
  IndexService indexService=createIndex("index2");
  try {
    client().prepareIndex("index2",MapperService.DEFAULT_MAPPING,"2").setSource().execute().get();
    fail();
  }
 catch (  Throwable t) {
    if (t instanceof ExecutionException) {
      t=((ExecutionException)t).getCause();
    }
    if (t instanceof IllegalArgumentException) {
      assertEquals("It is forbidden to index into the default mapping [_default_]",t.getMessage());
    }
 else {
      throw t;
    }
  }
  assertFalse(indexService.mapperService().hasMapping(MapperService.DEFAULT_MAPPING));
}
