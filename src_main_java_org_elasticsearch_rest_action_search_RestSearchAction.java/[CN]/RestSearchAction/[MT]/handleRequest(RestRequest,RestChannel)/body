{
  SearchRequest searchRequest;
  searchRequest=RestSearchAction.parseSearchRequest(request);
  searchRequest.listenerThreaded(false);
  SearchOperationThreading operationThreading=SearchOperationThreading.fromString(request.param("operation_threading"),null);
  if (operationThreading != null) {
    if (operationThreading == SearchOperationThreading.NO_THREADS) {
      operationThreading=SearchOperationThreading.SINGLE_THREAD;
    }
    searchRequest.operationThreading(operationThreading);
  }
  client.search(searchRequest,new RestToXContentListener<SearchResponse>(channel));
}
