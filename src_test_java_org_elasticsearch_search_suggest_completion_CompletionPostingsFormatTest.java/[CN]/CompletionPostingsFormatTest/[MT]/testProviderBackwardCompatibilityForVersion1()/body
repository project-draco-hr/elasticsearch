{
  AnalyzingCompletionLookupProviderV1 providerV1=new AnalyzingCompletionLookupProviderV1(true,false,true,true);
  AnalyzingCompletionLookupProvider currentProvider=new AnalyzingCompletionLookupProvider(true,false,true,true);
  RAMDirectory dir=new RAMDirectory();
  writeData(dir,providerV1);
  IndexInput input=dir.openInput("foo.txt",IOContext.DEFAULT);
  LookupFactory load=currentProvider.load(input);
  PostingsFormat format=new Elasticsearch090PostingsFormat();
  NamedAnalyzer analyzer=new NamedAnalyzer("foo",new StandardAnalyzer());
  AnalyzingCompletionLookupProvider.AnalyzingSuggestHolder analyzingSuggestHolder=load.getAnalyzingSuggestHolder(new CompletionFieldMapper(new Names("foo"),analyzer,analyzer,format,null,true,true,true,Integer.MAX_VALUE,AbstractFieldMapper.MultiFields.empty(),null,ContextMapping.EMPTY_MAPPING));
  assertThat(analyzingSuggestHolder.sepLabel,is(AnalyzingCompletionLookupProviderV1.SEP_LABEL));
  assertThat(analyzingSuggestHolder.payloadSep,is(AnalyzingCompletionLookupProviderV1.PAYLOAD_SEP));
  assertThat(analyzingSuggestHolder.endByte,is(AnalyzingCompletionLookupProviderV1.END_BYTE));
  dir.close();
}
