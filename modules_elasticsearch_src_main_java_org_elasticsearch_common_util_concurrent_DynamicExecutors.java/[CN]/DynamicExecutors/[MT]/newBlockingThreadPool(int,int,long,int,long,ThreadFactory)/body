{
  DynamicThreadPoolExecutor.DynamicQueue<Runnable> queue=new DynamicThreadPoolExecutor.DynamicQueue<Runnable>(capacity);
  ThreadPoolExecutor executor=new DynamicThreadPoolExecutor(min,max,keepAliveTime,TimeUnit.MILLISECONDS,queue,threadFactory);
  executor.setRejectedExecutionHandler(new DynamicThreadPoolExecutor.TimedBlockingPolicy(waitTime));
  queue.setThreadPoolExecutor(executor);
  return executor;
}
