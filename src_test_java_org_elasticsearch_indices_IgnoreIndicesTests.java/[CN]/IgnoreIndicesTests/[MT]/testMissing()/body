{
  client().admin().indices().prepareCreate("test1").execute().actionGet();
  ensureYellow();
  try {
    client().prepareSearch("test1","test2").setQuery(QueryBuilders.matchAllQuery()).execute().actionGet();
    fail("Exception should have been thrown.");
  }
 catch (  IndexMissingException e) {
  }
  MultiSearchResponse multiSearchResponse=client().prepareMultiSearch().add(client().prepareSearch("test1","test2").setQuery(QueryBuilders.matchAllQuery())).execute().actionGet();
  assertThat(multiSearchResponse.getResponses().length,equalTo(1));
  assertThat(multiSearchResponse.getResponses()[0].getResponse(),nullValue());
  try {
    client().prepareCount("test1","test2").setQuery(QueryBuilders.matchAllQuery()).execute().actionGet();
    fail("Exception should have been thrown.");
  }
 catch (  IndexMissingException e) {
  }
  try {
    client().admin().indices().prepareClearCache("test1","test2").execute().actionGet();
    fail("Exception should have been thrown.");
  }
 catch (  IndexMissingException e) {
  }
  try {
    client().admin().indices().prepareFlush("test1","test2").execute().actionGet();
    fail("Exception should have been thrown.");
  }
 catch (  IndexMissingException e) {
  }
  try {
    client().admin().indices().prepareGatewaySnapshot("test1","test2").execute().actionGet();
    fail("Exception should have been thrown.");
  }
 catch (  IndexMissingException e) {
  }
  try {
    client().admin().indices().prepareSegments("test1","test2").execute().actionGet();
    fail("Exception should have been thrown.");
  }
 catch (  IndexMissingException e) {
  }
  try {
    client().admin().indices().prepareStats("test1","test2").execute().actionGet();
    fail("Exception should have been thrown.");
  }
 catch (  IndexMissingException e) {
  }
  try {
    client().admin().indices().prepareStatus("test1","test2").execute().actionGet();
    fail("Exception should have been thrown.");
  }
 catch (  IndexMissingException e) {
  }
  try {
    client().admin().indices().prepareOptimize("test1","test2").execute().actionGet();
    fail("Exception should have been thrown.");
  }
 catch (  IndexMissingException e) {
  }
  try {
    client().admin().indices().prepareRefresh("test1","test2").execute().actionGet();
    fail("Exception should have been thrown.");
  }
 catch (  IndexMissingException e) {
  }
  try {
    client().admin().indices().prepareValidateQuery("test1","test2").execute().actionGet();
    fail("Exception should have been thrown.");
  }
 catch (  IndexMissingException e) {
  }
  client().prepareSearch("test1","test2").setIgnoreIndices(IgnoreIndices.MISSING).setQuery(QueryBuilders.matchAllQuery()).execute().actionGet();
  multiSearchResponse=client().prepareMultiSearch().setIgnoreIndices(IgnoreIndices.MISSING).add(client().prepareSearch("test1","test2").setQuery(QueryBuilders.matchAllQuery())).execute().actionGet();
  assertThat(multiSearchResponse.getResponses().length,equalTo(1));
  assertThat(multiSearchResponse.getResponses()[0].getResponse(),notNullValue());
  client().prepareCount("test1","test2").setIgnoreIndices(IgnoreIndices.MISSING).setQuery(QueryBuilders.matchAllQuery()).execute().actionGet();
  client().admin().indices().prepareClearCache("test1","test2").setIgnoreIndices(IgnoreIndices.MISSING).execute().actionGet();
  client().admin().indices().prepareFlush("test1","test2").setIgnoreIndices(IgnoreIndices.MISSING).execute().actionGet();
  client().admin().indices().prepareGatewaySnapshot("test1","test2").setIgnoreIndices(IgnoreIndices.MISSING).execute().actionGet();
  client().admin().indices().prepareSegments("test1","test2").setIgnoreIndices(IgnoreIndices.MISSING).execute().actionGet();
  client().admin().indices().prepareStats("test1","test2").setIgnoreIndices(IgnoreIndices.MISSING).execute().actionGet();
  client().admin().indices().prepareStatus("test1","test2").setIgnoreIndices(IgnoreIndices.MISSING).execute().actionGet();
  client().admin().indices().prepareOptimize("test1","test2").setIgnoreIndices(IgnoreIndices.MISSING).execute().actionGet();
  client().admin().indices().prepareRefresh("test1","test2").setIgnoreIndices(IgnoreIndices.MISSING).execute().actionGet();
  client().admin().indices().prepareValidateQuery("test1","test2").setIgnoreIndices(IgnoreIndices.MISSING).execute().actionGet();
  client().admin().indices().prepareCreate("test2").execute().actionGet();
  ensureYellow();
  client().prepareSearch("test1","test2").setQuery(QueryBuilders.matchAllQuery()).execute().actionGet();
  client().prepareCount("test1","test2").setQuery(QueryBuilders.matchAllQuery()).execute().actionGet();
  client().admin().indices().prepareClearCache("test1","test2").execute().actionGet();
  client().admin().indices().prepareFlush("test1","test2").execute().actionGet();
  client().admin().indices().prepareGatewaySnapshot("test1","test2").execute().actionGet();
  client().admin().indices().prepareSegments("test1","test2").execute().actionGet();
  client().admin().indices().prepareStats("test1","test2").execute().actionGet();
  client().admin().indices().prepareStatus("test1","test2").execute().actionGet();
  client().admin().indices().prepareOptimize("test1","test2").execute().actionGet();
  client().admin().indices().prepareRefresh("test1","test2").execute().actionGet();
  client().admin().indices().prepareValidateQuery("test1","test2").execute().actionGet();
}
