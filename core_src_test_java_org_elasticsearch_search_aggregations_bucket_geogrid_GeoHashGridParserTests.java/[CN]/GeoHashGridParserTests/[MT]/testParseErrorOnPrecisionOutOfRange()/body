{
  SearchContext searchContext=new TestSearchContext();
  XContentParser stParser=JsonXContent.jsonXContent.createParser("{\"field\":\"my_loc\", \"precision\":\"13\"}");
  GeoHashGridParser parser=new GeoHashGridParser();
  try {
    parser.parse("geohash_grid",stParser,searchContext);
    fail();
  }
 catch (  IllegalArgumentException ex) {
    assertEquals("Invalid geohash aggregation precision of 13. Must be between 1 and 12.",ex.getMessage());
  }
}
