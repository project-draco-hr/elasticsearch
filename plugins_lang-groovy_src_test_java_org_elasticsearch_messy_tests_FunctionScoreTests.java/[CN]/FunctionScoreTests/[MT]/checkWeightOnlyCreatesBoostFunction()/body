{
  assertAcked(prepareCreate(INDEX).addMapping(TYPE,MAPPING_WITH_DOUBLE_AND_GEO_POINT_AND_TEXT_FIELD));
  ensureYellow();
  index(INDEX,TYPE,"1",SIMPLE_DOC);
  refresh();
  SearchResponse response=client().search(searchRequest().source(new SearchSourceBuilder().query(QueryBuilders.functionScoreQuery(ScoreFunctionBuilders.weightFactorFunction(2.0f))))).actionGet();
  assertSearchResponse(response);
  assertThat(response.getHits().getAt(0).score(),equalTo(2.0f));
  response=client().search(searchRequest().source(new SearchSourceBuilder().query(QueryBuilders.functionScoreQuery(ScoreFunctionBuilders.weightFactorFunction(2.0f))))).actionGet();
  assertSearchResponse(response);
  assertThat(response.getHits().getAt(0).score(),equalTo(2.0f));
  response=client().search(searchRequest().source(searchSource().query(functionScoreQuery(new WeightBuilder().setWeight(2.0f))))).actionGet();
  assertSearchResponse(response);
  assertThat(response.getHits().getAt(0).score(),equalTo(2.0f));
  response=client().search(searchRequest().source(searchSource().query(functionScoreQuery(weightFactorFunction(2.0f))))).actionGet();
  assertSearchResponse(response);
  assertThat(response.getHits().getAt(0).score(),equalTo(2.0f));
}
