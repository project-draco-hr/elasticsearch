{
  if (value.endsWith("d") || value.endsWith("D")) {
    if (radix != 10) {
      throw new IllegalStateException(error("Invalid tree structure."));
    }
    try {
      constant=Double.parseDouble(value.substring(0,value.length() - 1));
      actual=definition.doubleType;
    }
 catch (    final NumberFormatException exception) {
      throw new IllegalArgumentException(error("Invalid double constant [" + value + "]."));
    }
  }
 else   if (value.endsWith("f") || value.endsWith("F")) {
    if (radix != 10) {
      throw new IllegalStateException(error("Invalid tree structure."));
    }
    try {
      constant=Float.parseFloat(value.substring(0,value.length() - 1));
      actual=definition.floatType;
    }
 catch (    final NumberFormatException exception) {
      throw new IllegalArgumentException(error("Invalid float constant [" + value + "]."));
    }
  }
 else   if (value.endsWith("l") || value.endsWith("L")) {
    try {
      constant=Long.parseLong(value.substring(0,value.length() - 1),radix);
      actual=definition.longType;
    }
 catch (    final NumberFormatException exception) {
      throw new IllegalArgumentException(error("Invalid long constant [" + value + "]."));
    }
  }
 else {
    try {
      final Sort sort=expected == null ? Sort.INT : expected.sort;
      final int integer=Integer.parseInt(value,radix);
      if (sort == Sort.BYTE && integer >= Byte.MIN_VALUE && integer <= Byte.MAX_VALUE) {
        constant=(byte)integer;
        actual=definition.byteType;
      }
 else       if (sort == Sort.CHAR && integer >= Character.MIN_VALUE && integer <= Character.MAX_VALUE) {
        constant=(char)integer;
        actual=definition.charType;
      }
 else       if (sort == Sort.SHORT && integer >= Short.MIN_VALUE && integer <= Short.MAX_VALUE) {
        constant=(short)integer;
        actual=definition.shortType;
      }
 else {
        constant=integer;
        actual=definition.intType;
      }
    }
 catch (    final NumberFormatException exception) {
      throw new IllegalArgumentException(error("Invalid int constant [" + value + "]."));
    }
  }
}
