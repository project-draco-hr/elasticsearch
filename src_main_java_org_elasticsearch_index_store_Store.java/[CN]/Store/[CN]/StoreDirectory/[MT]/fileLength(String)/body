{
  ensureOpen();
  StoreFileMetaData metaData=filesMetadata.get(name);
  if (metaData == null) {
    throw new FileNotFoundException(name);
  }
  if (metaData.length() != -1) {
    return metaData.length();
  }
  return metaData.directory().fileLength(name);
}
