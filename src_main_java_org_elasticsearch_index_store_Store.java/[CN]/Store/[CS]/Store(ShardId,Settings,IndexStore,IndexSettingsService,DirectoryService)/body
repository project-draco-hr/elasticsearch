{
  super(shardId,indexSettings);
  this.indexStore=indexStore;
  this.indexSettingsService=indexSettingsService;
  this.directoryService=directoryService;
  this.sync=componentSettings.getAsBoolean("sync",true);
  this.directory=new StoreDirectory(directoryService.build());
  this.compressStored=componentSettings.getAsBoolean("compress.stored",false);
  this.compressTv=componentSettings.getAsBoolean("compress.tv",false);
  logger.debug("using compress.stored [{}], compress.tv [{}]",compressStored,compressTv);
  indexSettingsService.addListener(applySettings);
}
