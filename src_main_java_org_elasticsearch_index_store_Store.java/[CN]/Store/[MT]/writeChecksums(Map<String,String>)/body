{
  ensureOpen();
synchronized (mutex) {
    for (    Map.Entry<String,String> entry : checksums.entrySet()) {
      StoreFileMetaData metaData=filesMetadata.get(entry.getKey());
      metaData=new StoreFileMetaData(metaData.name(),metaData.length(),entry.getValue(),metaData.directory());
      filesMetadata=ImmutableOpenMap.builder(filesMetadata).fPut(entry.getKey(),metaData).build();
    }
    writeChecksums();
  }
}
