{
synchronized (mutex) {
    StoreFileMetaData metaData=filesMetadata.get(name);
    metaData=new StoreFileMetaData(metaData.name(),metaData.length(),metaData.lastModified(),checksum,metaData.directory());
    filesMetadata=MapBuilder.newMapBuilder(filesMetadata).put(name,metaData).immutableMap();
    writeChecksums();
  }
}
