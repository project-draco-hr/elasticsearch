{
  KeyedLock<String> connectionLock=new KeyedLock<String>();
  String name=randomRealisticUnicodeOfLength(scaledRandomIntBetween(10,50));
  connectionLock.acquire(name);
  try {
    connectionLock.acquire(name);
    fail("Expected IllegalStateException");
  }
 catch (  IllegalStateException e) {
    assertThat(e.getMessage(),containsString("Lock already acquired"));
  }
}
