{
  if (delegate instanceof BufferedIndexOutput) {
    bufferedDelegate=(BufferedIndexOutput)delegate;
    this.delegate=delegate;
  }
 else {
    this.delegate=delegate;
    bufferedDelegate=null;
  }
  this.rateLimiter=rateLimiter;
  this.rateListener=rateListener;
}
