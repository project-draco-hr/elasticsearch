{
  rateListener.onPause(rateLimiter.pause(len));
  if (bufferedDelegate != null) {
    bufferedDelegate.flushBuffer(b,offset,len);
  }
 else {
    delegate.writeBytes(b,offset,len);
  }
}
