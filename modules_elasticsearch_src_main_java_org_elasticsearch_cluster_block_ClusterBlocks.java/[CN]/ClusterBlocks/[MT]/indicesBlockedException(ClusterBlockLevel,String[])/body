{
  boolean indexIsBlocked=false;
  for (  String index : indices) {
    if (indexBlocked(level,index)) {
      indexIsBlocked=true;
    }
  }
  if (!indexIsBlocked) {
    return null;
  }
  ImmutableSet.Builder<ClusterBlock> builder=ImmutableSet.builder();
  builder.addAll(global(level));
  for (  String index : indices) {
    ImmutableSet<ClusterBlock> indexBlocks=indices(level).get(index);
    if (indexBlocks != null) {
      builder.addAll(indexBlocks);
    }
  }
  return new ClusterBlockException(builder.build());
}
