{
  if (first == null) {
    List<ResolverTuple> curr=yamlImplicitResolvers.get(null);
    if (curr == null) {
      curr=new ArrayList<ResolverTuple>();
      yamlImplicitResolvers.put(null,curr);
    }
    curr.add(new ResolverTuple(tag,regexp));
  }
 else {
    char[] chrs=first.toCharArray();
    for (int i=0, j=chrs.length; i < j; i++) {
      Character theC=new Character(chrs[i]);
      if (theC == 0) {
        theC=null;
      }
      List<ResolverTuple> curr=yamlImplicitResolvers.get(theC);
      if (curr == null) {
        curr=new ArrayList<ResolverTuple>();
        yamlImplicitResolvers.put(theC,curr);
      }
      curr.add(new ResolverTuple(tag,regexp));
    }
  }
}
