{
  List<NetworkInterface> allInterfaces=new ArrayList<>();
  for (Enumeration<NetworkInterface> interfaces=NetworkInterface.getNetworkInterfaces(); interfaces.hasMoreElements(); ) {
    NetworkInterface intf=interfaces.nextElement();
    allInterfaces.add(intf);
    Enumeration<NetworkInterface> subInterfaces=intf.getSubInterfaces();
    if (subInterfaces != null && subInterfaces.hasMoreElements()) {
      while (subInterfaces.hasMoreElements()) {
        allInterfaces.add(subInterfaces.nextElement());
      }
    }
  }
  sortInterfaces(allInterfaces);
  return allInterfaces;
}
