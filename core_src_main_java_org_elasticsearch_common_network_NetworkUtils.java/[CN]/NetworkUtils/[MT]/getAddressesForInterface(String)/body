{
  NetworkInterface intf=null;
  for (  NetworkInterface networkInterface : getInterfaces()) {
    if (name.equals(networkInterface.getName())) {
      intf=networkInterface;
      break;
    }
  }
  if (intf == null) {
    throw new IllegalArgumentException("No interface named '" + name + "' found, got "+ getInterfaces());
  }
  if (!intf.isUp()) {
    throw new IllegalArgumentException("Interface '" + name + "' is not up and running");
  }
  List<InetAddress> list=Collections.list(intf.getInetAddresses());
  if (list.isEmpty()) {
    throw new IllegalArgumentException("Interface '" + name + "' has no internet addresses");
  }
  return list.toArray(new InetAddress[list.size()]);
}
