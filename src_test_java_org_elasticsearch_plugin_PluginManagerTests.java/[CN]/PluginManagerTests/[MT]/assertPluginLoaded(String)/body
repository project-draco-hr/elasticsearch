{
  NodesInfoResponse nodesInfoResponse=client().admin().cluster().prepareNodesInfo().clear().setPlugins(true).get();
  assertThat(nodesInfoResponse.getNodes().length,equalTo(1));
  assertThat(nodesInfoResponse.getNodes()[0].getPlugins().getInfos(),notNullValue());
  assertThat(nodesInfoResponse.getNodes()[0].getPlugins().getInfos().size(),not(0));
  boolean pluginFound=false;
  for (  PluginInfo pluginInfo : nodesInfoResponse.getNodes()[0].getPlugins().getInfos()) {
    if (pluginInfo.getName().equals(pluginName)) {
      pluginFound=true;
      break;
    }
  }
  assertThat(pluginFound,is(true));
}
