{
  String rateLimitingType=settings.get(INDEX_STORE_THROTTLE_TYPE,IndexStore.this.rateLimitingType);
  if (!rateLimitingType.equals(IndexStore.this.rateLimitingType)) {
    logger.info("updating index.store.throttle.type from [{}] to [{}]",IndexStore.this.rateLimitingType,rateLimitingType);
    if (rateLimitingType.equalsIgnoreCase("node")) {
      IndexStore.this.rateLimitingType=rateLimitingType;
      IndexStore.this.nodeRateLimiting=true;
    }
 else {
      StoreRateLimiting.Type.fromString(rateLimitingType);
      IndexStore.this.rateLimitingType=rateLimitingType;
      IndexStore.this.nodeRateLimiting=false;
      IndexStore.this.rateLimiting.setType(rateLimitingType);
    }
  }
  ByteSizeValue rateLimitingThrottle=settings.getAsBytesSize(INDEX_STORE_THROTTLE_MAX_BYTES_PER_SEC,IndexStore.this.rateLimitingThrottle);
  if (!rateLimitingThrottle.equals(IndexStore.this.rateLimitingThrottle)) {
    logger.info("updating index.store.throttle.max_bytes_per_sec from [{}] to [{}], note, type is [{}]",IndexStore.this.rateLimitingThrottle,rateLimitingThrottle,IndexStore.this.rateLimitingType);
    IndexStore.this.rateLimitingThrottle=rateLimitingThrottle;
    IndexStore.this.rateLimiting.setMaxRate(rateLimitingThrottle);
  }
}
