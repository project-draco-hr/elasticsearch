{
  super(index,indexSettings);
  this.indicesStore=indicesStore;
  this.rateLimitingType=indexSettings.get(INDEX_STORE_THROTTLE_TYPE,"none");
  if (rateLimitingType.equalsIgnoreCase("node")) {
    nodeRateLimiting=true;
  }
 else {
    nodeRateLimiting=false;
    rateLimiting.setType(rateLimitingType);
  }
  this.rateLimitingThrottle=indexSettings.getAsBytesSize(INDEX_STORE_THROTTLE_MAX_BYTES_PER_SEC,new ByteSizeValue(0));
  rateLimiting.setMaxRate(rateLimitingThrottle);
  logger.debug("using index.store.throttle.type [{}], with index.store.throttle.max_bytes_per_sec [{}]",rateLimitingType,rateLimitingThrottle);
  this.settingsService=settingsService;
  this.settingsService.addListener(applySettings);
}
