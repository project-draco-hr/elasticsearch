{
  createIndex("index");
  ensureYellow();
  index("index","testtype","1",jsonBuilder().startObject().field("dummy_field",1).endObject());
  refresh();
  SearchResponse response=client().search(searchRequest().source(searchSource().query(functionScoreQuery(functionScoreQuery(functionScoreQuery().add(scriptFunction(new Script("1",ScriptService.ScriptType.INLINE,"js",null)))).add(scriptFunction(new Script("_score.doubleValue()",ScriptService.ScriptType.INLINE,"js",null)))).add(scriptFunction(new Script("_score.doubleValue()",ScriptService.ScriptType.INLINE,"js",null)))))).actionGet();
  assertSearchResponse(response);
  assertThat(response.getHits().getAt(0).score(),equalTo(1.0f));
}
