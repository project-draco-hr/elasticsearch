{
  createIndex("index");
  ensureYellow();
  index("index","testtype","1",jsonBuilder().startObject().field("dummy_field",1).endObject());
  refresh();
  SearchResponse response=client().search(searchRequest().source(searchSource().query(functionScoreQuery(functionScoreQuery(functionScoreQuery().add(scriptFunction("1").lang("js"))).add(scriptFunction("_score.doubleValue()").lang("js"))).add(scriptFunction("_score.doubleValue()").lang("js"))))).actionGet();
  assertSearchResponse(response);
  assertThat(response.getHits().getAt(0).score(),equalTo(1.0f));
}
