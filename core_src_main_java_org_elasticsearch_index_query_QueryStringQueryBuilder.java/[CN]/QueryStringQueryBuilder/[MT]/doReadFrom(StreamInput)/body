{
  QueryStringQueryBuilder queryStringQueryBuilder=new QueryStringQueryBuilder(in.readString());
  queryStringQueryBuilder.defaultField=in.readOptionalString();
  int size=in.readVInt();
  for (int i=0; i < size; i++) {
    queryStringQueryBuilder.fieldsAndWeights.put(in.readString(),in.readFloat());
  }
  queryStringQueryBuilder.defaultOperator=Operator.readOperatorFrom(in);
  queryStringQueryBuilder.analyzer=in.readOptionalString();
  queryStringQueryBuilder.quoteAnalyzer=in.readOptionalString();
  queryStringQueryBuilder.quoteFieldSuffix=in.readOptionalString();
  queryStringQueryBuilder.autoGeneratePhraseQueries=in.readBoolean();
  queryStringQueryBuilder.allowLeadingWildcard=in.readOptionalBoolean();
  queryStringQueryBuilder.analyzeWildcard=in.readOptionalBoolean();
  queryStringQueryBuilder.lowercaseExpandedTerms=in.readBoolean();
  queryStringQueryBuilder.enablePositionIncrements=in.readBoolean();
  queryStringQueryBuilder.locale=Locale.forLanguageTag(in.readString());
  queryStringQueryBuilder.fuzziness=Fuzziness.readFuzzinessFrom(in);
  queryStringQueryBuilder.fuzzyPrefixLength=in.readVInt();
  queryStringQueryBuilder.fuzzyMaxExpansions=in.readVInt();
  queryStringQueryBuilder.fuzzyRewrite=in.readOptionalString();
  queryStringQueryBuilder.phraseSlop=in.readVInt();
  queryStringQueryBuilder.useDisMax=in.readBoolean();
  queryStringQueryBuilder.tieBreaker=in.readFloat();
  queryStringQueryBuilder.rewrite=in.readOptionalString();
  queryStringQueryBuilder.minimumShouldMatch=in.readOptionalString();
  queryStringQueryBuilder.lenient=in.readOptionalBoolean();
  if (in.readBoolean()) {
    queryStringQueryBuilder.timeZone=DateTimeZone.forID(in.readString());
  }
  queryStringQueryBuilder.escape=in.readBoolean();
  queryStringQueryBuilder.maxDeterminizedStates=in.readVInt();
  return queryStringQueryBuilder;
}
