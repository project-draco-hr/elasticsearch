{
  values=new double[numHits];
  this.fieldName=fieldName;
  this.lat=lat;
  this.lon=lon;
  this.unit=unit;
  this.geoDistance=geoDistance;
  this.fieldDataCache=fieldDataCache;
  this.fixedSourceDistance=geoDistance.fixedSourceDistance(lat,lon,unit);
  FieldMapper mapper=mapperService.smartNameFieldMapper(fieldName);
  if (mapper == null) {
    throw new ElasticSearchIllegalArgumentException("No mapping found for field [" + fieldName + "] for geo distance sort");
  }
  if (mapper.fieldDataType() != GeoPointFieldDataType.TYPE) {
    throw new ElasticSearchIllegalArgumentException("field [" + fieldName + "] is not a geo_point field");
  }
  this.indexFieldName=mapper.names().indexName();
}
