{
  final int size=in.readVInt();
  suggestions=new ArrayList<>(size);
  for (int i=0; i < size; i++) {
    Suggestion<? extends Entry<? extends Option>> suggestion;
    final int type=in.readVInt();
switch (type) {
case TermSuggestion.TYPE:
      suggestion=new TermSuggestion();
    break;
case CompletionSuggestion.TYPE:
  suggestion=new CompletionSuggestion();
break;
case org.elasticsearch.search.suggest.completion2x.CompletionSuggestion.TYPE:
suggestion=new org.elasticsearch.search.suggest.completion2x.CompletionSuggestion();
break;
case PhraseSuggestion.TYPE:
suggestion=new PhraseSuggestion();
break;
default :
suggestion=new Suggestion();
break;
}
suggestion.readFrom(in);
suggestions.add(suggestion);
}
}
