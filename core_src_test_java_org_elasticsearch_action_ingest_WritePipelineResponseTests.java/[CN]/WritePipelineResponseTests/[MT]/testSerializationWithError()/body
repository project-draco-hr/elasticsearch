{
  PipelineFactoryError error=new PipelineFactoryError("error");
  WritePipelineResponse response=new WritePipelineResponse(error);
  BytesStreamOutput out=new BytesStreamOutput();
  response.writeTo(out);
  StreamInput streamInput=StreamInput.wrap(out.bytes());
  WritePipelineResponse otherResponse=new WritePipelineResponse();
  otherResponse.readFrom(streamInput);
  assertThat(otherResponse.getError().getReason(),equalTo(response.getError().getReason()));
  assertThat(otherResponse.getError().getProcessorType(),equalTo(response.getError().getProcessorType()));
  assertThat(otherResponse.getError().getProcessorTag(),equalTo(response.getError().getProcessorTag()));
  assertThat(otherResponse.getError().getProcessorPropertyName(),equalTo(response.getError().getProcessorPropertyName()));
}
