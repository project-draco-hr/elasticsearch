{
  boolean detailed=request.paramAsBoolean("detailed",false);
  String[] nodesIds=Strings.splitStringByCommaToArray(request.param("nodeId"));
  long taskId=request.paramAsLong("taskId",ListTasksRequest.ALL_TASKS);
  String[] actions=Strings.splitStringByCommaToArray(request.param("actions"));
  String parentNode=request.param("parent_node");
  long parentTaskId=request.paramAsLong("parent_task",ListTasksRequest.ALL_TASKS);
  ListTasksRequest listTasksRequest=new ListTasksRequest(nodesIds);
  listTasksRequest.taskId(taskId);
  listTasksRequest.detailed(detailed);
  listTasksRequest.actions(actions);
  listTasksRequest.parentNode(parentNode);
  listTasksRequest.parentTaskId(parentTaskId);
  client.admin().cluster().listTasks(listTasksRequest,new RestToXContentListener<>(channel));
}
