{
  XSimpleRateLimiter limiter=new XSimpleRateLimiter(10);
  limiter.pause(2);
  long pause=0;
  for (int i=0; i < 3; i++) {
    pause+=limiter.pause(4 * 1024 * 1024);
  }
  final long convert=TimeUnit.MILLISECONDS.convert(pause,TimeUnit.NANOSECONDS);
  assertThat(convert,lessThan(2000l));
  assertThat(convert,greaterThan(1000l));
}
