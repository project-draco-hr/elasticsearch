{
  PluginClassLoader space1=new PluginClassLoader(new URL[]{root},null);
  Properties props=System.getProperties();
  assertThat(props.getProperty(READ),is(""));
  props.setProperty(NAME,"one");
  Class<?> class1=Class.forName("org.elasticsearch.plugins.isolation.DummyClass",true,space1);
  assertThat(props.getProperty(READ),is("one"));
  String instance1=props.getProperty(INSTANCE);
  PluginClassLoader space2=new PluginClassLoader(new URL[]{root},null);
  props.setProperty(NAME,"two");
  Class<?> class2=Class.forName("org.elasticsearch.plugins.isolation.DummyClass",true,space2);
  assertThat(props.getProperty(READ),is("two"));
  String instance2=props.getProperty(INSTANCE);
  assertThat(instance1,not(instance2));
  assertNotSame(class1,class2);
}
