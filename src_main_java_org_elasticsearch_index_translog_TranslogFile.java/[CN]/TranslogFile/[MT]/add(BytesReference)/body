{
  try (ReleasableLock lock=writeLock.acquire()){
    long position=writtenOffset;
    data.writeTo(channelReference.channel());
    writtenOffset=writtenOffset + data.length();
    operationCounter=operationCounter + 1;
    return new Translog.Location(id,position,data.length());
  }
 }
