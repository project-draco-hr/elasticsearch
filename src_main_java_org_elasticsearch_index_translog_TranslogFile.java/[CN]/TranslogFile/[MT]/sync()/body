{
  if (syncNeeded()) {
    try (ReleasableLock lock=writeLock.acquire()){
      lastSyncedOffset=writtenOffset;
      channelReference.channel().force(false);
    }
   }
}
