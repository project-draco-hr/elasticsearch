{
  super(id,channelReference);
  this.shardId=shardId;
  ReadWriteLock rwl=new ReentrantReadWriteLock();
  readLock=new ReleasableLock(rwl.readLock());
  writeLock=new ReleasableLock(rwl.writeLock());
  final TranslogStream stream=this.channelReference.stream();
  int headerSize=stream.writeHeader(channelReference.channel());
  this.writtenOffset+=headerSize;
  this.lastSyncedOffset+=headerSize;
}
