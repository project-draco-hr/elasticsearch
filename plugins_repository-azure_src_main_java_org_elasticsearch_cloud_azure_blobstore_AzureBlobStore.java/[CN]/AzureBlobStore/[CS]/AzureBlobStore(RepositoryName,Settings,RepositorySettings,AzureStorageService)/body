{
  super(settings);
  this.client=client.start();
  this.container=repositorySettings.settings().get("container",settings.get(CONTAINER,CONTAINER_DEFAULT));
  this.repositoryName=name.getName();
  this.accountName=repositorySettings.settings().get(Repository.ACCOUNT,null);
  String modeStr=repositorySettings.settings().get(Repository.LOCATION_MODE,null);
  if (modeStr == null) {
    this.locMode=LocationMode.PRIMARY_ONLY;
  }
 else {
    this.locMode=LocationMode.valueOf(modeStr.toUpperCase(Locale.ROOT));
  }
}
