{
  super(settings);
  this.client=client.start();
  this.container=getValue(repositorySettings,Repository.CONTAINER_SETTING,Storage.CONTAINER_SETTING);
  this.repositoryName=name.getName();
  this.accountName=getValue(repositorySettings,Repository.ACCOUNT_SETTING,Storage.ACCOUNT_SETTING);
  String modeStr=getValue(repositorySettings,Repository.LOCATION_MODE_SETTING,Storage.LOCATION_MODE_SETTING);
  if (Strings.hasLength(modeStr)) {
    this.locMode=LocationMode.valueOf(modeStr.toUpperCase(Locale.ROOT));
  }
 else {
    this.locMode=LocationMode.PRIMARY_ONLY;
  }
}
