{
  out.writeString(indexMetaData.index());
  out.writeLong(indexMetaData.version());
  out.writeByte(indexMetaData.state().id());
  writeSettingsToStream(indexMetaData.settings(),out);
  out.writeVInt(indexMetaData.mappings().size());
  for (  ObjectCursor<MappingMetaData> cursor : indexMetaData.mappings().values()) {
    MappingMetaData.writeTo(cursor.value,out);
  }
  out.writeVInt(indexMetaData.aliases().size());
  for (  ObjectCursor<AliasMetaData> cursor : indexMetaData.aliases().values()) {
    AliasMetaData.Builder.writeTo(cursor.value,out);
  }
  out.writeVInt(indexMetaData.customs().size());
  for (  ObjectObjectCursor<String,Custom> cursor : indexMetaData.customs()) {
    out.writeString(cursor.key);
    lookupFactorySafe(cursor.key).writeTo(cursor.value,out);
  }
}
