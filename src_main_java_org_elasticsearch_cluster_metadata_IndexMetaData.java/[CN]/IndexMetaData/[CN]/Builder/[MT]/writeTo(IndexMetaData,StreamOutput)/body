{
  out.writeUTF(indexMetaData.index());
  out.writeLong(indexMetaData.version());
  out.writeByte(indexMetaData.state().id());
  writeSettingsToStream(indexMetaData.settings(),out);
  out.writeVInt(indexMetaData.mappings().size());
  for (  MappingMetaData mappingMd : indexMetaData.mappings().values()) {
    MappingMetaData.writeTo(mappingMd,out);
  }
  out.writeVInt(indexMetaData.aliases().size());
  for (  AliasMetaData aliasMd : indexMetaData.aliases().values()) {
    AliasMetaData.Builder.writeTo(aliasMd,out);
  }
  out.writeVInt(indexMetaData.customs().size());
  for (  Map.Entry<String,Custom> entry : indexMetaData.customs().entrySet()) {
    out.writeUTF(entry.getKey());
    lookupFactorySafe(entry.getKey()).writeTo(entry.getValue(),out);
  }
}
