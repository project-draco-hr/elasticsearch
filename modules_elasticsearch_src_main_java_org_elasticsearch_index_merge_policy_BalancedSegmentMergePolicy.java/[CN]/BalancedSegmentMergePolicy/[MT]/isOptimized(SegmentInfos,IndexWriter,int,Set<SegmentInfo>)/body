{
  final int numSegments=infos.size();
  int numToOptimize=0;
  SegmentInfo optimizeInfo=null;
  for (int i=0; i < numSegments && numToOptimize <= maxNumSegments; i++) {
    final SegmentInfo info=infos.info(i);
    if (segmentsToOptimize.contains(info)) {
      numToOptimize++;
      optimizeInfo=info;
    }
  }
  return numToOptimize <= maxNumSegments && (numToOptimize != 1 || isOptimized(writer,optimizeInfo));
}
