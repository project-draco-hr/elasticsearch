{
  Objects.requireNonNull(source,"Source array was null.");
  Objects.requireNonNull(destination,"Destination array was null.");
  if (srcOffset < 0 || srcOffset + 3 >= source.length) {
    throw new IllegalArgumentException(String.format(Locale.ROOT,"Source array with length %d cannot have offset of %d and still process four bytes.",source.length,srcOffset));
  }
  if (destOffset < 0 || destOffset + 2 >= destination.length) {
    throw new IllegalArgumentException(String.format(Locale.ROOT,"Destination array with length %d cannot have offset of %d and still store three bytes.",destination.length,destOffset));
  }
  byte[] DECODABET=getDecodabet(options);
  int outBuff=((DECODABET[source[srcOffset]] & 0xFF) << 18) | ((DECODABET[source[srcOffset + 1]] & 0xFF) << 12);
  destination[destOffset]=(byte)(outBuff >>> 16);
  if (source[srcOffset + 2] == EQUALS_SIGN) {
    return 1;
  }
  outBuff|=((DECODABET[source[srcOffset + 2]] & 0xFF) << 6);
  destination[destOffset + 1]=(byte)(outBuff >>> 8);
  if (source[srcOffset + 3] == EQUALS_SIGN) {
    return 2;
  }
  outBuff|=((DECODABET[source[srcOffset + 3]] & 0xFF));
  destination[destOffset + 2]=(byte)(outBuff);
  return 3;
}
