{
  IndexMetaData indexMetaData=allocation.metaData().index(shard.getIndex());
  long delay=shard.unassignedInfo().updateDelay(timeNowNanos,settings,indexMetaData.getSettings());
  if (delay > 0) {
    logger.debug("[{}][{}]: delaying allocation of [{}] for [{}]",shard.index(),shard.id(),shard,TimeValue.timeValueMillis(delay));
    unassignedIterator.removeAndIgnore();
    return true;
  }
  return false;
}
