{
  SortedSet<String> expectedVersions=new TreeSet<>();
  for (  java.lang.reflect.Field field : Version.class.getDeclaredFields()) {
    if (Modifier.isStatic(field.getModifiers()) && field.getType() == Version.class) {
      Version v=(Version)field.get(Version.class);
      if (v.snapshot()) {
        continue;
      }
      if (v.onOrBefore(Version.V_0_20_6)) {
        continue;
      }
      if (v.equals(Version.CURRENT)) {
        continue;
      }
      expectedVersions.add("index-" + v.toString() + ".zip");
    }
  }
  for (  String index : indexes) {
    if (expectedVersions.remove(index) == false) {
      logger.warn("Old indexes tests contain extra index: " + index);
    }
  }
  if (expectedVersions.isEmpty() == false) {
    StringBuilder msg=new StringBuilder("Old index tests are missing indexes:");
    for (    String expected : expectedVersions) {
      msg.append("\n" + expected);
    }
    fail(msg.toString());
  }
}
