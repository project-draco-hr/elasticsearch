{
  Version version=extractVersion(index);
  String indexName=loadIndex(index);
  assertIndexSanity(indexName);
  assertBasicSearchWorks(indexName);
  assertBasicAggregationWorks(indexName);
  assertRealtimeGetWorks(indexName);
  if (version.equals(Version.V_0_90_13) == false) {
    assertNewReplicasWork(indexName);
  }
  assertUpgradeWorks(indexName,isLatestLuceneVersion(version));
  assertDeleteByQueryWorked(indexName,version);
  unloadIndex(indexName);
}
