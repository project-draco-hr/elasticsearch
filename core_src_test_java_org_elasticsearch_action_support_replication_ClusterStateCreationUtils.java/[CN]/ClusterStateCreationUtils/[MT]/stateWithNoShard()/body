{
  int numberOfNodes=2;
  DiscoveryNodes.Builder discoBuilder=DiscoveryNodes.builder();
  discoBuilder.localNodeId(newNode(0).id());
  discoBuilder.masterNodeId(newNode(1).id());
  ClusterState.Builder state=ClusterState.builder(new ClusterName("test"));
  state.nodes(discoBuilder);
  state.metaData(MetaData.builder().generateClusterUuidIfNeeded());
  state.routingTable(RoutingTable.builder().build());
  return state.build();
}
