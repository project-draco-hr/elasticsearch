{
  int precision=HyperLogLogPlusPlus.DEFAULT_PRECISION;
  while (parent != null) {
    if (parent.bucketAggregationMode() == BucketAggregationMode.PER_BUCKET) {
      precision-=5;
    }
    parent=parent.parent();
  }
  return Math.max(precision,HyperLogLogPlusPlus.MIN_PRECISION);
}
