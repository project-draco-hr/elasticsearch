{
  Rounding tzRounding=TimeZoneRounding.builder(TimeValue.timeValueHours(12)).timeZone(DateTimeZone.forOffsetHours(-8)).build();
  assertThat(tzRounding.round(utc("2009-02-03T00:01:01")),equalTo(utc("2009-02-02T20:00:00.000Z")));
  long roundKey=tzRounding.roundKey(utc("2009-02-03T00:01:01"));
  assertThat(roundKey,equalTo(tzRounding.roundKey(utc("2009-02-02T20:00:00.000Z"))));
  assertThat(tzRounding.valueForKey(roundKey),equalTo(utc("2009-02-02T20:00:00.000Z")));
  assertThat(tzRounding.nextRoundingValue(utc("2009-02-02T20:00:00.000Z")),equalTo(utc("2009-02-03T08:00:00.000Z")));
  assertThat(tzRounding.round(utc("2009-02-03T13:01:01")),equalTo(utc("2009-02-03T08:00:00.000Z")));
  assertThat(tzRounding.nextRoundingValue(utc("2009-02-03T08:00:00.000Z")),equalTo(utc("2009-02-03T20:00:00.000Z")));
}
