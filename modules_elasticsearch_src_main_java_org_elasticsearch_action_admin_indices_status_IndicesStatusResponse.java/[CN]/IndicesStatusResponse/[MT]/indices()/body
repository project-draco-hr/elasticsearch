{
  if (indicesStatus != null) {
    return indicesStatus;
  }
  Map<String,IndexStatus> indicesStatus=newHashMap();
  Set<String> indices=Sets.newHashSet();
  for (  ShardStatus shard : shards) {
    indices.add(shard.index());
  }
  for (  String index : indices) {
    List<ShardStatus> shards=newArrayList();
    for (    ShardStatus shard : this.shards) {
      if (shard.shardRouting().index().equals(index)) {
        shards.add(shard);
      }
    }
    indicesStatus.put(index,new IndexStatus(index,shards.toArray(new ShardStatus[shards.size()])));
  }
  this.indicesStatus=indicesStatus;
  return indicesStatus;
}
