{
  super(successfulShards,failedShards);
  this.shards=shards;
  indicesSettings=newHashMap();
  for (  ShardStatus shard : shards) {
    if (!indicesSettings.containsKey(shard.shardRouting().index())) {
      indicesSettings.put(shard.shardRouting().index(),clusterState.metaData().index(shard.shardRouting().index()).settings());
    }
  }
}
