{
  super(facetName);
  this.fieldName=fieldName;
  this.interval=interval;
  this.comparatorType=comparatorType;
  this.fieldDataCache=fieldDataCache;
  FieldMapper mapper=mapperService.smartNameFieldMapper(fieldName);
  if (mapper == null) {
    throw new FacetPhaseExecutionException(facetName,"No mapping found for field [" + fieldName + "]");
  }
  indexFieldName=mapper.names().indexName();
  fieldDataType=mapper.fieldDataType();
  histoProc=new HistogramProc(interval);
}
