{
  byte[] data=ByteStreams.toByteArray(stream);
  try (XContentParser parser=XContentHelper.createParser(new BytesArray(data))){
    parser.nextToken();
    return BlobStoreIndexShardSnapshot.fromXContent(parser);
  }
 }
