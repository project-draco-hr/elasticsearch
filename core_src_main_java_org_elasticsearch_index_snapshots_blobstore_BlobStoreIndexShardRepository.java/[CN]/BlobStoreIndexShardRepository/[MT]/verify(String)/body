{
  BlobContainer testBlobContainer=blobStore.blobContainer(basePath);
  DiscoveryNode localNode=clusterService.localNode();
  if (testBlobContainer.blobExists(testBlobPrefix(seed) + "-master")) {
    try (OutputStream outputStream=testBlobContainer.createOutput(testBlobPrefix(seed) + "-" + localNode.getId())){
      outputStream.write(Strings.toUTF8Bytes(seed));
    }
 catch (    IOException exp) {
      throw new RepositoryVerificationException(repositoryName,"store location [" + blobStore + "] is not accessible on the node ["+ localNode+ "]",exp);
    }
  }
 else {
    throw new RepositoryVerificationException(repositoryName,"a file written by master to the store [" + blobStore + "] cannot be accessed on the node ["+ localNode+ "]. "+ "This might indicate that the store ["+ blobStore+ "] is not shared between this node and the master node or "+ "that permissions on the store don't allow reading files written by the master node");
  }
}
