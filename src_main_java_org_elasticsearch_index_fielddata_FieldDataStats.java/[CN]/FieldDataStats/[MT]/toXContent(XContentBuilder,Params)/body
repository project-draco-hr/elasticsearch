{
  builder.startObject(Fields.FIELDDATA);
  builder.byteSizeField(Fields.MEMORY_SIZE_IN_BYTES,Fields.MEMORY_SIZE,memorySize);
  builder.field(Fields.EVICTIONS,getEvictions());
  if (fields != null) {
    builder.startObject(Fields.FIELDS);
    final boolean[] states=fields.allocated;
    final Object[] keys=fields.keys;
    final long[] values=fields.values;
    for (int i=0; i < states.length; i++) {
      if (states[i]) {
        builder.startObject((String)keys[i],XContentBuilder.FieldCaseConversion.NONE);
        builder.byteSizeField(Fields.MEMORY_SIZE_IN_BYTES,Fields.MEMORY_SIZE,values[i]);
        builder.endObject();
      }
    }
    builder.endObject();
  }
  builder.endObject();
  return builder;
}
