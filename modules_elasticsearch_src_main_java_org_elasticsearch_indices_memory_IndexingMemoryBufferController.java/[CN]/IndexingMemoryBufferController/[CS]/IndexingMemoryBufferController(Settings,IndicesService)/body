{
  super(settings);
  this.indicesService=indicesService;
  String indexingBuffer=componentSettings.get("index_buffer_size","40%");
  if (indexingBuffer.endsWith("%")) {
    double percent=Double.parseDouble(indexingBuffer.substring(0,indexingBuffer.length() - 1));
    this.indexingBuffer=new ByteSizeValue((long)(((double)JvmInfo.jvmInfo().mem().heapMax().bytes()) * (percent / 100)));
  }
 else {
    this.indexingBuffer=ByteSizeValue.parseBytesSizeValue(indexingBuffer,null);
  }
  indicesService.indicesLifecycle().addListener(listener);
}
