{
  String scrollId=request.param("scroll_id");
  if (scrollId == null) {
    scrollId=RestActions.getRestContent(request).toUtf8();
  }
  SearchScrollRequest searchScrollRequest=new SearchScrollRequest(scrollId);
  searchScrollRequest.listenerThreaded(false);
  String scroll=request.param("scroll");
  if (scroll != null) {
    searchScrollRequest.scroll(new Scroll(parseTimeValue(scroll,null)));
  }
  SearchOperationThreading operationThreading=SearchOperationThreading.fromString(request.param("operation_threading"),null);
  if (operationThreading != null) {
    if (operationThreading == SearchOperationThreading.NO_THREADS) {
      operationThreading=SearchOperationThreading.SINGLE_THREAD;
    }
    searchScrollRequest.operationThreading(operationThreading);
  }
  client.searchScroll(searchScrollRequest,new RestToXContentListener<SearchResponse>(channel));
}
