{
  HandlesStreamOutput stream=CachedStreamOutput.cachedHandles();
  stream.writeLong(requestId);
  byte status=0;
  status=Transport.Helper.setResponse(status);
  stream.writeByte(status);
  message.writeTo(stream);
  final byte[] data=((BytesStreamOutput)stream.wrappedOut()).copiedByteArray();
  targetTransport.threadPool().execute(new Runnable(){
    @Override public void run(){
      targetTransport.messageReceived(data,action,sourceTransport,null);
    }
  }
);
}
