{
  StreamInput nonChecksummingIn=new BytesStreamInput(data,false);
  BufferedChecksumStreamInput in;
  Translog.Source source;
  try {
    nonChecksummingIn.readInt();
    in=new BufferedChecksumStreamInput(nonChecksummingIn);
    Translog.Operation.Type type=Translog.Operation.Type.fromId(in.readByte());
    Translog.Operation operation=TranslogStreams.newOperationFromType(type);
    source=operation.readSource(in);
  }
 catch (  AssertionError|Exception e) {
    throw new TranslogCorruptedException("translog corruption while reading from byte array",e);
  }
  verifyChecksum(in);
  return source;
}
