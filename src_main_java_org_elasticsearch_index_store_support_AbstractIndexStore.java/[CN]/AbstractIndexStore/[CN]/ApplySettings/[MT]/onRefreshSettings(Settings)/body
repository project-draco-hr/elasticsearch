{
  String rateLimitingType=settings.get(INDEX_STORE_THROTTLE_TYPE,AbstractIndexStore.this.rateLimitingType);
  if (!rateLimitingType.equals(AbstractIndexStore.this.rateLimitingType)) {
    logger.info("updating index.store.throttle.type from [{}] to [{}]",AbstractIndexStore.this.rateLimitingType,rateLimitingType);
    if (rateLimitingType.equalsIgnoreCase("node")) {
      AbstractIndexStore.this.rateLimitingType=rateLimitingType;
      AbstractIndexStore.this.nodeRateLimiting=true;
    }
 else {
      StoreRateLimiting.Type.fromString(rateLimitingType);
      AbstractIndexStore.this.rateLimitingType=rateLimitingType;
      AbstractIndexStore.this.nodeRateLimiting=false;
      AbstractIndexStore.this.rateLimiting.setType(rateLimitingType);
    }
  }
  ByteSizeValue rateLimitingThrottle=settings.getAsBytesSize(INDEX_STORE_THROTTLE_MAX_BYTES_PER_SEC,AbstractIndexStore.this.rateLimitingThrottle);
  if (!rateLimitingThrottle.equals(AbstractIndexStore.this.rateLimitingThrottle)) {
    logger.info("updating index.store.throttle.max_bytes_per_sec from [{}] to [{}], note, type is [{}]",AbstractIndexStore.this.rateLimitingThrottle,rateLimitingThrottle,AbstractIndexStore.this.rateLimitingType);
    AbstractIndexStore.this.rateLimitingThrottle=rateLimitingThrottle;
    AbstractIndexStore.this.rateLimiting.setMaxRate(rateLimitingThrottle);
  }
}
