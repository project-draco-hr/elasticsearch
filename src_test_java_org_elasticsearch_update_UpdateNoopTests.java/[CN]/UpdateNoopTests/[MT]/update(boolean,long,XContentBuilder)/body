{
  UpdateResponse updateResponse=client().prepareUpdate("test","type1","1").setDoc(xContentBuilder.bytes().toUtf8()).setDocAsUpsert(true).setDetectNoop(detectNoop).setFields("_source").execute().actionGet();
  assertThat(updateResponse.getGetResult(),notNullValue());
  assertEquals(expectedVersion,updateResponse.getVersion());
  return updateResponse;
}
