{
  super(settings,client);
  this.queryRegistry=queryRegistry;
  controller.registerHandler(GET,"/_search",this);
  controller.registerHandler(POST,"/_search",this);
  controller.registerHandler(GET,"/{index}/_search",this);
  controller.registerHandler(POST,"/{index}/_search",this);
  controller.registerHandler(GET,"/{index}/{type}/_search",this);
  controller.registerHandler(POST,"/{index}/{type}/_search",this);
  controller.registerHandler(GET,"/_search/template",this);
  controller.registerHandler(POST,"/_search/template",this);
  controller.registerHandler(GET,"/{index}/_search/template",this);
  controller.registerHandler(POST,"/{index}/_search/template",this);
  controller.registerHandler(GET,"/{index}/{type}/_search/template",this);
  controller.registerHandler(POST,"/{index}/{type}/_search/template",this);
}
