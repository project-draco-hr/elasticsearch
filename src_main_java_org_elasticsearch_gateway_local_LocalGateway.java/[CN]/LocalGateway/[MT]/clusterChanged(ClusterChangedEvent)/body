{
  if (event.state().blocks().disableStatePersistence()) {
    return;
  }
  if (event.state().nodes().localNode().masterNode() && (event.metaDataChanged() || !metaDataPersistedAtLeastOnce)) {
    executor.execute(new LoggingRunnable(logger,new PersistMetaData(event)));
  }
  shardsState.clusterChanged(event);
}
