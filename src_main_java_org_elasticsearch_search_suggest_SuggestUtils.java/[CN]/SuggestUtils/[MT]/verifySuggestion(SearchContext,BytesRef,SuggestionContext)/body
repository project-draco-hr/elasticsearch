{
  if (suggestion.getField() == null) {
    throw new ElasticSearchIllegalArgumentException("The required field option is missing");
  }
  if (suggestion.getText() == null) {
    if (globalText == null) {
      throw new ElasticSearchIllegalArgumentException("The required text option is missing");
    }
    suggestion.setText(globalText);
  }
  if (suggestion.getAnalyzer() == null) {
    suggestion.setAnalyzer(context.mapperService().searchAnalyzer());
  }
}
