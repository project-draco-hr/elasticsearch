{
  DirectSpellChecker directSpellChecker=new DirectSpellChecker();
  directSpellChecker.setAccuracy(suggestion.accuracy());
  Comparator<SuggestWord> comparator;
switch (suggestion.sort()) {
case SCORE:
    comparator=SCORE_COMPARATOR;
  break;
case FREQUENCY:
comparator=LUCENE_FREQUENCY;
break;
default :
throw new ElasticSearchIllegalArgumentException("Illegal suggest sort: " + suggestion.sort());
}
directSpellChecker.setComparator(comparator);
directSpellChecker.setDistance(suggestion.stringDistance());
directSpellChecker.setMaxEdits(suggestion.maxEdits());
directSpellChecker.setMaxInspections(suggestion.maxInspections());
directSpellChecker.setMaxQueryFrequency(suggestion.maxTermFreq());
directSpellChecker.setMinPrefix(suggestion.prefixLength());
directSpellChecker.setMinQueryLength(suggestion.minWordLength());
directSpellChecker.setThresholdFrequency(suggestion.minDocFreq());
directSpellChecker.setLowerCaseTerms(false);
return directSpellChecker;
}
