{
  out.writeVInt(from);
  out.writeVInt(size);
  writeTopDocs(out,topDocs);
  if (aggregations == null) {
    out.writeBoolean(false);
  }
 else {
    out.writeBoolean(true);
    aggregations.writeTo(out);
  }
  if (reducers == null) {
    out.writeBoolean(false);
  }
 else {
    out.writeBoolean(true);
    out.writeVInt(reducers.size());
    for (    Reducer reducer : reducers) {
      out.writeBytesReference(reducer.type().stream());
      reducer.writeTo(out);
    }
  }
  if (suggest == null) {
    out.writeBoolean(false);
  }
 else {
    out.writeBoolean(true);
    suggest.writeTo(out);
  }
  out.writeBoolean(searchTimedOut);
  out.writeOptionalBoolean(terminatedEarly);
}
