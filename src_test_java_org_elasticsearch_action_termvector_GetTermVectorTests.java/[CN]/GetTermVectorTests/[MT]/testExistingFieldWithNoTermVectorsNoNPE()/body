{
  XContentBuilder mapping=XContentFactory.jsonBuilder().startObject().startObject("type1").startObject("properties").startObject("existingfield").field("type","string").field("term_vector","with_positions_offsets_payloads").endObject().endObject().endObject().endObject();
  assertAcked(prepareCreate("test").addAlias(new Alias("alias")).addMapping("type1",mapping));
  ensureYellow();
  client().prepareIndex("test","type1","0").setSource("existingfield","?").execute().actionGet();
  refresh();
  ActionFuture<TermVectorResponse> termVector=client().termVector(new TermVectorRequest(indexOrAlias(),"type1","0").selectedFields(new String[]{"existingfield"}));
  TermVectorResponse actionGet=termVector.actionGet();
  assertThat(actionGet,notNullValue());
  assertThat(actionGet.isExists(),equalTo(true));
  assertThat(actionGet.getIndex(),equalTo("test"));
  assertThat(actionGet.getFields().terms("existingfield"),nullValue());
}
