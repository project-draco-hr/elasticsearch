{
  EvictingQueue<Double> window=EvictingQueue.create(windowSize);
  singleExpMovAvgCounts=new Double[numValueBuckets];
  for (int i=0; i < numValueBuckets; i++) {
    double thisValue=docCounts[i];
    if (thisValue == -1) {
      thisValue=0;
    }
    window.offer(thisValue);
    double avg=0;
    double alpha=0.5;
    boolean first=true;
    for (    double value : window) {
      if (first) {
        avg=value;
        first=false;
      }
 else {
        avg=(value * alpha) + (avg * (1 - alpha));
      }
    }
    singleExpMovAvgCounts[i]=avg;
  }
  singleExpMovAvgValueCounts=new Double[numValueBuckets];
  window.clear();
  for (int i=0; i < numValueBuckets; i++) {
    window.offer((double)docCounts[i]);
    double avg=0;
    double alpha=0.5;
    boolean first=true;
    for (    double value : window) {
      if (first) {
        avg=value;
        first=false;
      }
 else {
        avg=(value * alpha) + (avg * (1 - alpha));
      }
    }
    singleExpMovAvgCounts[i]=avg;
  }
}
