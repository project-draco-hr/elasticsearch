{
  for (  final IndexMetaData indexMetaData : event.state().metaData()) {
    if (!indicesService.hasIndex(indexMetaData.index())) {
      if (logger.isDebugEnabled()) {
        logger.debug("Index [{}]: Creating",indexMetaData.index());
      }
      indicesService.createIndex(indexMetaData.index(),indexMetaData.settings(),event.state().nodes().localNode().id());
      threadPool.execute(new Runnable(){
        @Override public void run(){
          nodeIndexCreatedAction.nodeIndexCreated(indexMetaData.index(),event.state().nodes().localNodeId());
        }
      }
);
    }
  }
}
