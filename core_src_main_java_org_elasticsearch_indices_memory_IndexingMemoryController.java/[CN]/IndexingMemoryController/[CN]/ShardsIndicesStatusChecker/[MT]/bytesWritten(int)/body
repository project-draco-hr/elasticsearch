{
  long totalBytes=bytesWrittenSinceCheck.addAndGet(bytes);
  if (totalBytes > indexingBuffer.bytes() / 30) {
    if (runLock.tryLock()) {
      try {
        bytesWrittenSinceCheck.addAndGet(-totalBytes);
        run();
      }
  finally {
        runLock.unlock();
      }
    }
  }
}
