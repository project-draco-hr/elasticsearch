{
  EnumSet<ShardStatusChangeType> changes=purgeDeletedAndClosedShards();
  final int activeShardCount=updateShardStatuses(changes);
  if (changes.isEmpty() == false) {
    calcAndSetShardBuffers(activeShardCount,"[" + changes + "]");
  }
}
