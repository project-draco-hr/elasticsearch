{
  try (ReleasableLock lock=writeLock.acquire()){
    long position=lastPosition;
    data.writeTo(channelReference.channel());
    lastPosition=lastPosition + data.length();
    lastWrittenPosition=lastWrittenPosition + data.length();
    operationCounter=operationCounter + 1;
    return new Translog.Location(id,position,data.length());
  }
 }
