{
  super(settings);
  String allowRebalance=settings.get("cluster.routing.allocation.allow_rebalance","indices_all_active");
  if ("always".equalsIgnoreCase(allowRebalance)) {
    type=ClusterRebalanceType.ALWAYS;
  }
 else   if ("indices_primaries_active".equalsIgnoreCase(allowRebalance) || "indicesPrimariesActive".equalsIgnoreCase(allowRebalance)) {
    type=ClusterRebalanceType.INDICES_PRIMARIES_ACTIVE;
  }
 else   if ("indices_all_active".equalsIgnoreCase(allowRebalance) || "indicesAllActive".equalsIgnoreCase(allowRebalance)) {
    type=ClusterRebalanceType.INDICES_ALL_ACTIVE;
  }
 else {
    logger.warn("[cluster.routing.allocation.allow_rebalance] has a wrong value {}, defaulting to 'indices_all_active'",allowRebalance);
    type=ClusterRebalanceType.INDICES_ALL_ACTIVE;
  }
  logger.debug("using [allow_rebalance] with [{}]",type.toString().toLowerCase());
}
