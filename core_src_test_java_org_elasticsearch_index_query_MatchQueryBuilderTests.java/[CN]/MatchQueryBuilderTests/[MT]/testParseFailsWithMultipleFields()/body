{
  String json="{\n" + "  \"match\" : {\n" + "    \"message1\" : {\n"+ "      \"query\" : \"this is a test\"\n"+ "    },\n"+ "    \"message2\" : {\n"+ "      \"query\" : \"this is a test\"\n"+ "    }\n"+ "  }\n"+ "}";
  try {
    parseQuery(json);
    fail("parseQuery should have failed");
  }
 catch (  ParsingException e) {
    assertEquals("[match] query doesn't support multiple fields, found [message1] and [message2]",e.getMessage());
  }
}
