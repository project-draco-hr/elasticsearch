{
  client().prepareIndex("test","doc","1").setSource("text","this is not a number").setRefresh(true).get();
  try {
    runScript("doc['text'].value");
    fail("Expected text field to cause execution failure");
  }
 catch (  SearchPhaseExecutionException e) {
    assertThat(ExceptionsHelper.detailedMessage(e) + "should have contained ExpressionScriptCompilationException",ExceptionsHelper.detailedMessage(e).contains("ExpressionScriptCompilationException"),equalTo(true));
    assertThat(ExceptionsHelper.detailedMessage(e) + "should have contained non-numeric field error",ExceptionsHelper.detailedMessage(e).contains("must be numeric"),equalTo(true));
  }
}
