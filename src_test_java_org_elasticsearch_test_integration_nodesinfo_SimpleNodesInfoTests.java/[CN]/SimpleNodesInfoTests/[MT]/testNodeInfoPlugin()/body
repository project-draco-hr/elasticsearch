{
  String server1NodeId=startNodeWithPlugins("node1");
  String server2NodeId=startNodeWithPlugins("node2");
  String server3NodeId=startNodeWithPlugins("node3");
  String server4NodeId=startNodeWithPlugins("node4");
  ClusterHealthResponse clusterHealth=client("node4").admin().cluster().health(clusterHealthRequest().waitForGreenStatus()).actionGet();
  logger.info("--> done cluster_health, status " + clusterHealth.getStatus());
  NodesInfoResponse response=client("node1").admin().cluster().prepareNodesInfo().setPlugin(true).execute().actionGet();
  logger.info("--> full json answer, status " + response.toString());
  checkPlugin(response,server1NodeId,0,0);
  checkPlugin(response,server2NodeId,1,0);
  checkPlugin(response,server3NodeId,0,1);
  checkPlugin(response,server4NodeId,1,2);
}
