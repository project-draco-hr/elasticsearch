{
  if (buffer.readableBytes() < 4) {
    return null;
  }
  int dataLen=buffer.getInt(buffer.readerIndex());
  if (dataLen <= 0) {
    throw new StreamCorruptedException("invalid data length: " + dataLen);
  }
  if (dataLen > NINETY_PER_HEAP_SIZE) {
    throw new TooLongFrameException("transport content length received [" + new ByteSizeValue(dataLen) + "] exceeded ["+ new ByteSizeValue(NINETY_PER_HEAP_SIZE)+ "]");
  }
  if (buffer.readableBytes() < dataLen + 4) {
    return null;
  }
  buffer.skipBytes(4);
  return buffer;
}
