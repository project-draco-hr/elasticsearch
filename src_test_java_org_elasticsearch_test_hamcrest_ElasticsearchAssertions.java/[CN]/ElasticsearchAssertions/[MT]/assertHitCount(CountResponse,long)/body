{
  assertThat(countResponse.getCount(),is(expectedHitCount));
  if (countResponse.getCount() != expectedHitCount) {
    String msg="Count is " + countResponse.getCount() + " but "+ expectedHitCount+ " was expected. "+ countResponse.getFailedShards()+ " shard failures:";
    for (    ShardOperationFailedException failure : countResponse.getShardFailures()) {
      msg+="\n " + failure.toString();
    }
    fail(msg);
  }
}
