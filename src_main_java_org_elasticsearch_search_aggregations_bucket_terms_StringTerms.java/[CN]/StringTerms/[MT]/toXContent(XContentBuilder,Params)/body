{
  builder.startObject(name);
  builder.startArray(CommonFields.BUCKETS);
  for (  InternalTerms.Bucket bucket : buckets) {
    builder.startObject();
    builder.field(CommonFields.KEY,((Bucket)bucket).termBytes);
    builder.field(CommonFields.DOC_COUNT,bucket.getDocCount());
    ((InternalAggregations)bucket.getAggregations()).toXContentInternal(builder,params);
    builder.endObject();
  }
  builder.endArray();
  builder.endObject();
  return builder;
}
