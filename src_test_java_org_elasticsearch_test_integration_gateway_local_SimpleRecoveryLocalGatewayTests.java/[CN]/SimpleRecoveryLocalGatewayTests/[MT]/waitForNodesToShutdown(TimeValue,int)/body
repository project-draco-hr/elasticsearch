{
  long start=System.currentTimeMillis();
  WAIT_FOR_CLOSING:   while ((System.currentTimeMillis() - start) < timeout.millis()) {
    Thread.sleep(100);
    for (int i=1; i < numberOfNodes + 1; i++) {
      if (!node("node" + i).isClosed())       continue WAIT_FOR_CLOSING;
    }
    return true;
  }
  return false;
}
