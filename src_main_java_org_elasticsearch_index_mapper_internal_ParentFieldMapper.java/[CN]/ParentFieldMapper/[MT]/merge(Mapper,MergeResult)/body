{
  ParentFieldMapper other=(ParentFieldMapper)mergeWith;
  if (!Objects.equal(type,other.type)) {
    mergeResult.addConflict("The _parent field's type option can't be changed: [" + type + "]->["+ other.type+ "]");
  }
  if (!mergeResult.simulate()) {
    ParentFieldMapper fieldMergeWith=(ParentFieldMapper)mergeWith;
    this.fieldType=this.fieldType.clone();
    if (fieldMergeWith.customFieldDataSettings != null) {
      if (!Objects.equal(fieldMergeWith.customFieldDataSettings,this.customFieldDataSettings)) {
        this.customFieldDataSettings=fieldMergeWith.customFieldDataSettings;
        this.fieldType.setFieldDataType(new FieldDataType(defaultFieldDataType().getType(),builder().put(defaultFieldDataType().getSettings()).put(this.customFieldDataSettings)));
      }
    }
    this.fieldType.freeze();
  }
}
