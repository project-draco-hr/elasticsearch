{
  super(shardId,indexSettings);
  this.indexSettingsService=indexSettingsService;
  this.bigArrays=bigArrays;
  this.locations=indexStore.shardTranslogLocations(shardId);
  for (  Path location : locations) {
    Files.createDirectories(location);
  }
  this.type=FsTranslogFile.Type.fromString(indexSettings.get("index.translog.fs.type",FsTranslogFile.Type.BUFFERED.name()));
  this.bufferSize=(int)indexSettings.getAsBytesSize("index.translog.fs.buffer_size",ByteSizeValue.parseBytesSizeValue("64k")).bytes();
  this.transientBufferSize=(int)indexSettings.getAsBytesSize("index.translog.fs.transient_buffer_size",ByteSizeValue.parseBytesSizeValue("8k")).bytes();
  indexSettingsService.addListener(applySettings);
}
