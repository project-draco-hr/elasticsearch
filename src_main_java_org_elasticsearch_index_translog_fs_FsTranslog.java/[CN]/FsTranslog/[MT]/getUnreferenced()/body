{
  if (ChannelReference.openedFiles == null) {
    return Strings.EMPTY_ARRAY;
  }
  ArrayList<String> result=new ArrayList<>();
  try (ReleasableLock lock=writeLock.acquire()){
    try (DirectoryStream<Path> stream=Files.newDirectoryStream(location,TRANSLOG_FILE_PREFIX + "[0-9]*")){
      for (      Path file : stream) {
        final long id=parseIdFromFileName(file);
        if (id < 0) {
          logger.trace("failed to extract translog id from [{}]",file);
        }
 else         if (ChannelReference.openedFiles.containsKey(file.toString()) == false) {
          result.add(file.toString());
        }
      }
    }
   }
   return result.toArray(Strings.EMPTY_ARRAY);
}
