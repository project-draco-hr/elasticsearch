{
  if (ChannelReference.openedFiles == null) {
    return;
  }
  RuntimeException exampleAllocator=null;
  ArrayList<String> files=new ArrayList<>();
  for (  Map.Entry<String,Map<FsChannelReader,RuntimeException>> file : ChannelReference.openedFiles.entrySet()) {
    files.add(file.getKey());
    for (    RuntimeException allocator : file.getValue().values()) {
      if (exampleAllocator == null) {
        exampleAllocator=new RuntimeException(file.getKey() + " is still open",allocator);
      }
 else {
        exampleAllocator.addSuppressed(allocator);
      }
    }
  }
  if (exampleAllocator != null) {
    throw new AssertionError("some translog files are still open [" + Strings.collectionToCommaDelimitedString(files) + "]",exampleAllocator);
  }
}
