{
  ArrayList<FsChannelSnapshot> channelSnapshots=new ArrayList<>();
  boolean success=false;
  try {
    for (    FsChannelReader translog : translogs) {
      channelSnapshots.add(translog.newSnapshot());
    }
    Snapshot snapshot=new FsTranslogSnapshot(channelSnapshots,logger);
    success=true;
    return snapshot;
  }
  finally {
    if (success == false) {
      IOUtils.closeWhileHandlingException(channelSnapshots);
    }
  }
}
