{
  Builder builder=new Builder();
  builder.masterNodeId(in.readUTF());
  if (localNode != null) {
    builder.localNodeId(localNode.id());
  }
  int size=in.readVInt();
  for (int i=0; i < size; i++) {
    Node node=Node.readNode(in);
    if (localNode != null && node.id().equals(localNode.id())) {
      node=localNode;
    }
    builder.put(node);
  }
  return builder.build();
}
