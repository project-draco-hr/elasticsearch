{
  boolean parseUpperInclusive=Defaults.PARSE_UPPER_INCLUSIVE;
  if (context.indexSettings() != null) {
    parseUpperInclusive=context.indexSettings().getAsBoolean("index.mapping.date.parse_upper_inclusive",Defaults.PARSE_UPPER_INCLUSIVE);
  }
  DateFieldMapper fieldMapper=new DateFieldMapper(buildNames(context),dateTimeFormatter,precisionStep,fuzzyFactor,index,store,boost,omitNorms,indexOptions,nullValue,timeUnit,parseUpperInclusive,ignoreMalformed(context));
  fieldMapper.includeInAll(includeInAll);
  return fieldMapper;
}
