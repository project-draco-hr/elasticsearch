{
  SearchContext sc=SearchContext.current();
  long now=sc == null ? System.currentTimeMillis() : sc.nowInMillis();
  DateMathParser dateParser=dateMathParser;
  if (forcedDateParser != null) {
    dateParser=forcedDateParser;
  }
  return includeUpper && roundCeil ? dateParser.parseRoundCeil(value,now,zone) : dateParser.parse(value,now,zone);
}
