{
  boolean nowIsUsed=false;
  Long lowerVal=null;
  Long upperVal=null;
  if (lowerTerm != null) {
    String value=convertToString(lowerTerm);
    nowIsUsed=value.contains("now");
    lowerVal=parseToMilliseconds(value,context,false);
  }
  if (upperTerm != null) {
    String value=convertToString(upperTerm);
    nowIsUsed=value.contains("now");
    upperVal=parseToMilliseconds(value,context,includeUpper);
  }
  Filter filter=NumericRangeFieldDataFilter.newLongRange((IndexNumericFieldData<?>)fieldData.getForField(this),lowerVal,upperVal,includeLower,includeUpper);
  if (nowIsUsed) {
    return NoCacheFilter.wrap(filter);
  }
 else {
    return filter;
  }
}
