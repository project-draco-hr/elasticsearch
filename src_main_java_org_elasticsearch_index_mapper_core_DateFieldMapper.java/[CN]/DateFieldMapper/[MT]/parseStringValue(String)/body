{
  try {
    return dateTimeFormatter.parser().parseMillis(value);
  }
 catch (  RuntimeException e) {
    try {
      long time=Long.parseLong(value);
      return timeUnit.toMillis(time);
    }
 catch (    NumberFormatException e1) {
      throw new MapperParsingException("failed to parse date field [" + value + "], tried both date format ["+ dateTimeFormatter.format()+ "], and timestamp number with locale ["+ dateTimeFormatter.locale()+ "]",e);
    }
  }
}
