{
  if (value instanceof Number) {
    return ((Number)value).longValue();
  }
  long now=context == null ? System.currentTimeMillis() : context.nowInMillis();
  return includeUpper && roundCeil ? dateMathParser.parseRoundCeil(convertToString(value),now) : dateMathParser.parse(convertToString(value),now);
}
