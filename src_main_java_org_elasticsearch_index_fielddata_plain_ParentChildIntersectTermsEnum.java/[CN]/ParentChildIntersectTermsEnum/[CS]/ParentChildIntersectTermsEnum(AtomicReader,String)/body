{
  List<TermsEnum> fieldEnums=new ArrayList<>();
  for (  String field : fields) {
    Terms terms=atomicReader.terms(field);
    if (terms != null) {
      fieldEnums.add(terms.iterator(null));
    }
  }
  this.comparator=fieldEnums.get(0).getComparator();
  states=new ArrayList<>(fieldEnums.size());
  for (  TermsEnum tEnum : fieldEnums) {
    states.add(new TermsEnumState(tEnum));
  }
  stateSlots=new IntArrayList(states.size());
}
