{
  HashedBytesArray parentId=typeCache.parentIdByDoc(doc);
  if (parentId == null) {
    return;
  }
  for (  Tuple<AtomicReader,IdReaderTypeCache> tuple : readers) {
    AtomicReader indexReader=tuple.v1();
    IdReaderTypeCache idReaderTypeCache=tuple.v2();
    if (idReaderTypeCache == null) {
      continue;
    }
    int parentDocId=idReaderTypeCache.docById(parentId);
    if (parentDocId != -1 && (indexReader.getLiveDocs() == null || indexReader.getLiveDocs().get(parentDocId))) {
      FixedBitSet docIdSet=parentDocs().get(indexReader.getCoreCacheKey());
      if (docIdSet == null) {
        docIdSet=new FixedBitSet(indexReader.maxDoc());
        parentDocs.put(indexReader.getCoreCacheKey(),docIdSet);
      }
      docIdSet.set(parentDocId);
      return;
    }
  }
}
