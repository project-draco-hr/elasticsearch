{
  final int numBlocks=(int)(size / blockSize) + (size % blockSize == 0 ? 0 : 1);
  if ((long)numBlocks * blockSize < size) {
    throw new IllegalArgumentException("size is too large for this block size");
  }
  return numBlocks;
}
