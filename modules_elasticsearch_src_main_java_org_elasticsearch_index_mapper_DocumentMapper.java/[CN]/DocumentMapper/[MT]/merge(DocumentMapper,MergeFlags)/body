{
  DocumentMapper xContentMergeWith=(DocumentMapper)mergeWith;
  MergeContext mergeContext=new MergeContext(this,mergeFlags);
  rootObjectMapper.merge(xContentMergeWith.rootObjectMapper,mergeContext);
  allFieldMapper.merge(xContentMergeWith.allFieldMapper,mergeContext);
  analyzerMapper.merge(xContentMergeWith.analyzerMapper,mergeContext);
  sourceFieldMapper.merge(xContentMergeWith.sourceFieldMapper,mergeContext);
  sizeFieldMapper.merge(xContentMergeWith.sizeFieldMapper,mergeContext);
  if (!mergeFlags.simulate()) {
    meta=mergeWith.meta();
    refreshSource();
  }
  return new MergeResult(mergeContext.buildConflicts());
}
