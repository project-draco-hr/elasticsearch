{
synchronized (mutex) {
    objectMappers=MapBuilder.newMapBuilder(objectMappers).put(objectMapper.fullPath(),objectMapper).immutableMap();
    for (    ObjectMapperListener objectMapperListener : objectMapperListeners) {
      objectMapperListener.objectMapper(objectMapper);
    }
    if (objectMapper.nested().isNested()) {
      hasNestedObjects=true;
    }
  }
}
