{
  this.index=index;
  this.rootObjectMapper=builder.build(builderContext);
  if (indexSettings != null) {
    String idIndexed=indexSettings.get("index.mapping._id.indexed");
    if (idIndexed != null && Booleans.parseBoolean(idIndexed,false)) {
      idFieldMapper=new IdFieldMapper(Field.Index.NOT_ANALYZED);
    }
  }
  this.rootMappers.put(SizeFieldMapper.NAME,new SizeFieldMapper());
  this.rootMappers.put(IndexFieldMapper.NAME,new IndexFieldMapper());
  this.rootMappers.put(SourceFieldMapper.NAME,new SourceFieldMapper());
  this.rootMappers.put(TypeFieldMapper.NAME,new TypeFieldMapper());
  this.rootMappers.put(AllFieldMapper.NAME,new AllFieldMapper());
  this.rootMappers.put(AnalyzerMapper.NAME,new AnalyzerMapper());
}
