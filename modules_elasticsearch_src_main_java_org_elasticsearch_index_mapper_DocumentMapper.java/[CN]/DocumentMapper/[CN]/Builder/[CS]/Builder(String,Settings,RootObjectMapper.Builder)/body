{
  this.index=index;
  this.rootObjectMapper=builder.build(builderContext);
  if (indexSettings != null) {
    String idIndexed=indexSettings.get("index.mapping._id.indexed");
    if (idIndexed != null && Booleans.parseBoolean(idIndexed,false)) {
      idFieldMapper=new IdFieldMapper(Field.Index.NOT_ANALYZED);
    }
  }
  this.rootMappers.put(SizeFieldMapper.class,new SizeFieldMapper());
  this.rootMappers.put(IndexFieldMapper.class,new IndexFieldMapper());
  this.rootMappers.put(SourceFieldMapper.class,new SourceFieldMapper());
  this.rootMappers.put(TypeFieldMapper.class,new TypeFieldMapper());
  this.rootMappers.put(AllFieldMapper.class,new AllFieldMapper());
  this.rootMappers.put(AnalyzerMapper.class,new AnalyzerMapper());
  this.rootMappers.put(BoostFieldMapper.class,new BoostFieldMapper());
  this.rootMappers.put(RoutingFieldMapper.class,new RoutingFieldMapper());
}
