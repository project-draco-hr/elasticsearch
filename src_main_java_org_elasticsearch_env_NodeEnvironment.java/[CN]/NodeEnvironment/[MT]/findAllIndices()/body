{
  if (nodeFiles == null || locks == null) {
    throw new ElasticsearchIllegalStateException("node is not configured to store local location");
  }
  Set<String> indices=Sets.newHashSet();
  for (  File indicesLocation : nodeIndicesLocations) {
    File[] indicesList=indicesLocation.listFiles();
    if (indicesList == null) {
      continue;
    }
    for (    File indexLocation : indicesList) {
      if (indexLocation.isDirectory()) {
        indices.add(indexLocation.getName());
      }
    }
  }
  return indices;
}
