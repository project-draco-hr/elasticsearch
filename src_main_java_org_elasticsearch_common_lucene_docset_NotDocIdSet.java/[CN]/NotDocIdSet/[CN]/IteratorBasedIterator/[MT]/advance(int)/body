{
  if (lastReturn == DocIdSetIterator.NO_MORE_DOCS) {
    return DocIdSetIterator.NO_MORE_DOCS;
  }
  if (target <= lastReturn)   target=lastReturn + 1;
  if (it1 != null && innerDocid < target) {
    if ((innerDocid=it1.advance(target)) == DocIdSetIterator.NO_MORE_DOCS) {
      it1=null;
    }
  }
  while (it1 != null && innerDocid == target) {
    target++;
    if (target >= max) {
      return (lastReturn=DocIdSetIterator.NO_MORE_DOCS);
    }
    if ((innerDocid=it1.advance(target)) == DocIdSetIterator.NO_MORE_DOCS) {
      it1=null;
    }
  }
  if (target >= max) {
    return (lastReturn=DocIdSetIterator.NO_MORE_DOCS);
  }
  return (lastReturn=target);
}
