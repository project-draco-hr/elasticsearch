{
  DocIdSetIterator it=set.iterator();
  if (it == null) {
    return new AllDocIdSet.Iterator(maxDoc);
  }
  Bits bits=set.bits();
  if (bits != null) {
    return new BitsBasedIterator(bits);
  }
  return new IteratorBasedIterator(maxDoc,it);
}
