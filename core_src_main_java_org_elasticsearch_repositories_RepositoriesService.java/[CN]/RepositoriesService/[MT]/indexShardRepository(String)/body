{
  RepositoryHolder holder=repositories.get(repository);
  if (holder != null) {
    return holder.indexShardRepository;
  }
  throw new RepositoryMissingException(repository);
}
