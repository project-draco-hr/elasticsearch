{
  out.writeString(name);
  out.writeVLong(length);
  out.writeOptionalString(checksum);
  if (out.getVersion().onOrAfter(org.elasticsearch.Version.V_1_3_0)) {
    out.writeOptionalString(writtenBy == null ? null : writtenBy.name());
  }
  if (out.getVersion().onOrAfter(org.elasticsearch.Version.V_1_4_0)) {
    out.writeBytesRef(hash);
  }
}
