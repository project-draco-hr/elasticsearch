{
  int counter=0;
  Throwable result=t;
  while (result instanceof ElasticSearchWrapperException) {
    if (t.getCause() == null) {
      return result;
    }
    if (t.getCause() == t) {
      return result;
    }
    if (counter++ > 10) {
      logger.warn("Exception cause unwrapping ran for 10 levels...",t);
      return result;
    }
    result=t.getCause();
  }
  return result;
}
