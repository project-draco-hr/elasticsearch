{
  super(settings,clusterService);
  File gatewayFile;
  String location=componentSettings.get("location");
  if (location == null) {
    logger.warn("using local fs location for gateway, should be changed to be a shared location across nodes");
    gatewayFile=new File(environment.dataFile(),"gateway");
  }
 else {
    gatewayFile=new File(location);
  }
  int concurrentStreams=componentSettings.getAsInt("concurrent_streams",5);
  this.concurrentStreamPool=DynamicExecutors.newScalingThreadPool(1,concurrentStreams,TimeValue.timeValueSeconds(5).millis(),EsExecutors.daemonThreadFactory(settings,"[fs_stream]"));
  initialize(new FsBlobStore(componentSettings,concurrentStreamPool,gatewayFile),clusterName,null);
}
