{
  Settings settings=Settings.settingsBuilder().put("path.conf",getDataPath("/indices/analyze/conf_dir")).put(HUNSPELL_LAZY_LOAD.getKey(),randomBoolean()).put(HUNSPELL_IGNORE_CASE.getKey(),true).put("indices.analysis.hunspell.dictionary.en_US.strict_affix_parsing",false).put("indices.analysis.hunspell.dictionary.en_US.ignore_case",false).build();
  internalCluster().startNode(settings);
  Dictionary dictionary=internalCluster().getInstance(HunspellService.class).getDictionary("en_US");
  assertThat(dictionary,notNullValue());
  assertIgnoreCase(false,dictionary);
  dictionary=internalCluster().getInstance(HunspellService.class).getDictionary("en_US_custom");
  assertThat(dictionary,notNullValue());
  assertIgnoreCase(true,dictionary);
}
