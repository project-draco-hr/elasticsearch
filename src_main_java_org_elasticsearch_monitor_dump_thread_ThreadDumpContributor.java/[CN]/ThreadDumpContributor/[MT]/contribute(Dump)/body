{
  PrintWriter writer=new PrintWriter(dump.createFileWriter("threads.txt"));
  try {
    processDeadlocks(writer);
    processAllThreads(writer);
  }
 catch (  Exception e) {
    throw new DumpContributionFailedException(getName(),"Failed to generate",e);
  }
 finally {
    try {
      writer.close();
    }
 catch (    Exception e) {
    }
  }
}
