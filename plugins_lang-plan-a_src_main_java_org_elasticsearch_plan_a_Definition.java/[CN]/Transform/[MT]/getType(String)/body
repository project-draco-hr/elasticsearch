{
  final int dimensions=getDimensions(name);
  final String structstr=dimensions == 0 ? name : name.substring(0,name.indexOf('['));
  final Struct struct=structs.get(structstr);
  if (struct == null) {
    throw new IllegalArgumentException("The struct with name [" + name + "] has not been defined.");
  }
  return getType(struct,dimensions);
}
