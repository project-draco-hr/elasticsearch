{
  super(name,BucketAggregationMode.MULTI_BUCKETS,AggregatorFactories.EMPTY,estimatedBucketsCount,context,parent);
  this.valuesSource=valuesSource;
  if (valuesSource != null) {
    final long initialSize=estimatedBucketsCount < 2 ? 1 : estimatedBucketsCount;
    counts=BigArrays.newLongArray(initialSize,context.pageCacheRecycler(),true);
    sums=BigArrays.newDoubleArray(initialSize,context.pageCacheRecycler(),true);
    mins=BigArrays.newDoubleArray(initialSize,context.pageCacheRecycler(),false);
    mins.fill(0,mins.size(),Double.POSITIVE_INFINITY);
    maxes=BigArrays.newDoubleArray(initialSize,context.pageCacheRecycler(),false);
    maxes.fill(0,maxes.size(),Double.NEGATIVE_INFINITY);
  }
}
