{
  super(shardId,indexSettings);
  this.reformat=componentSettings.getAsBoolean("reformat",true);
  this.queryWarnThreshold=componentSettings.getAsTime("threshold.query.warn",TimeValue.timeValueNanos(-1)).nanos();
  this.queryInfoThreshold=componentSettings.getAsTime("threshold.query.info",TimeValue.timeValueNanos(-1)).nanos();
  this.queryDebugThreshold=componentSettings.getAsTime("threshold.query.debug",TimeValue.timeValueNanos(-1)).nanos();
  this.queryTraceThreshold=componentSettings.getAsTime("threshold.query.trace",TimeValue.timeValueNanos(-1)).nanos();
  this.fetchWarnThreshold=componentSettings.getAsTime("threshold.fetch.warn",TimeValue.timeValueNanos(-1)).nanos();
  this.fetchInfoThreshold=componentSettings.getAsTime("threshold.fetch.info",TimeValue.timeValueNanos(-1)).nanos();
  this.fetchDebugThreshold=componentSettings.getAsTime("threshold.fetch.debug",TimeValue.timeValueNanos(-1)).nanos();
  this.fetchTraceThreshold=componentSettings.getAsTime("threshold.fetch.trace",TimeValue.timeValueNanos(-1)).nanos();
  this.level=componentSettings.get("level","TRACE").toUpperCase();
  this.queryLogger=Loggers.getLogger(logger,".query");
  this.fetchLogger=Loggers.getLogger(logger,".fetch");
  queryLogger.setLevel(level);
  fetchLogger.setLevel(level);
  indexSettingsService.addListener(new ApplySettings());
}
