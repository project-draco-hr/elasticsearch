{
  super(settings);
  this.transportService=transportService;
  this.clusterService=clusterService;
  this.indicesService=indicesService;
  this.threadPool=threadPool;
  this.shardStateAction=shardStateAction;
  transportService.registerHandler(transportAction(),new OperationTransportHandler());
  transportService.registerHandler(transportBackupAction(),new BackupOperationTransportHandler());
  this.defaultReplicationType=ReplicationType.fromString(settings.get("action.replication_type","sync"));
}
