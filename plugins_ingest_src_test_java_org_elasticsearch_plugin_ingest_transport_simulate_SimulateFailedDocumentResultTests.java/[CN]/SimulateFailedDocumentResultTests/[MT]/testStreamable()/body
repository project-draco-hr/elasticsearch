{
  SimulateDocumentResult result=new SimulateFailedDocumentResult(new IllegalArgumentException("foo"));
  BytesStreamOutput out=new BytesStreamOutput();
  result.writeTo(out);
  StreamInput streamInput=StreamInput.wrap(out.bytes());
  SimulateDocumentResult otherResult=new SimulateFailedDocumentResult();
  otherResult.readFrom(streamInput);
  assertThat(result,equalTo(otherResult));
}
