{
  if (arg >= args.length) {
    throw new ElasticsearchIllegalStateException("missing value for " + flag + ". Usage: "+ flag+ " [value]");
  }
  String trimmedValue=Strings.emptyToNull(args[arg].trim());
  if (trimmedValue == null) {
    throw new ElasticsearchIllegalArgumentException("value for " + flag + "('"+ args[arg]+ "') must be set. Usage: "+ flag+ " [value]");
  }
  return trimmedValue;
}
