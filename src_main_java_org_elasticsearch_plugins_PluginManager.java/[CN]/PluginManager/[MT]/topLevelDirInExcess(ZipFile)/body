{
  Enumeration<? extends ZipEntry> zipEntries=zipFile.entries();
  Set<String> topLevelDirNames=new HashSet<>();
  while (zipEntries.hasMoreElements()) {
    ZipEntry zipEntry=zipEntries.nextElement();
    String zipEntryName=zipEntry.getName().replace('\\','/');
    int slash=zipEntryName.indexOf('/');
    if (slash == -1) {
      return false;
    }
    topLevelDirNames.add(zipEntryName.substring(0,slash));
    if (topLevelDirNames.size() > 1) {
      return false;
    }
  }
  if (topLevelDirNames.size() == 1) {
    return !VALID_TOP_LEVEL_PLUGIN_DIRS.contains(topLevelDirNames.iterator().next());
  }
  return false;
}
