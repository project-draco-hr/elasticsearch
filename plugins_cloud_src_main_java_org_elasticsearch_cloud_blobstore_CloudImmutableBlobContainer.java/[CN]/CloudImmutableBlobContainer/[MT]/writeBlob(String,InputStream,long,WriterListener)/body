{
  Blob blob=cloudBlobStore.sync().newBlob(buildBlobPath(blobName));
  blob.setPayload(is);
  blob.setContentLength(sizeInBytes);
  final ListenableFuture<String> future=cloudBlobStore.async().putBlob(cloudBlobStore.container(),blob);
  future.addListener(new Runnable(){
    @Override public void run(){
      try {
        future.get();
        listener.onCompleted();
      }
 catch (      InterruptedException e) {
        listener.onFailure(e);
      }
catch (      ExecutionException e) {
        listener.onFailure(e.getCause());
      }
catch (      Throwable t) {
        listener.onFailure(t);
      }
    }
  }
,cloudBlobStore.executor());
}
