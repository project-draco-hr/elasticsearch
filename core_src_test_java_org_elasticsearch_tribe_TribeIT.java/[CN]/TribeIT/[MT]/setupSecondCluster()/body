{
  if (cluster2 == null) {
    final Tuple<String,NodeConfigurationSource> configSource=getNodeConfigSource();
    final String nodeMode=configSource.v1();
    final NodeConfigurationSource nodeConfigurationSource=configSource.v2();
    cluster2=new InternalTestCluster(nodeMode,randomLong(),createTempDir(),true,2,2,UUIDs.randomBase64UUID(random()),nodeConfigurationSource,0,false,SECOND_CLUSTER_NODE_PREFIX,getMockPlugins(),Function.identity());
    cluster2.beforeTest(random(),0.1);
    cluster2.ensureAtLeastNumDataNodes(2);
  }
}
