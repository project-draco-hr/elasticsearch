{
  out.writeString(script);
  boolean hasType=type != null;
  out.writeBoolean(hasType);
  if (hasType) {
    ScriptType.writeTo(type,out);
  }
  out.writeOptionalString(lang);
  boolean hasParams=params != null;
  out.writeBoolean(hasParams);
  if (hasParams) {
    out.writeMap(params);
  }
  doWriteTo(out);
}
