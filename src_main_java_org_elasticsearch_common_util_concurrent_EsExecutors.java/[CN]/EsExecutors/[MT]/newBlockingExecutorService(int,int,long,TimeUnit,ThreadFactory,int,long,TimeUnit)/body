{
  ExecutorBlockingQueue<Runnable> queue=new ExecutorBlockingQueue<Runnable>(capacity);
  EsThreadPoolExecutor executor=new EsThreadPoolExecutor(min,max,keepAliveTime,unit,queue,threadFactory,new TimedBlockingPolicy(waitTimeUnit.toMillis(waitTime)));
  queue.executor=executor;
  return executor;
}
