{
  TransportAddress server1Address=((InternalNode)node("server1")).injector().getInstance(TransportService.class).boundAddress().publishAddress();
  TransportClient client=new TransportClient(settingsBuilder().put(nodeSettings()).put("cluster.name","test-cluster-" + NetworkUtils.getLocalAddress().getHostName()).put("client.transport.sniff",false).build());
  client.addTransportAddress(server1Address);
  return client;
}
