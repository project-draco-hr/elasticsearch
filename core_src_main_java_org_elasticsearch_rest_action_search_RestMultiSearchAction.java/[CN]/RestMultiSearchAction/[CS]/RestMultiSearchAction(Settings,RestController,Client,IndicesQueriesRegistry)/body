{
  super(settings,client);
  controller.registerHandler(GET,"/_msearch",this);
  controller.registerHandler(POST,"/_msearch",this);
  controller.registerHandler(GET,"/{index}/_msearch",this);
  controller.registerHandler(POST,"/{index}/_msearch",this);
  controller.registerHandler(GET,"/{index}/{type}/_msearch",this);
  controller.registerHandler(POST,"/{index}/{type}/_msearch",this);
  controller.registerHandler(GET,"/_msearch/template",this);
  controller.registerHandler(POST,"/_msearch/template",this);
  controller.registerHandler(GET,"/{index}/_msearch/template",this);
  controller.registerHandler(POST,"/{index}/_msearch/template",this);
  controller.registerHandler(GET,"/{index}/{type}/_msearch/template",this);
  controller.registerHandler(POST,"/{index}/{type}/_msearch/template",this);
  this.allowExplicitIndex=MULTI_ALLOW_EXPLICIT_INDEX.get(settings);
  this.indicesQueriesRegistry=indicesQueriesRegistry;
}
