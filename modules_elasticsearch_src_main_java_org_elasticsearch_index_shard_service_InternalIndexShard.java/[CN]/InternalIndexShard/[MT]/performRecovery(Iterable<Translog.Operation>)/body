{
  if (state != IndexShardState.RECOVERING) {
    throw new IndexShardNotRecoveringException(shardId,state);
  }
  engine.start();
  applyTranslogOperations(operations);
synchronized (mutex) {
    logger.debug("Moved to state [STARTED] post recovery (from gateway)");
    state=IndexShardState.STARTED;
  }
  scheduleRefresherIfNeeded();
}
