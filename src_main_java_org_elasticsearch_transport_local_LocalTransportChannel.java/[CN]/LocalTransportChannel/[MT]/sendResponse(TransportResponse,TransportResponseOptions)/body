{
  try (BytesStreamOutput stream=new BytesStreamOutput()){
    stream.setVersion(version);
    stream.writeLong(requestId);
    byte status=0;
    status=TransportStatus.setResponse(status);
    stream.writeByte(status);
    response.writeTo(stream);
    final byte[] data=stream.bytes().toBytes();
    targetTransport.workers().execute(new Runnable(){
      @Override public void run(){
        targetTransport.messageReceived(data,action,sourceTransport,version,null);
      }
    }
);
  }
 }
