{
  Collection<NodeAndClient> values=nodes.values();
  for (  NodeAndClient nodeAndClient : values) {
    ClusterService instance=getInstance(ClusterService.class,(InternalNode)nodeAndClient.node());
    if (instance.state().getNodes().getMasterNode().id().equals(instance.localNode().id())) {
      return nodeAndClient.client(random);
    }
  }
  return null;
}
