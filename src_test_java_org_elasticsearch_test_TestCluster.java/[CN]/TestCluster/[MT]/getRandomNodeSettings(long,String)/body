{
  Random random=new Random(seed);
  Builder builder=ImmutableSettings.settingsBuilder().put("index.store.type",MockFSIndexStoreModule.class.getName()).put(IndexEngineModule.EngineSettings.ENGINE_TYPE,MockEngineModule.class.getName()).put("cluster.name",clusterName).put("cluster.routing.schedule",(30 + random.nextInt(50)) + "ms").put("gateway.type","none");
  if (isLocalTransportConfigured()) {
    builder.put(TransportModule.TRANSPORT_TYPE_KEY,AssertingLocalTransportModule.class.getName());
  }
 else {
    builder.put(Transport.TransportSettings.TRANSPORT_TCP_COMPRESS,random.nextInt(10) == 0);
  }
  builder.put("type",CacheRecycler.Type.values()[random.nextInt(CacheRecycler.Type.values().length)]);
  return builder.build();
}
