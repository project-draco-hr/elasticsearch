{
  XContentType xContentType=XContentFactory.xContentType(source,offset,length);
  if (xContentType != null) {
    try {
      source(XContentFactory.xContent(xContentType).createParser(source,offset,length).mapAndClose());
    }
 catch (    IOException e) {
      throw new ElasticSearchParseException("failed to parse source for create index",e);
    }
  }
 else {
    settings(new String(source,offset,length,Charsets.UTF_8));
  }
  return this;
}
