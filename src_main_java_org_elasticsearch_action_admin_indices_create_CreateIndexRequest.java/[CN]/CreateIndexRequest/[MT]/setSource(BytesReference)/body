{
  XContentType xContentType=XContentFactory.xContentType(source);
  if (xContentType != null) {
    try {
      setSource(XContentFactory.xContent(xContentType).createParser(source).mapAndClose());
    }
 catch (    IOException e) {
      throw new ElasticSearchParseException("failed to parse source for create index",e);
    }
  }
 else {
    setSettings(new String(source.toBytes(),Charsets.UTF_8));
  }
  return this;
}
