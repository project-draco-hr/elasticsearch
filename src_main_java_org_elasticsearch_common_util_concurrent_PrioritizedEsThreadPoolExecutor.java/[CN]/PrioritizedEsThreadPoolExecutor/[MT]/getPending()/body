{
  Object[] objects=getQueue().toArray();
  Pending[] infos=new Pending[objects.length];
  for (int i=0; i < objects.length; i++) {
    Object obj=objects[i];
    if (obj instanceof TieBreakingPrioritizedRunnable) {
      TieBreakingPrioritizedRunnable t=(TieBreakingPrioritizedRunnable)obj;
      infos[i]=new Pending(t.runnable,t.priority(),t.insertionOrder);
    }
 else     if (obj instanceof PrioritizedFutureTask) {
      PrioritizedFutureTask t=(PrioritizedFutureTask)obj;
      infos[i]=new Pending(t.task,t.priority,t.insertionOrder);
    }
  }
  return infos;
}
