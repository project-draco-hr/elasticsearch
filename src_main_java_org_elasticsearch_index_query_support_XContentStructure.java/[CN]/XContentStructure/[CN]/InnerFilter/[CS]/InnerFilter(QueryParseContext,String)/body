{
  super(parseContext1);
  if (types != null) {
    String[] origTypes=QueryParseContext.setTypesWithPrevious(types);
    try {
      Filter innerFilter=parseContext1.parseInnerFilter();
      query=new ConstantScoreQuery(innerFilter);
      queryParsed=true;
    }
  finally {
      QueryParseContext.setTypes(origTypes);
    }
  }
 else {
    BytesReference innerBytes=XContentFactory.smileBuilder().copyCurrentStructure(parseContext1.parser()).bytes();
    super.bytes(innerBytes);
  }
}
