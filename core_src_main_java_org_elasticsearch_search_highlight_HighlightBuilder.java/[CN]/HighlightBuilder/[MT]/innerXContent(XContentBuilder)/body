{
  commonOptionsToXContent(builder);
  if (encoder != null) {
    builder.field("encoder",encoder);
  }
  if (fields.size() > 0) {
    if (useExplicitFieldOrder) {
      builder.startArray("fields");
    }
 else {
      builder.startObject("fields");
    }
    for (    Field field : fields) {
      if (useExplicitFieldOrder) {
        builder.startObject();
      }
      field.innerXContent(builder);
      if (useExplicitFieldOrder) {
        builder.endObject();
      }
    }
    if (useExplicitFieldOrder) {
      builder.endArray();
    }
 else {
      builder.endObject();
    }
  }
}
