{
  XContentParser parser=parseContext.parser();
  XContentParser.Token token;
  boolean foundCurrentFieldMatch=false;
  if (currentToken.isValue()) {
    if (parseContext.parseFieldMatcher().match(currentFieldName,TAGS_SCHEMA_FIELD)) {
      tagsSchema(parser.text());
      foundCurrentFieldMatch=true;
    }
 else     if (parseContext.parseFieldMatcher().match(currentFieldName,ENCODER_FIELD)) {
      encoder(parser.text());
      foundCurrentFieldMatch=true;
    }
  }
 else   if (currentToken == Token.START_ARRAY && parseContext.parseFieldMatcher().match(currentFieldName,FIELDS_FIELD)) {
    useExplicitFieldOrder(true);
    while ((token=parser.nextToken()) != XContentParser.Token.END_ARRAY) {
      if (token == XContentParser.Token.START_OBJECT) {
        while ((token=parser.nextToken()) != XContentParser.Token.END_OBJECT) {
          if (token == XContentParser.Token.FIELD_NAME) {
            field(HighlightBuilder.Field.PROTOTYPE.fromXContent(parseContext));
          }
        }
        foundCurrentFieldMatch=true;
      }
 else {
        throw new ParsingException(parser.getTokenLocation(),"If highlighter fields is an array it must contain objects containing a single field");
      }
    }
  }
 else   if (currentToken == Token.START_OBJECT && parseContext.parseFieldMatcher().match(currentFieldName,FIELDS_FIELD)) {
    while ((token=parser.nextToken()) != XContentParser.Token.END_OBJECT) {
      if (token == XContentParser.Token.FIELD_NAME) {
        field(HighlightBuilder.Field.PROTOTYPE.fromXContent(parseContext));
      }
    }
    foundCurrentFieldMatch=true;
  }
  return foundCurrentFieldMatch;
}
