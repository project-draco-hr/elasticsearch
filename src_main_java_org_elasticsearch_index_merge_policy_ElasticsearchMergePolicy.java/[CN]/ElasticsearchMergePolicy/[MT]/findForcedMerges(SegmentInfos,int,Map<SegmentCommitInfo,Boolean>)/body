{
  if (force) {
    List<SegmentCommitInfo> segments=Lists.newArrayList();
    for (    SegmentCommitInfo info : segmentInfos) {
      if (segmentsToMerge.containsKey(info)) {
        segments.add(info);
      }
    }
    if (!segments.isEmpty()) {
      MergeSpecification spec=new IndexUpgraderMergeSpecification();
      spec.add(new OneMerge(segments));
      return spec;
    }
  }
  return upgradedMergeSpecification(delegate.findForcedMerges(segmentInfos,maxSegmentCount,segmentsToMerge));
}
