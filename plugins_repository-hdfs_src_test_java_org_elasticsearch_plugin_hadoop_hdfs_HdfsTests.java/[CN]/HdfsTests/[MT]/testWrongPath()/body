{
  Path dir=createTempDir();
  Client client=client();
  try {
    PutRepositoryResponse putRepositoryResponse=client.admin().cluster().preparePutRepository("test-repo").setType("hdfs").setSettings(Settings.settingsBuilder().put("uri",dir.toUri().toString()).put("conf.fs.AbstractFileSystem.file.impl",TestingFs.class.getName()).put("path","a@b$c#11:22").put("chunk_size",randomIntBetween(100,1000) + "k").put("compress",randomBoolean())).get();
    assertThat(putRepositoryResponse.isAcknowledged(),equalTo(true));
    createIndex("test-idx-1","test-idx-2","test-idx-3");
    ensureGreen();
    fail("Path name is invalid");
  }
 catch (  RepositoryException re) {
  }
}
