{
  XContentBuilder builder=XContentFactory.jsonBuilder();
  builder.startObject();
  builder.startObject(SpanNotQueryBuilder.NAME);
  builder.field("exclude");
  spanTermQuery("description","jumped").toXContent(builder,null);
  builder.field("include");
  spanNearQuery(1).clause(QueryBuilders.spanTermQuery("description","quick")).clause(QueryBuilders.spanTermQuery("description","fox")).toXContent(builder,null);
  builder.field("dist",3);
  builder.endObject();
  builder.endObject();
  QueryParseContext context=createContext();
  XContentParser parser=XContentFactory.xContent(builder.string()).createParser(builder.string());
  context.reset(parser);
  assertQueryHeader(parser,SpanNotQueryBuilder.NAME);
  SpanNotQueryBuilder query=(SpanNotQueryBuilder)new SpanNotQueryParser().fromXContent(context);
  assertThat(query.pre(),equalTo(3));
  assertThat(query.post(),equalTo(3));
  assertNotNull(query.include());
  assertNotNull(query.exclude());
}
