{
  super(settings);
  this.path=path;
  if (!path.exists()) {
    boolean b=path.mkdirs();
    if (!b) {
      throw new BlobStoreException("Failed to create directory at [" + path + "]");
    }
  }
  if (!path.isDirectory()) {
    throw new BlobStoreException("Path is not a directory at [" + path + "]");
  }
  this.bufferSizeInBytes=(int)settings.getAsBytesSize("buffer_size",new ByteSizeValue(100,ByteSizeUnit.KB)).bytes();
  this.executor=executor;
}
