{
  try {
    Iterator<Entry<String,IndexOutput>> iterator=openIndexOutputs.entrySet().iterator();
    while (iterator.hasNext()) {
      Map.Entry<String,IndexOutput> entry=iterator.next();
      IOUtils.closeWhileHandlingException(entry.getValue());
      iterator.remove();
    }
    for (    String file : tempFileNames) {
      logger.trace("cleaning temporary file [{}]",file);
      store.deleteQuiet(file);
    }
    legacyChecksums.clear();
  }
  finally {
    store.decRef();
  }
}
