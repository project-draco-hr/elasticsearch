{
  ensureNotFinished();
  Iterator<String> tempFileIterator=tempFileNames.iterator();
  final Directory directory=store.directory();
  while (tempFileIterator.hasNext()) {
    String tempFile=tempFileIterator.next();
    String origFile=originalNameForTempFile(tempFile);
    try {
      directory.deleteFile(origFile);
    }
 catch (    NoSuchFileException e) {
    }
catch (    Throwable ex) {
      logger.debug("failed to delete file [{}]",ex,origFile);
    }
    store.renameFile(tempFile,origFile);
    tempFileIterator.remove();
  }
}
