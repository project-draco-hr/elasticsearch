{
  RoutingNode routingNode=clusterState.getRoutingNodes().node(shardRouting.currentNodeId());
  if (routingNode == null) {
    return true;
  }
 else {
    ShardRouting sr=routingNode.get(shardRouting.getId());
    return sr == null || !sr.isSameAllocation(shardRouting);
  }
}
