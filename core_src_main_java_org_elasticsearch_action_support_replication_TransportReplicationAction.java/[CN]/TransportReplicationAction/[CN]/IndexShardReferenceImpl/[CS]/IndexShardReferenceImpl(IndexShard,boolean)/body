{
  this.indexShard=indexShard;
  if (primaryAction) {
    operationLock=indexShard.acquirePrimaryOperationLock();
  }
 else {
    operationLock=indexShard.acquireReplicaOperationLock();
  }
}
