{
  this.indexShard=indexShard;
  if (primaryTerm < 0) {
    operationLock=indexShard.acquirePrimaryOperationLock();
  }
 else {
    operationLock=indexShard.acquireReplicaOperationLock(primaryTerm);
  }
}
