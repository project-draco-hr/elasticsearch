{
  BytesRef[] bytes=buildBytesRefs(2,20,1000,100);
  final long start=System.nanoTime();
  while (System.nanoTime() - start < TimeUnit.SECONDS.toNanos(10)) {
    for (    Comparator comparator : Comparator.values()) {
      bench(comparator,bytes,1);
    }
  }
  System.out.println("## Various lengths");
  System.gc();
  Thread.sleep(2000);
  for (  Comparator comparator : Comparator.values()) {
    bench(comparator,bytes,ITERS);
  }
  for (int i=0; i < 3; ++i) {
    for (    Comparator comparator : Comparator.values()) {
      System.out.println(comparator + " " + new TimeValue(bench(comparator,bytes,ITERS),TimeUnit.NANOSECONDS));
    }
  }
  for (int len=2; len <= 20; ++len) {
    System.out.println("## Length = " + len);
    bytes=buildBytesRefs(len,len,1000,100);
    System.gc();
    Thread.sleep(2000);
    for (    Comparator comparator : Comparator.values()) {
      bench(comparator,bytes,ITERS);
    }
    for (int i=0; i < 3; ++i) {
      for (      Comparator comparator : Comparator.values()) {
        System.out.println(comparator + " " + new TimeValue(bench(comparator,bytes,ITERS),TimeUnit.NANOSECONDS));
      }
    }
  }
}
