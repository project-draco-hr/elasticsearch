{
  channel.setReceiver(this);
  try {
    channel.connect(clusterName.value());
  }
 catch (  ChannelException e) {
    throw new DiscoveryException("Failed to connect to cluster [" + clusterName.value() + "]",e);
  }
  connectTillMasterIfNeeded();
  sendInitialStateEventIfNeeded();
}
