{
  if (!nodeEnv.hasNodeFile()) {
    return new FsStats(System.currentTimeMillis(),new FsStats.Info[0]);
  }
  NodePath[] nodePaths=nodeEnv.nodePaths();
  FsStats.Info[] infos=new FsStats.Info[nodePaths.length];
  for (int i=0; i < nodePaths.length; i++) {
    NodePath nodePath=nodePaths[i];
    Path dataLocation=nodePath.path;
    FsStats.Info info=new FsStats.Info();
    info.path=dataLocation.toAbsolutePath().toString();
    try {
      FileSystem fileSystem=fileSystems.get(dataLocation);
      Sigar sigar=sigarService.sigar();
      if (fileSystem == null) {
        FileSystemMap fileSystemMap=sigar.getFileSystemMap();
        if (fileSystemMap != null) {
          fileSystem=fileSystemMap.getMountPoint(dataLocation.toAbsolutePath().toString());
          fileSystems.put(dataLocation,fileSystem);
        }
      }
      if (fileSystem != null) {
        info.mount=fileSystem.getDirName();
        info.dev=fileSystem.getDevName();
        info.type=fileSystem.getSysTypeName();
        info.spins=nodePath.spins;
        FileSystemUsage fileSystemUsage=sigar.getFileSystemUsage(fileSystem.getDirName());
        if (fileSystemUsage != null) {
          info.total=fileSystemUsage.getTotal() * 1024;
          info.free=fileSystemUsage.getFree() * 1024;
          info.available=fileSystemUsage.getAvail() * 1024;
          info.diskReads=fileSystemUsage.getDiskReads();
          info.diskWrites=fileSystemUsage.getDiskWrites();
          info.diskReadBytes=fileSystemUsage.getDiskReadBytes();
          info.diskWriteBytes=fileSystemUsage.getDiskWriteBytes();
          info.diskQueue=fileSystemUsage.getDiskQueue();
          info.diskServiceTime=fileSystemUsage.getDiskServiceTime();
        }
      }
    }
 catch (    SigarException e) {
    }
    infos[i]=info;
  }
  return new FsStats(System.currentTimeMillis(),infos);
}
