{
  if (disableAllocation) {
    return allocation.shouldIgnoreDisable(shardRouting.shardId(),node.nodeId()) ? Decision.YES : Decision.NO;
  }
  if (disableReplicaAllocation) {
    return shardRouting.primary() ? Decision.YES : allocation.shouldIgnoreDisable(shardRouting.shardId(),node.nodeId()) ? Decision.YES : Decision.NO;
  }
  return Decision.YES;
}
