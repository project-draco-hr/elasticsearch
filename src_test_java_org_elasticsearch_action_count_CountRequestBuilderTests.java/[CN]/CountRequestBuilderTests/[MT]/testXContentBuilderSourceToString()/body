{
  CountRequestBuilder countRequestBuilder=new CountRequestBuilder(client);
  XContentBuilder xContentBuilder=XContentFactory.contentBuilder(randomFrom(XContentType.values()));
  xContentBuilder.startObject();
  xContentBuilder.startObject("match_all");
  xContentBuilder.endObject();
  xContentBuilder.endObject();
  countRequestBuilder.setSource(xContentBuilder.bytes());
  assertThat(countRequestBuilder.toString(),equalTo(XContentHelper.convertToJson(xContentBuilder.bytes(),false,true)));
}
