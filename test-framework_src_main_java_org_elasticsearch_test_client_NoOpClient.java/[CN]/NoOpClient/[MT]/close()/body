{
  try {
    ThreadPool.terminate(threadPool(),10,TimeUnit.SECONDS);
  }
 catch (  Throwable t) {
    throw new ElasticsearchException(t.getMessage(),t);
  }
}
