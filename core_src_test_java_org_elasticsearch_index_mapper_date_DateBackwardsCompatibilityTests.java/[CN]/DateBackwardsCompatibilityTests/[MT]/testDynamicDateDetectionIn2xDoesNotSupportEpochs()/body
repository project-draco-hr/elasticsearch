{
  try {
    XContentBuilder mapping=jsonBuilder().startObject().startArray("dynamic_date_formats").value("dateOptionalTime").value("epoch_seconds").endArray().endObject();
    createIndex(Version.CURRENT,mapping);
    fail("Expected a MapperParsingException, but did not happen");
  }
 catch (  MapperParsingException e) {
    assertThat(e.getMessage(),containsString("Failed to parse mapping [" + type + "]"));
    assertThat(e.getMessage(),containsString("Epoch [epoch_seconds] is not supported as dynamic date format"));
  }
}
