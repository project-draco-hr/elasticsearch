{
  try {
    XContentBuilder mapping=jsonBuilder().startObject().startArray("dynamic_date_formats").value("dateOptionalTime").value("epoch_seconds").endArray().endObject();
    createIndex(Version.CURRENT,mapping);
    fail("Expected a MapperParsingException, but did not happen");
  }
 catch (  MapperParsingException e) {
    assertThat(e.getMessage(),is("mapping [" + type + "]"));
  }
}
