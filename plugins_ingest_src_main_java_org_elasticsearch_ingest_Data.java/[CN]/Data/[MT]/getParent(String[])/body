{
  Map<String,Object> innerMap=document;
  for (int i=0; i < pathElements.length - 1; i++) {
    Object obj=innerMap.get(pathElements[i]);
    if (obj instanceof Map) {
      @SuppressWarnings("unchecked") Map<String,Object> stringObjectMap=(Map<String,Object>)obj;
      innerMap=stringObjectMap;
    }
 else {
      return null;
    }
  }
  return innerMap;
}
