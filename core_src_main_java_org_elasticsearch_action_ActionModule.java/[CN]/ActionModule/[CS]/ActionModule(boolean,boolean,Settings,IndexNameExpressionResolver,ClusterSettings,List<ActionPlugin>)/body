{
  this.transportClient=transportClient;
  this.settings=settings;
  this.actionPlugins=actionPlugins;
  actions=setupActions(actionPlugins);
  actionFilters=setupActionFilters(actionPlugins,ingestEnabled);
  autoCreateIndex=transportClient ? null : new AutoCreateIndex(settings,resolver);
  destructiveOperations=new DestructiveOperations(settings,clusterSettings);
  restController=new RestController(settings);
}
