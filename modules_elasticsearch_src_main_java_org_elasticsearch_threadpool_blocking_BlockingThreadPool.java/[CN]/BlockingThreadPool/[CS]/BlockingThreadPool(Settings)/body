{
  super(settings);
  this.scheduledSize=componentSettings.getAsInt("scheduled_size",20);
  this.min=componentSettings.getAsInt("min",1);
  int max=componentSettings.getAsInt("max",100);
  if (max < 10) {
    logger.warn("blocking threadpool max threads [{}] must not be lower than 10, setting it to 10",max);
    max=10;
  }
  this.max=max;
  this.capacity=(int)componentSettings.getAsSize("capacity",new SizeValue(0)).singles();
  this.waitTime=componentSettings.getAsTime("wait_time",timeValueSeconds(60));
  this.keepAlive=componentSettings.getAsTime("keep_alive",timeValueSeconds(60));
  logger.debug("initializing {} thread pool with min[{}], max[{}], keep_alive[{}], capacity[{}], wait_time[{}], scheduled_size[{}]",getType(),min,max,keepAlive,capacity,waitTime,scheduledSize);
  executorService=TransferThreadPoolExecutor.newBlockingExecutor(min,max,keepAlive.millis(),TimeUnit.MILLISECONDS,waitTime.millis(),TimeUnit.MILLISECONDS,capacity,EsExecutors.daemonThreadFactory(settings,"[tp]"));
  scheduledExecutorService=Executors.newScheduledThreadPool(scheduledSize,EsExecutors.daemonThreadFactory(settings,"[sc]"));
  cached=EsExecutors.newCachedThreadPool(keepAlive,EsExecutors.daemonThreadFactory(settings,"[cached]"));
  started=true;
}
