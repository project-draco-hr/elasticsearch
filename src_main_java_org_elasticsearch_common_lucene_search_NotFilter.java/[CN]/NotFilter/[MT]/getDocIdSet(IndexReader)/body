{
  DocIdSet set=filter.getDocIdSet(reader);
  if (set == null) {
    return new AllDocSet(reader.maxDoc());
  }
  if (set instanceof DocSet) {
    return new NotDocSet((DocSet)set,reader.maxDoc());
  }
  return new NotDocIdSet(set,reader.maxDoc());
}
