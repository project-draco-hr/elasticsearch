{
  super(facetName);
  this.keyIndexFieldData=keyIndexFieldData;
  this.valueIndexFieldData=valueIndexFieldData;
  this.script=valueScript;
  this.size=size;
  this.comparatorType=comparatorType;
  this.numberOfShards=context.numberOfShards();
  if (script != null) {
    this.aggregator=new ScriptAggregator(valueScript);
  }
 else {
    this.aggregator=new Aggregator();
  }
}
