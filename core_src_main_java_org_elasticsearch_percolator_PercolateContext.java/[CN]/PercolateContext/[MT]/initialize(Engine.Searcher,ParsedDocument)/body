{
  this.docSearcher=docSearcher;
  IndexReader indexReader=docSearcher.reader();
  LeafReaderContext atomicReaderContext=indexReader.leaves().get(0);
  this.searchLookup=new SearchLookup(mapperService(),fieldData(),queryShardContext.getTypes());
  LeafSearchLookup leafLookup=searchLookup.getLeafSearchLookup(atomicReaderContext);
  leafLookup.setDocument(0);
  leafLookup.source().setSource(parsedDocument.source());
  Map<String,SearchHitField> fields=new HashMap<>();
  for (  IndexableField field : parsedDocument.rootDoc().getFields()) {
    fields.put(field.name(),new InternalSearchHitField(field.name(),Collections.emptyList()));
  }
  hitContext().reset(new InternalSearchHit(0,"unknown",new Text(parsedDocument.type()),fields),atomicReaderContext,0,docSearcher.searcher());
}
