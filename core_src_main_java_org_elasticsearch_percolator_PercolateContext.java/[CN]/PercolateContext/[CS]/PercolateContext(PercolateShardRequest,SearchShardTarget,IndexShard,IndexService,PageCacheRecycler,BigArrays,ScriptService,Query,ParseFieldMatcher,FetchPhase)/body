{
  super(parseFieldMatcher,request);
  this.indexShard=indexShard;
  this.indexService=indexService;
  this.fetchPhase=fetchPhase;
  this.fieldDataService=indexService.fieldData();
  this.searchShardTarget=searchShardTarget;
  this.percolateQueryRegistry=indexShard.percolateRegistry();
  this.types=new String[]{request.documentType()};
  this.pageCacheRecycler=pageCacheRecycler;
  this.bigArrays=bigArrays.withCircuitBreaking();
  this.querySearchResult=new QuerySearchResult(0,searchShardTarget);
  this.engineSearcher=indexShard.acquireSearcher("percolate");
  this.searcher=new ContextIndexSearcher(engineSearcher,indexService.cache().query(),indexShard.getQueryCachingPolicy());
  this.scriptService=scriptService;
  this.numberOfShards=request.getNumberOfShards();
  this.aliasFilter=aliasFilter;
  this.startTime=request.getStartTime();
}
