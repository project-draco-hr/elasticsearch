{
  super(parseFieldMatcher);
  this.indexShard=indexShard;
  this.indexService=indexService;
  this.fieldDataService=indexService.fieldData();
  this.searchShardTarget=searchShardTarget;
  this.percolateQueries=indexShard.percolateRegistry().percolateQueries();
  this.types=new String[]{request.documentType()};
  this.pageCacheRecycler=pageCacheRecycler;
  this.bigArrays=bigArrays.withCircuitBreaking();
  this.querySearchResult=new QuerySearchResult(0,searchShardTarget);
  this.engineSearcher=indexShard.acquireSearcher("percolate");
  this.searcher=new ContextIndexSearcher(this,engineSearcher);
  this.scriptService=scriptService;
  this.numberOfShards=request.getNumberOfShards();
  this.aliasFilter=aliasFilter;
}
