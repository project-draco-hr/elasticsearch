{
  ParentFieldMapper.Builder builder=new ParentFieldMapper.Builder("child");
  builder.type("parent");
  builder.fieldDataSettings(createFDSettings(Loading.LAZY));
  ParentFieldMapper parentFieldMapper=builder.build(new Mapper.BuilderContext(post2Dot0IndexSettings(),new ContentPath(0)));
  assertThat(parentFieldMapper.getParentJoinFieldType().name(),equalTo("_parent#child"));
  assertThat(parentFieldMapper.getParentJoinFieldType().fieldDataType(),nullValue());
  assertThat(parentFieldMapper.getParentJoinFieldType().hasDocValues(),is(true));
  assertThat(parentFieldMapper.getParentJoinFieldType().docValuesType(),equalTo(DocValuesType.SORTED));
  assertThat(parentFieldMapper.getChildJoinFieldType().name(),equalTo("_parent#parent"));
  assertThat(parentFieldMapper.getChildJoinFieldType().fieldDataType().getLoading(),equalTo(Loading.LAZY));
  assertThat(parentFieldMapper.getChildJoinFieldType().hasDocValues(),is(true));
  assertThat(parentFieldMapper.getChildJoinFieldType().docValuesType(),equalTo(DocValuesType.SORTED));
}
