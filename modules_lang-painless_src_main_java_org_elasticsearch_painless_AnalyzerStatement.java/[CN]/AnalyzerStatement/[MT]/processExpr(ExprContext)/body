{
  final StatementMetadata exprsmd=metadata.getStatementMetadata(ctx);
  final ExpressionContext exprctx=AnalyzerUtility.updateExpressionTree(ctx.expression());
  final ExpressionMetadata expremd=metadata.createExpressionMetadata(exprctx);
  expremd.read=exprsmd.lastSource;
  analyzer.visit(exprctx);
  if (!expremd.statement && !exprsmd.lastSource) {
    throw new IllegalArgumentException(AnalyzerUtility.error(ctx) + "Not a statement.");
  }
  final boolean rtn=exprsmd.lastSource && expremd.from.sort != Sort.VOID;
  exprsmd.methodEscape=rtn;
  exprsmd.loopEscape=rtn;
  exprsmd.allLast=rtn;
  expremd.to=rtn ? definition.objectType : expremd.from;
  caster.markCast(expremd);
  exprsmd.count=1;
}
