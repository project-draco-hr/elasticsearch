{
  final StatementMetadata trysmd=metadata.getStatementMetadata(ctx);
  final BlockContext blockctx=ctx.block();
  final StatementMetadata blocksmd=metadata.createStatementMetadata(blockctx);
  blocksmd.lastSource=trysmd.lastSource;
  blocksmd.inLoop=trysmd.inLoop;
  blocksmd.lastLoop=trysmd.lastLoop;
  utility.incrementScope();
  analyzer.visit(blockctx);
  utility.decrementScope();
  trysmd.methodEscape=blocksmd.methodEscape;
  trysmd.loopEscape=blocksmd.loopEscape;
  trysmd.allLast=blocksmd.allLast;
  trysmd.anyContinue=blocksmd.anyContinue;
  trysmd.anyBreak=blocksmd.anyBreak;
  int trapcount=0;
  for (  final TrapContext trapctx : ctx.trap()) {
    final StatementMetadata trapsmd=metadata.createStatementMetadata(trapctx);
    trapsmd.lastSource=trysmd.lastSource;
    trapsmd.inLoop=trysmd.inLoop;
    trapsmd.lastLoop=trysmd.lastLoop;
    utility.incrementScope();
    analyzer.visit(trapctx);
    utility.decrementScope();
    trysmd.methodEscape&=trapsmd.methodEscape;
    trysmd.loopEscape&=trapsmd.loopEscape;
    trysmd.allLast&=trapsmd.allLast;
    trysmd.anyContinue|=trapsmd.anyContinue;
    trysmd.anyBreak|=trapsmd.anyBreak;
    trapcount=Math.max(trapcount,trapsmd.count);
  }
  trysmd.count=blocksmd.count + trapcount;
}
