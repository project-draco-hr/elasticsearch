{
  final StatementMetadata dosmd=metadata.getStatementMetadata(ctx);
  utility.incrementScope();
  final BlockContext blockctx=ctx.block();
  final StatementMetadata blocksmd=metadata.createStatementMetadata(blockctx);
  blocksmd.beginLoop=true;
  blocksmd.inLoop=true;
  analyzer.visit(blockctx);
  if (blocksmd.loopEscape && !blocksmd.anyContinue) {
    throw new IllegalArgumentException(AnalyzerUtility.error(ctx) + "All paths escape so the loop is not necessary.");
  }
  final ExpressionContext exprctx=AnalyzerUtility.updateExpressionTree(ctx.expression());
  final ExpressionMetadata expremd=metadata.createExpressionMetadata(exprctx);
  expremd.to=definition.booleanType;
  analyzer.visit(exprctx);
  caster.markCast(expremd);
  if (expremd.postConst != null) {
    final boolean continuous=(boolean)expremd.postConst;
    if (!continuous) {
      throw new IllegalArgumentException(AnalyzerUtility.error(ctx) + "All paths escape so the loop is not necessary.");
    }
    if (!blocksmd.anyBreak) {
      dosmd.methodEscape=true;
      dosmd.allLast=true;
    }
  }
  dosmd.count=1;
  utility.decrementScope();
}
