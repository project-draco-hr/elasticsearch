{
  if (set == null) {
    return DocSet.EMPTY_DOC_SET;
  }
  if (set == DocIdSet.EMPTY_DOCIDSET) {
    return DocSet.EMPTY_DOC_SET;
  }
  DocIdSetIterator it=set.iterator();
  if (it == null) {
    return DocSet.EMPTY_DOC_SET;
  }
  int doc=it.nextDoc();
  if (doc == DocIdSetIterator.NO_MORE_DOCS) {
    return DocSet.EMPTY_DOC_SET;
  }
  return DocSets.cacheable(reader,set);
}
