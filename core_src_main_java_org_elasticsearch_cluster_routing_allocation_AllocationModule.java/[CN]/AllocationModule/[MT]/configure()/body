{
  String shardsAllocatorType=shardsAllocators.bindType(binder(),settings,AllocationModule.SHARDS_ALLOCATOR_TYPE_KEY,AllocationModule.BALANCED_ALLOCATOR);
  if (shardsAllocatorType.equals(EVEN_SHARD_COUNT_ALLOCATOR)) {
    final ESLogger logger=Loggers.getLogger(getClass(),settings);
    logger.warn("{} allocator has been removed in 2.0 using {} instead",AllocationModule.EVEN_SHARD_COUNT_ALLOCATOR,AllocationModule.BALANCED_ALLOCATOR);
  }
  allocationDeciders.bind(binder());
  bind(GatewayAllocator.class).asEagerSingleton();
  bind(AllocationService.class).asEagerSingleton();
}
