{
  DateHistogramProc histoProc=new DateHistogramProc(tzRounding,valueScript,ValueScriptDateHistogramFacetExecutor.this.entries);
  for (  ContextDocIdSet entry : docSets) {
    LongValues keyValues=keyIndexFieldData.load(entry.context).getLongValues();
    valueScript.setNextReader(entry.context);
    DocIdSetIterator it=entry.docSet.iterator();
    int doc;
    while ((doc=it.nextDoc()) != DocIdSetIterator.NO_MORE_DOCS) {
      keyValues.forEachValueInDoc(doc,histoProc);
    }
  }
}
