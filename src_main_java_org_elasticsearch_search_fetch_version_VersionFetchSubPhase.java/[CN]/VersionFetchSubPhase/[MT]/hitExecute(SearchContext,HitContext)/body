{
  long version;
  try {
    version=Versions.loadVersion(hitContext.readerContext().reader(),new Term(UidFieldMapper.NAME,hitContext.fieldVisitor().uid().toBytesRef()));
  }
 catch (  IOException e) {
    throw new ElasticSearchException("Could not query index for _version",e);
  }
  if (version < 0) {
    version=-1;
  }
  hitContext.hit().version(version);
}
