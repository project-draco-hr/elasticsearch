{
  final Bits bits=DocIdSets.asSequentialAccessBits(ctx.reader().maxDoc(),filter.getDocIdSet(ctx,null));
  return new LeafBucketCollectorBase(sub,null){
    @Override public void collect(    int doc,    long bucket) throws IOException {
      if (bits.get(doc)) {
        collectBucket(sub,doc,bucket);
      }
    }
  }
;
}
