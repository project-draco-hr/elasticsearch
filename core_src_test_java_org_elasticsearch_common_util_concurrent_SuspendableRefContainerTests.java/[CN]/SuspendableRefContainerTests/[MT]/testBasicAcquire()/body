{
  SuspendableRefContainer refContainer=new SuspendableRefContainer();
  assertThat(refContainer.activeRefs(),equalTo(0));
  Releasable lock1=randomLockingMethod(refContainer);
  assertThat(refContainer.activeRefs(),equalTo(1));
  Releasable lock2=randomLockingMethod(refContainer);
  assertThat(refContainer.activeRefs(),equalTo(2));
  lock1.close();
  assertThat(refContainer.activeRefs(),equalTo(1));
  lock1.close();
  assertThat(refContainer.activeRefs(),equalTo(1));
  lock2.close();
  assertThat(refContainer.activeRefs(),equalTo(0));
}
