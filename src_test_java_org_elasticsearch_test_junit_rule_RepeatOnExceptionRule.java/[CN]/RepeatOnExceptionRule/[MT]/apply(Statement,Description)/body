{
  return new Statement(){
    @Override public void evaluate() throws Throwable {
      Throwable caughtThrowable=null;
      for (int i=0; i < retryCount; i++) {
        try {
          base.evaluate();
          return;
        }
 catch (        Throwable t) {
          if (t.getClass().equals(expectedException)) {
            caughtThrowable=t;
            logger.info("Exception [{}] occurred, rerunning the test after [{}] failures",t,t.getClass().getSimpleName(),i + 1);
          }
        }
      }
      logger.error("Giving up after [{}] failures... marking test as failed",retryCount);
      throw caughtThrowable;
    }
  }
;
}
