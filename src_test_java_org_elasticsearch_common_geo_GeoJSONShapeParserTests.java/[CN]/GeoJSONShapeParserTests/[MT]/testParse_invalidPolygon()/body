{
  String invalidPoly1=XContentFactory.jsonBuilder().startObject().field("type","polygon").startArray("coordinates").startArray().startArray().value(-74.011).value(40.753).endArray().startArray().value(-75.022).value(41.783).endArray().endArray().endArray().endObject().string();
  XContentParser parser=JsonXContent.jsonXContent.createParser(invalidPoly1);
  parser.nextToken();
  ElasticsearchGeoAssertions.assertValidException(parser,ElasticsearchParseException.class);
  String invalidPoly2=XContentFactory.jsonBuilder().startObject().field("type","polygon").startArray("coordinates").startArray().startArray().value(-74.011).value(40.753).endArray().endArray().endArray().endObject().string();
  parser=JsonXContent.jsonXContent.createParser(invalidPoly2);
  parser.nextToken();
  ElasticsearchGeoAssertions.assertValidException(parser,ElasticsearchParseException.class);
  String invalidPoly3=XContentFactory.jsonBuilder().startObject().field("type","polygon").startArray("coordinates").startArray().startArray().endArray().endArray().endArray().endObject().string();
  parser=JsonXContent.jsonXContent.createParser(invalidPoly3);
  parser.nextToken();
  ElasticsearchGeoAssertions.assertValidException(parser,ElasticsearchParseException.class);
  String invalidPoly4=XContentFactory.jsonBuilder().startObject().field("type","polygon").startArray("coordinates").startArray().startArray().nullValue().nullValue().endArray().endArray().endArray().endObject().string();
  parser=JsonXContent.jsonXContent.createParser(invalidPoly4);
  parser.nextToken();
  ElasticsearchGeoAssertions.assertValidException(parser,ElasticsearchIllegalArgumentException.class);
  String invalidPoly5=XContentFactory.jsonBuilder().startObject().field("type","polygon").startArray("coordinates").nullValue().nullValue().endArray().endObject().string();
  parser=JsonXContent.jsonXContent.createParser(invalidPoly5);
  parser.nextToken();
  ElasticsearchGeoAssertions.assertValidException(parser,ElasticsearchIllegalArgumentException.class);
  String invalidPoly6=XContentFactory.jsonBuilder().startObject().field("type","polygon").startArray("coordinates").endArray().endObject().string();
  parser=JsonXContent.jsonXContent.createParser(invalidPoly6);
  parser.nextToken();
  ElasticsearchGeoAssertions.assertValidException(parser,ElasticsearchParseException.class);
}
