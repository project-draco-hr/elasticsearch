{
  String dateAsString;
  if (jsonContext.jp().getCurrentToken() == JsonToken.VALUE_NULL) {
    dateAsString=nullValue;
  }
 else {
    dateAsString=jsonContext.jp().getText();
  }
  if (dateAsString == null) {
    return null;
  }
  long value=dateTimeFormatter.formatter().parseMillis(dateAsString);
  Field field=null;
  if (stored()) {
    field=new Field(names.indexName(),Numbers.longToBytes(value),store);
    if (indexed()) {
      field.setTokenStream(popCachedStream(precisionStep).setLongValue(value));
    }
  }
 else   if (indexed()) {
    field=new Field(names.indexName(),popCachedStream(precisionStep).setLongValue(value));
  }
  return field;
}
