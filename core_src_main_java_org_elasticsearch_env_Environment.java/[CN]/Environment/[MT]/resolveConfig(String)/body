{
  Path f=configFile.resolve(path);
  if (Files.exists(f)) {
    try {
      return f.toUri().toURL();
    }
 catch (    MalformedURLException e) {
      throw new FailedToResolveConfigException("Failed to resolve path [" + f + "]",e);
    }
  }
  URL resource=getClass().getClassLoader().getResource(path);
  if (resource != null) {
    return resource;
  }
  if (!path.startsWith("config/")) {
    resource=getClass().getClassLoader().getResource("config/" + path);
    if (resource != null) {
      return resource;
    }
  }
  throw new FailedToResolveConfigException("Failed to resolve config path [" + path + "], tried config path ["+ f+ "] and classpath");
}
