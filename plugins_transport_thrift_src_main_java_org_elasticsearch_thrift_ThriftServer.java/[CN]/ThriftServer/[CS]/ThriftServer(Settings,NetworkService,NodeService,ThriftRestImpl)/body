{
  super(settings);
  this.client=client;
  this.networkService=networkService;
  this.nodeService=nodeService;
  this.frame=(int)componentSettings.getAsBytesSize("frame",new ByteSizeValue(-1)).bytes();
  this.port=componentSettings.get("port","9500-9600");
  this.bindHost=componentSettings.get("bind_host",settings.get("transport.bind_host",settings.get("transport.host")));
  this.publishHost=componentSettings.get("publish_host",settings.get("transport.publish_host",settings.get("transport.host")));
  if (componentSettings.get("protocol","binary").equals("compact")) {
    protocolFactory=new TCompactProtocol.Factory();
  }
 else {
    protocolFactory=new TBinaryProtocol.Factory();
  }
}
