{
  this.settings=settings;
  if (settings.get("path.home") != null) {
    homeFile=Paths.get(cleanPath(settings.get("path.home")));
  }
 else {
    homeFile=Paths.get(System.getProperty("user.dir"));
  }
  if (settings.get("path.conf") != null) {
    configFile=Paths.get(cleanPath(settings.get("path.conf")));
  }
 else {
    configFile=homeFile.resolve("config");
  }
  if (settings.get("path.plugins") != null) {
    pluginsFile=Paths.get(cleanPath(settings.get("path.plugins")));
  }
 else {
    pluginsFile=homeFile.resolve("plugins");
  }
  if (settings.get("path.work") != null) {
    workFile=Paths.get(cleanPath(settings.get("path.work")));
  }
 else {
    workFile=homeFile.resolve("work");
  }
  workWithClusterFile=workFile.resolve(ClusterName.clusterNameFromSettings(settings).value());
  String[] dataPaths=settings.getAsArray("path.data");
  if (dataPaths.length > 0) {
    dataFiles=new Path[dataPaths.length];
    dataWithClusterFiles=new Path[dataPaths.length];
    for (int i=0; i < dataPaths.length; i++) {
      dataFiles[i]=Paths.get(dataPaths[i]);
      dataWithClusterFiles[i]=dataFiles[i].resolve(ClusterName.clusterNameFromSettings(settings).value());
    }
  }
 else {
    dataFiles=new Path[]{homeFile.resolve("data")};
    dataWithClusterFiles=new Path[]{homeFile.resolve("data").resolve(ClusterName.clusterNameFromSettings(settings).value())};
  }
  if (settings.get("path.logs") != null) {
    logsFile=Paths.get(cleanPath(settings.get("path.logs")));
  }
 else {
    logsFile=homeFile.resolve("logs");
  }
}
