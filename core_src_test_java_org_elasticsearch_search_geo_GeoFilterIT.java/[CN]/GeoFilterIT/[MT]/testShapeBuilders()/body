{
  try {
    ShapeBuilders.newPolygon().point(-10,-10).point(10,10).point(-10,10).point(10,-10).close().build();
    fail("Self intersection not detected");
  }
 catch (  InvalidShapeException e) {
  }
  ShapeBuilders.newPolygon().point(-10,-10).point(-10,10).point(10,10).point(10,-10).hole(new LineStringBuilder().point(-5,-5).point(-5,5).point(5,5).point(5,-5).close()).close().build();
  try {
    ShapeBuilders.newPolygon().point(-10,-10).point(-10,10).point(10,10).point(10,-10).hole(new LineStringBuilder().point(-5,-5).point(-5,11).point(5,11).point(5,-5).close()).close().build();
    fail("Self intersection not detected");
  }
 catch (  InvalidShapeException e) {
  }
  try {
    ShapeBuilders.newPolygon().point(-10,-10).point(-10,10).point(10,10).point(10,-10).hole(new LineStringBuilder().point(-5,-5).point(-5,5).point(5,5).point(5,-5).close()).hole(new LineStringBuilder().point(-5,-6).point(5,-6).point(5,-4).point(-5,-4).close()).close().build();
    fail("Intersection of holes not detected");
  }
 catch (  InvalidShapeException e) {
  }
  try {
    ShapeBuilders.newPolygon().point(-10,-10).point(-10,10).point(-5,10).point(-5,-5).point(-5,20).point(10,20).point(10,-10).close().build();
    fail("Self intersection not detected");
  }
 catch (  InvalidShapeException e) {
  }
  ShapeBuilders.newMultiPolygon().polygon(new PolygonBuilder().point(-10,-10).point(-10,10).point(10,10).point(10,-10).hole(new LineStringBuilder().point(-5,-5).point(-5,5).point(5,5).point(5,-5).close()).close()).polygon(new PolygonBuilder().point(-4,-4).point(-4,4).point(4,4).point(4,-4).close()).build();
}
