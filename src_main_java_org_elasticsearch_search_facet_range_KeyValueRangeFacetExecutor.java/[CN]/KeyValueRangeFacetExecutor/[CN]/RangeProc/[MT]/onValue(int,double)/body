{
  for (  RangeFacet.Entry entry : entries) {
    if (entry.foundInDoc) {
      continue;
    }
    if (value >= entry.getFrom() && value < entry.getTo()) {
      entry.foundInDoc=true;
      entry.count++;
      if (valueValues.isMultiValued()) {
        for (DoubleValues.Iter iter=valueValues.getIter(docId); iter.hasNext(); ) {
          double valueValue=iter.next();
          entry.total+=valueValue;
          if (valueValue < entry.min) {
            entry.min=valueValue;
          }
          if (valueValue > entry.max) {
            entry.max=valueValue;
          }
          entry.totalCount++;
        }
      }
 else       if (valueValues.hasValue(docId)) {
        double valueValue=valueValues.getValue(docId);
        entry.totalCount++;
        entry.total+=valueValue;
        if (valueValue < entry.min) {
          entry.min=valueValue;
        }
        if (valueValue > entry.max) {
          entry.max=valueValue;
        }
      }
    }
  }
}
