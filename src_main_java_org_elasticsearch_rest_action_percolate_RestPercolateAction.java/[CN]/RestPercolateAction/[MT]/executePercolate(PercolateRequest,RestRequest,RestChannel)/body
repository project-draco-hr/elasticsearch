{
  percolateRequest.listenerThreaded(false);
  if (restRequest.hasParam("operation_threading")) {
    BroadcastOperationThreading operationThreading=BroadcastOperationThreading.fromString(restRequest.param("operation_threading"),null);
    if (operationThreading == BroadcastOperationThreading.NO_THREADS) {
      operationThreading=BroadcastOperationThreading.SINGLE_THREAD;
    }
    percolateRequest.operationThreading(operationThreading);
  }
  client.percolate(percolateRequest,new RestToXContentListener<PercolateResponse>(restChannel));
}
