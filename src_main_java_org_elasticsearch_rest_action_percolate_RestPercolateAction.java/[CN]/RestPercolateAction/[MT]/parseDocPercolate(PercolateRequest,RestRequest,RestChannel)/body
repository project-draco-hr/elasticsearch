{
  percolateRequest.indices(Strings.splitStringByCommaToArray(restRequest.param("index")));
  percolateRequest.documentType(restRequest.param("type"));
  percolateRequest.routing(restRequest.param("routing"));
  percolateRequest.preference(restRequest.param("preference"));
  BytesReference content=null;
  if (restRequest.hasContent()) {
    content=restRequest.content();
  }
 else {
    String source=restRequest.param("source");
    if (source != null) {
      content=new BytesArray(source);
    }
  }
  percolateRequest.source(content,restRequest.contentUnsafe());
  percolateRequest.indicesOptions(IndicesOptions.fromRequest(restRequest,percolateRequest.indicesOptions()));
  executePercolate(percolateRequest,restRequest,restChannel);
}
