{
  long chunkSize=shardSize.bytes() / 10;
  assertTrue(client().admin().cluster().prepareUpdateSettings().setTransientSettings(Settings.builder().put(RecoverySettings.INDICES_RECOVERY_MAX_BYTES_PER_SEC_SETTING.getKey(),chunkSize,ByteSizeUnit.BYTES).put(RecoverySettings.INDICES_RECOVERY_FILE_CHUNK_SIZE_SETTING.getKey(),chunkSize,ByteSizeUnit.BYTES)).get().isAcknowledged());
}
