{
  int numFeatures=randomIntBetween(1,allFeatures.length);
  List<String> features=new ArrayList<String>(numFeatures);
  for (int i=0; i < numFeatures; i++) {
    features.add(randomFrom(allFeatures));
  }
  GetIndexResponse response=client().admin().indices().prepareGetIndex().addIndices("idx").setFeatures(features.toArray(new String[features.size()])).get();
  String[] indices=response.indices();
  assertThat(indices,notNullValue());
  assertThat(indices.length,equalTo(1));
  assertThat(indices[0],equalTo("idx"));
  if (features.contains("_alias") || features.contains("_aliases")) {
    assertAliases(response,"idx");
  }
 else {
    assertEmptyAliases(response);
  }
  if (features.contains("_mapping") || features.contains("_mappings")) {
    assertMappings(response,"idx");
  }
 else {
    assertEmptyMappings(response);
  }
  if (features.contains("_settings")) {
    assertSettings(response,"idx");
  }
 else {
    assertEmptySettings(response);
  }
  if (features.contains("_warmer") || features.contains("_warmers")) {
    assertWarmers(response,"idx");
  }
 else {
    assertEmptyWarmers(response);
  }
}
