{
  SecurityManager sm=System.getSecurityManager();
  if (sm != null) {
    sm.checkPermission(new SpecialPermission());
  }
  return AccessController.doPrivileged(new PrivilegedAction<String>(){
    @Override public String run(){
      ClassLoader tccl=Thread.currentThread().getContextClassLoader();
      try {
        Thread.currentThread().setContextClassLoader(hadoopCL);
        return doGetHadoopVersion(hadoopCL);
      }
  finally {
        Thread.currentThread().setContextClassLoader(tccl);
      }
    }
  }
,Utils.hadoopACC());
}
