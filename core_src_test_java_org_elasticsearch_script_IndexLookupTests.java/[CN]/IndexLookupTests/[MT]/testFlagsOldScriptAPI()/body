{
  initTestData();
  String script=createPositionsArrayScriptDefaultGetOldScriptAPI("int_payload_field","b","position");
  script=createPositionsArrayScriptOldScriptAPI("int_payload_field","b","_POSITIONS","position");
  checkArrayValsInEachDocOldScriptAPI(script,expectedPositionsArray,3);
  script=createPositionsArrayScriptOldScriptAPI("int_payload_field","b","_OFFSETS","position");
  checkArrayValsInEachDocOldScriptAPI(script,expectedPositionsArray,3);
  script=createPositionsArrayScriptOldScriptAPI("int_payload_field","b","_OFFSETS","startOffset");
  checkArrayValsInEachDocOldScriptAPI(script,expectedStartOffsetsArray,3);
  script=createPositionsArrayScriptOldScriptAPI("int_payload_field","b","_OFFSETS","endOffset");
  checkArrayValsInEachDocOldScriptAPI(script,expectedEndOffsetsArray,3);
  script=createPositionsArrayScriptOldScriptAPI("int_payload_field","b","_OFFSETS","payloadAsInt(-1)");
  checkArrayValsInEachDocOldScriptAPI(script,expectedPayloadsArray,3);
  script=createPositionsArrayScriptOldScriptAPI("int_payload_field","b","_PAYLOADS","position");
  checkArrayValsInEachDocOldScriptAPI(script,expectedPositionsArray,3);
  script=createPositionsArrayScriptOldScriptAPI("int_payload_field","b","_PAYLOADS","startOffset");
  checkArrayValsInEachDocOldScriptAPI(script,expectedStartOffsetsArray,3);
  script=createPositionsArrayScriptOldScriptAPI("int_payload_field","b","_PAYLOADS","endOffset");
  checkArrayValsInEachDocOldScriptAPI(script,expectedEndOffsetsArray,3);
  script=createPositionsArrayScriptOldScriptAPI("int_payload_field","b","_PAYLOADS","payloadAsInt(-1)");
  checkArrayValsInEachDocOldScriptAPI(script,expectedPayloadsArray,3);
  String allFlags="_POSITIONS | _OFFSETS | _PAYLOADS";
  script=createPositionsArrayScriptOldScriptAPI("int_payload_field","b",allFlags,"position");
  checkArrayValsInEachDocOldScriptAPI(script,expectedPositionsArray,3);
  script=createPositionsArrayScriptOldScriptAPI("int_payload_field","b",allFlags,"startOffset");
  checkArrayValsInEachDocOldScriptAPI(script,expectedStartOffsetsArray,3);
  script=createPositionsArrayScriptOldScriptAPI("int_payload_field","b",allFlags,"endOffset");
  checkArrayValsInEachDocOldScriptAPI(script,expectedEndOffsetsArray,3);
  script=createPositionsArrayScriptOldScriptAPI("int_payload_field","b",allFlags,"payloadAsInt(-1)");
  checkArrayValsInEachDocOldScriptAPI(script,expectedPayloadsArray,3);
  script=createPositionsArrayScriptOldScriptAPI("int_payload_field","b",includeAllWithoutRecordFlag,"position");
  checkArrayValsInEachDocOldScriptAPI(script,expectedPositionsArray,3);
  script=createPositionsArrayScriptOldScriptAPI("int_payload_field","b",includeAllWithoutRecordFlag,"startOffset");
  checkArrayValsInEachDocOldScriptAPI(script,expectedStartOffsetsArray,3);
  script=createPositionsArrayScriptOldScriptAPI("int_payload_field","b",includeAllWithoutRecordFlag,"endOffset");
  checkArrayValsInEachDocOldScriptAPI(script,expectedEndOffsetsArray,3);
  script=createPositionsArrayScriptOldScriptAPI("int_payload_field","b",includeAllWithoutRecordFlag,"payloadAsInt(-1)");
  checkArrayValsInEachDocOldScriptAPI(script,expectedPayloadsArray,3);
}
