{
  prepareCreate("text").setSettings(settingsBuilder().put(SETTING_NUMBER_OF_SHARDS,5).put(SETTING_NUMBER_OF_REPLICAS,0)).get();
  ensureGreen();
  indexRandom(true,client().prepareIndex("text","type1","1").setSource("field1","foobar1").setRouting("1"),client().prepareIndex("text","type1","2").setSource("field1","foobar2").setRouting("2"),client().prepareIndex("text","type1","3").setSource("field1","foobar3").setRouting("3"));
  Suggest suggest=searchSuggest(client(),"foobar",termSuggestion("simple").size(10).minDocFreq(0).field("field1").suggestMode("always"));
  ElasticsearchAssertions.assertSuggestionSize(suggest,0,3,"simple");
}
