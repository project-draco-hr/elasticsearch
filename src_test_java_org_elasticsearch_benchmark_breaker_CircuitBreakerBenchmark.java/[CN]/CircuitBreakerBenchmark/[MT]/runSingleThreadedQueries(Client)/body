{
  long totalTime=0;
  for (int i=0; i < QUERIES; i++) {
    if (i % 10 == 0) {
      System.out.println("--> query #" + i);
    }
    SearchResponse resp=client.prepareSearch(INDEX).setQuery(matchAllQuery()).addAggregation(terms("myterms").size(AGG_SIZE).field("num")).setSearchType(SearchType.COUNT).get();
    Terms terms=resp.getAggregations().get("myterms");
    assertNotNull("term aggs were calculated",terms);
    totalTime+=resp.getTookInMillis();
  }
  System.out.println("--> single threaded average time: " + (totalTime / QUERIES) + "ms");
}
