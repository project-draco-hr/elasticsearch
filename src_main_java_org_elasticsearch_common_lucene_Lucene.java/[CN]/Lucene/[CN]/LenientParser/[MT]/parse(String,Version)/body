{
  if (Strings.hasLength(toParse)) {
    try {
      return Version.parseLeniently(toParse);
    }
 catch (    IllegalArgumentException e) {
      final String parsedMatchVersion=toParse.toUpperCase(Locale.ROOT).replaceFirst("^(\\d+)\\.(\\d+).(\\d+)$","LUCENE_$1_$2");
      return Version.valueOf(parsedMatchVersion);
    }
  }
  return defaultValue;
}
