{
  Explanation explanation;
  if (in.getVersion().onOrAfter(org.elasticsearch.Version.V_1_4_0) && in.readBoolean()) {
    Boolean match=in.readOptionalBoolean();
    explanation=new ComplexExplanation();
    ((ComplexExplanation)explanation).setMatch(match);
  }
 else {
    explanation=new Explanation();
  }
  explanation.setValue(in.readFloat());
  explanation.setDescription(in.readString());
  if (in.readBoolean()) {
    int size=in.readVInt();
    for (int i=0; i < size; i++) {
      explanation.addDetail(readExplanation(in));
    }
  }
  return explanation;
}
