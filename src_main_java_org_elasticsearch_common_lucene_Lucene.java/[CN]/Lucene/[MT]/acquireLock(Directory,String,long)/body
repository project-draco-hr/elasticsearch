{
  final Lock writeLock=directory.makeLock(lockName);
  if (writeLock.obtain(timeout) == false) {
    throw new LockObtainFailedException("failed to obtain lock: " + writeLock);
  }
  return writeLock;
}
