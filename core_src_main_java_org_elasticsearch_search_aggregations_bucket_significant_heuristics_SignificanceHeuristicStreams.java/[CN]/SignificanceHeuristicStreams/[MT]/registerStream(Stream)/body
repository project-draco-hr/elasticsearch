{
  if (STREAMS.containsKey(stream.getName())) {
    throw new IllegalArgumentException("Can't register stream with name [" + stream.getName() + "] more than once");
  }
  HashMap<String,Stream> map=new HashMap<>();
  map.putAll(STREAMS);
  map.put(stream.getName(),stream);
  STREAMS=Collections.unmodifiableMap(map);
}
