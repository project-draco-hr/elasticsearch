{
  IndexQueryParserService queryParser=queryParser();
  BooleanQuery bq=(BooleanQuery)queryParser.parse(boolQuery().must(termQuery("foo","bar"))).query();
  assertEquals(0,bq.getMinimumNumberShouldMatch());
  bq=(BooleanQuery)queryParser.parse(boolQuery().should(termQuery("foo","bar"))).query();
  assertEquals(0,bq.getMinimumNumberShouldMatch());
  ConstantScoreQuery csq=(ConstantScoreQuery)queryParser.parse(constantScoreQuery(boolQuery().must(termQuery("foo","bar")))).query();
  bq=(BooleanQuery)csq.getQuery();
  assertEquals(0,bq.getMinimumNumberShouldMatch());
  csq=(ConstantScoreQuery)queryParser.parse(constantScoreQuery(boolQuery().should(termQuery("foo","bar")))).query();
  bq=(BooleanQuery)csq.getQuery();
  assertEquals(1,bq.getMinimumNumberShouldMatch());
}
