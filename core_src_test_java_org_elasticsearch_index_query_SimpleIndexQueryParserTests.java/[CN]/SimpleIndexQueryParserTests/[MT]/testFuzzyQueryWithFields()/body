{
  IndexQueryParserService queryParser=queryParser();
  String query=copyToStringFromClasspath("/org/elasticsearch/index/query/fuzzy-with-fields.json");
  Query parsedQuery=queryParser.parse(query).query();
  assertThat(parsedQuery,instanceOf(FuzzyQuery.class));
  FuzzyQuery fuzzyQuery=(FuzzyQuery)parsedQuery;
  assertThat(fuzzyQuery.getTerm(),equalTo(new Term("name.first","sh")));
  assertThat(fuzzyQuery.getMaxEdits(),equalTo(Fuzziness.AUTO.asDistance("sh")));
  assertThat(fuzzyQuery.getPrefixLength(),equalTo(1));
  assertThat(fuzzyQuery.getBoost(),equalTo(2.0f));
}
