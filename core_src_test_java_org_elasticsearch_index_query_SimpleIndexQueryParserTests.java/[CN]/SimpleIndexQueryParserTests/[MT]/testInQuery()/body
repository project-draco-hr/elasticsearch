{
  IndexQueryParserService queryParser=queryParser();
  Query parsedQuery=queryParser.parse(termsQuery("name.first",Lists.newArrayList("test1","test2","test3"))).query();
  assertThat(parsedQuery,instanceOf(BooleanQuery.class));
  BooleanQuery booleanQuery=(BooleanQuery)parsedQuery;
  BooleanClause[] clauses=booleanQuery.getClauses();
  assertThat(clauses.length,equalTo(3));
  assertThat(((TermQuery)clauses[0].getQuery()).getTerm(),equalTo(new Term("name.first","test1")));
  assertThat(clauses[0].getOccur(),equalTo(BooleanClause.Occur.SHOULD));
  assertThat(((TermQuery)clauses[1].getQuery()).getTerm(),equalTo(new Term("name.first","test2")));
  assertThat(clauses[1].getOccur(),equalTo(BooleanClause.Occur.SHOULD));
  assertThat(((TermQuery)clauses[2].getQuery()).getTerm(),equalTo(new Term("name.first","test3")));
  assertThat(clauses[2].getOccur(),equalTo(BooleanClause.Occur.SHOULD));
}
