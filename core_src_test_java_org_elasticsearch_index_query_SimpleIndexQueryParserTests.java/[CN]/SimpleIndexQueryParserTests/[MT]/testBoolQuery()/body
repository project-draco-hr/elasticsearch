{
  IndexQueryParserService queryParser=queryParser();
  String query=copyToStringFromClasspath("/org/elasticsearch/index/query/bool.json");
  Query parsedQuery=queryParser.parse(query).query();
  assertThat(parsedQuery,instanceOf(BooleanQuery.class));
  BooleanQuery booleanQuery=(BooleanQuery)parsedQuery;
  BooleanClause[] clauses=booleanQuery.getClauses();
  assertThat(clauses.length,equalTo(4));
  assertThat(((TermQuery)clauses[0].getQuery()).getTerm(),equalTo(new Term("content","test1")));
  assertThat(clauses[0].getOccur(),equalTo(BooleanClause.Occur.MUST));
  assertThat(((TermQuery)clauses[1].getQuery()).getTerm(),equalTo(new Term("content","test4")));
  assertThat(clauses[1].getOccur(),equalTo(BooleanClause.Occur.MUST));
  assertThat(((TermQuery)clauses[2].getQuery()).getTerm(),equalTo(new Term("content","test2")));
  assertThat(clauses[2].getOccur(),equalTo(BooleanClause.Occur.MUST_NOT));
  assertThat(((TermQuery)clauses[3].getQuery()).getTerm(),equalTo(new Term("content","test3")));
  assertThat(clauses[3].getOccur(),equalTo(BooleanClause.Occur.SHOULD));
}
