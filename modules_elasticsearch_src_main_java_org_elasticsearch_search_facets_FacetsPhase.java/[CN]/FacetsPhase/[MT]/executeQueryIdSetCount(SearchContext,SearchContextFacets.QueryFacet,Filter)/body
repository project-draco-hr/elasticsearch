{
  try {
    DocIdSet filterDocIdSet=facetFilter.getDocIdSet(context.searcher().getIndexReader());
    return OpenBitSet.intersectionCount(context.searcher().docIdSet(),(OpenBitSet)filterDocIdSet);
  }
 catch (  IOException e) {
    throw new FacetPhaseExecutionException(queryFacet.name(),"Failed to bitset facets for query [" + queryFacet.query() + "]",e);
  }
}
