{
  String mapping=XContentFactory.jsonBuilder().startObject().startObject("type").startObject("_boost").field("store","yes").field("index","not_analyzed").endObject().endObject().endObject().string();
  IndexService indexServices=createIndex("test");
  DocumentMapper docMapper=indexServices.mapperService().documentMapperParser().parse("type",mapping);
  assertThat(docMapper.boostFieldMapper().fieldType().stored(),equalTo(true));
  assertThat(docMapper.boostFieldMapper().fieldType().indexed(),equalTo(true));
  docMapper.refreshSource();
  docMapper=indexServices.mapperService().documentMapperParser().parse("type",docMapper.mappingSource().string());
  assertThat(docMapper.boostFieldMapper().fieldType().stored(),equalTo(true));
  assertThat(docMapper.boostFieldMapper().fieldType().indexed(),equalTo(true));
}
