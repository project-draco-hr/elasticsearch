{
  MappingMetaData md=new MappingMetaData("type1",new CompressedXContent("{}"),new MappingMetaData.Id("id"),new MappingMetaData.Routing(true,"routing"),new MappingMetaData.Timestamp(true,"timestamp","dateOptionalTime",TimestampFieldMapper.Defaults.DEFAULT_TIMESTAMP,null),false);
  byte[] bytes=jsonBuilder().startObject().field("field1","value1").field("field2","value2").startArray("id").value("id").endArray().field("routing","routing_value").field("timestamp","1").endObject().bytes().toBytes();
  MappingMetaData.ParseContext parseContext=md.createParseContext(null,"routing_value","1");
  try {
    md.parse(XContentFactory.xContent(bytes).createParser(bytes),parseContext);
    fail();
  }
 catch (  MapperParsingException ex) {
  }
  bytes=jsonBuilder().startObject().field("field1","value1").field("field2","value2").startObject("id").field("x","id").endObject().field("routing","routing_value").field("timestamp","1").endObject().bytes().toBytes();
  parseContext=md.createParseContext(null,"routing_value","1");
  try {
    md.parse(XContentFactory.xContent(bytes).createParser(bytes),parseContext);
    fail();
  }
 catch (  MapperParsingException ex) {
  }
}
