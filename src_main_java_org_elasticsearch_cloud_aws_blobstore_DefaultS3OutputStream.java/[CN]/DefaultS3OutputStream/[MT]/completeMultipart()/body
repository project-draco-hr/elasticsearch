{
  int retry=0;
  while (retry < getNumberOfRetries()) {
    try {
      doCompleteMultipart(getBlobStore(),getBucketName(),getBlobName(),multipartId,multiparts);
      multipartId=null;
      return;
    }
 catch (    AmazonS3Exception e) {
      if (shouldRetry(e) && retry < getNumberOfRetries()) {
        retry++;
      }
 else {
        abortMultipart();
        throw e;
      }
    }
  }
}
